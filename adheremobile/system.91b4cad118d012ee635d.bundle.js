"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[3109],{63109:(e,o,n)=>{n.d(o,{A:()=>E});var t=n(26322),l=n(78127),a=n(7429),c=n(31934),i=n.n(c),s=n(30988),r=n(92314);const m=e=>{const{action:o}=e;return(0,r.q)(e.action,t.createElement(s.A,{key:o.key,onClick:e.onAction,className:i()("adm-modal-button",{"adm-modal-button-primary":e.action.primary}),fill:e.action.primary?"solid":"none",size:e.action.primary?"large":"middle",block:!0,color:o.danger?"danger":"primary",loading:"auto",disabled:o.disabled},o.text))};var d=n(1556),v=n(54625),u=n(95976),f=n(2927);const y={actions:[],closeOnAction:!1,closeOnMaskClick:!1,getContainer:null},C=e=>{const o=(0,a.v)(y,e),n=t.createElement(t.Fragment,null,!!o.image&&t.createElement("div",{className:k("image-container")},t.createElement(d.A,{src:o.image,alt:"modal header image",width:"100%"})),!!o.header&&t.createElement("div",{className:k("header")},t.createElement(u.A,null,o.header)),!!o.title&&t.createElement("div",{className:k("title")},o.title),t.createElement("div",{className:k("content")},"string"==typeof o.content?t.createElement(u.A,null,o.content):o.content),t.createElement(v.A,{direction:"vertical",block:!0,className:i()(k("footer"),0===o.actions.length&&k("footer-empty"))},o.actions.map(((e,n)=>t.createElement(m,{key:e.key,action:e,onAction:()=>(0,l.sH)(void 0,void 0,void 0,(function*(){var t,l,a;yield Promise.all([null===(t=e.onClick)||void 0===t?void 0:t.call(e),null===(l=o.onAction)||void 0===l?void 0:l.call(o,e,n)]),o.closeOnAction&&(null===(a=o.onClose)||void 0===a||a.call(o))}))})))));return t.createElement(f.A,{className:i()(k(),o.className),style:o.style,afterClose:o.afterClose,afterShow:o.afterShow,showCloseButton:o.showCloseButton,closeOnMaskClick:o.closeOnMaskClick,onClose:o.onClose,visible:o.visible,getContainer:o.getContainer,bodyStyle:o.bodyStyle,bodyClassName:i()(k("body"),o.image&&k("with-image"),o.bodyClassName),maskStyle:o.maskStyle,maskClassName:o.maskClassName,stopPropagation:o.stopPropagation,disableBodyScroll:o.disableBodyScroll,destroyOnClose:o.destroyOnClose,forceRender:o.forceRender},n)};function k(e=""){return"adm-modal"+(e&&"-")+e}var b=n(26769);const g=new Set;function h(e){const o=(0,b.s)(t.createElement(C,Object.assign({},e,{afterClose:()=>{var n;g.delete(o.close),null===(n=e.afterClose)||void 0===n||n.call(e)}})));return g.add(o.close),o}var p=n(54148);const A={confirmText:"确认",cancelText:"取消"};const E=(0,n(44073).b)(C,{show:h,alert:function(e){const o={confirmText:(0,p.Y8)().locale.Modal.ok},n=(0,a.v)(o,e);return new Promise((e=>{h(Object.assign(Object.assign({},n),{closeOnAction:!0,actions:[{key:"confirm",text:n.confirmText,primary:!0}],onAction:n.onConfirm,onClose:()=>{var o;null===(o=n.onClose)||void 0===o||o.call(n),e()}}))}))},confirm:function(e){const{locale:o}=(0,p.Y8)(),n=(0,a.v)(A,{confirmText:o.common.confirm,cancelText:o.common.cancel},e);return new Promise((e=>{h(Object.assign(Object.assign({},n),{closeOnAction:!0,onClose:()=>{var o;null===(o=n.onClose)||void 0===o||o.call(n),e(!1)},actions:[{key:"confirm",text:n.confirmText,primary:!0,onClick:()=>(0,l.sH)(this,void 0,void 0,(function*(){var o;yield null===(o=n.onConfirm)||void 0===o?void 0:o.call(n),e(!0)}))},{key:"cancel",text:n.cancelText,onClick:()=>(0,l.sH)(this,void 0,void 0,(function*(){var o;yield null===(o=n.onCancel)||void 0===o?void 0:o.call(n),e(!1)}))}]}))}))},clear:function(){g.forEach((e=>{e()}))}})}}]);