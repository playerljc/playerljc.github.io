"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[9891],{9891:(e,a,t)=>{t.d(a,{A:()=>k});var l=t(26322),n=t(92314),r=t(34419),d=t.n(r),o=t(31934),i=t.n(o),s=t(7429),c=t(54148),u=t(71139),m=t.n(u),v=t(51840),f=t.n(v),y=t(55812);function h(e,a){return void 0===e||null===a?null:Array.isArray(a)?a:[a,a]}d().extend(m()),d().extend(f());const $="adm-calendar-picker-view",p={weekStartsOn:"Sunday",defaultValue:null,allowClear:!0,usePopup:!0,selectionMode:"single"},k=(0,l.forwardRef)(((e,a)=>{var t;const r=d()(),o=(0,s.v)(p,e),{locale:u}=(0,c.UK)(),m=[...u.Calendar.markItems];if("Sunday"===o.weekStartsOn){const e=m.pop();e&&m.unshift(e)}const[v,f]=(0,y.z)({value:void 0===o.value?void 0:h(o.selectionMode,o.value),defaultValue:h(o.selectionMode,o.defaultValue),onChange:e=>{var a,t;"single"===o.selectionMode?null===(a=o.onChange)||void 0===a||a.call(o,e?e[0]:null):"range"===o.selectionMode&&(null===(t=o.onChange)||void 0===t||t.call(o,e))}}),[k,g]=(0,l.useState)(!1),[S,C]=(0,l.useState)((()=>d()(v?v[0]:r).date(1)));(0,l.useImperativeHandle)(a,(()=>({jumpTo:e=>{let a;a="function"==typeof e?e({year:S.year(),month:S.month()+1}):e,C(function(e){return d()().year(e.year).month(e.month-1).date(1)}(a))},jumpToToday:()=>{C(d()().date(1))},getDateRange:()=>v})));const E=l.createElement("div",{className:`${$}-header`},l.createElement("div",{className:`${$}-title`},null!==(t=o.title)&&void 0!==t?t:u.Calendar.title)),M=(0,l.useMemo)((()=>o.max?d()(o.max):S.add(6,"month")),[o.max,S]),N=(0,l.useMemo)((()=>o.min?d()(o.min):S),[o.min,S]);const w=l.createElement("div",{className:`${$}-body`},function(){var e;const a=[];let t=N;for(;t.isSameOrBefore(M,"month");){const n=t.year(),d=t.month(),s={year:n,month:d+1};a.push(l.createElement("div",{key:`${n}-${d}`},l.createElement("div",{className:`${$}-title`},null===(e=u.Calendar.yearAndMonth)||void 0===e?void 0:e.replace(/\${(.*?)}/g,((e,a)=>{var t;return null===(t=s[a])||void 0===t?void 0:t.toString()}))),l.createElement("div",{className:`${$}-cells`},Array("Monday"===o.weekStartsOn?t.date(1).isoWeekday()-1:t.date(1).isoWeekday()).fill(null).map(((e,a)=>l.createElement("div",{key:a,className:`${$}-cell`}))),Array(t.daysInMonth()).fill(null).map(((e,n)=>{var d;const s=t.date(n+1);let c=!1,m=!1,y=!1,h=!1,p=!1;if(v){const[e,t]=v;m=s.isSame(e,"day"),y=s.isSame(t,"day"),c=m||y||s.isAfter(e,"day")&&s.isBefore(t,"day"),c&&(h=(a.length%7==0||s.isSame(s.startOf("month"),"day"))&&!m,p=(a.length%7==6||s.isSame(s.endOf("month"),"day"))&&!y)}const S=o.shouldDisableDate?o.shouldDisableDate(s.toDate()):M&&s.isAfter(M,"day")||N&&s.isBefore(N,"day");return l.createElement("div",{key:s.valueOf(),className:i()(`${$}-cell`,{[`${$}-cell-today`]:s.isSame(r,"day"),[`${$}-cell-selected`]:c,[`${$}-cell-selected-begin`]:m,[`${$}-cell-selected-end`]:y,[`${$}-cell-selected-row-begin`]:h,[`${$}-cell-selected-row-end`]:p,[`${$}-cell-disabled`]:!!S}),onClick:()=>{if(!o.selectionMode)return;if(S)return;const e=s.toDate();function a(){if(!o.allowClear)return!1;if(!v)return!1;const[e,a]=v;return s.isSame(e,"date")&&s.isSame(a,"day")}if("single"===o.selectionMode){if(o.allowClear&&a())return void f(null);f([e,e])}else if("range"===o.selectionMode){if(!v)return f([e,e]),void g(!0);if(a())return f(null),void g(!1);if(k){const a=v[0];f(a>e?[e,a]:[a,e]),g(!1)}else f([e,e]),g(!0)}}},l.createElement("div",{className:`${$}-cell-top`},(()=>{var e;const a=null===(e=o.renderTop)||void 0===e?void 0:e.call(o,s.toDate());if(a)return a;if("range"===o.selectionMode){if(m)return u.Calendar.start;if(y)return u.Calendar.end}return s.isSame(r,"day")&&!c?u.Calendar.today:void 0})()),l.createElement("div",{className:`${$}-cell-date`},o.renderDate?o.renderDate(s.toDate()):s.date()),l.createElement("div",{className:`${$}-cell-bottom`},null===(d=o.renderBottom)||void 0===d?void 0:d.call(o,s.toDate())))}))))),t=t.add(1,"month")}return a}()),D=l.createElement("div",{className:`${$}-mark`},m.map(((e,a)=>l.createElement("div",{key:a,className:`${$}-mark-cell`},e))));return(0,n.q)(o,l.createElement("div",{className:$},E,D,w))}))}}]);