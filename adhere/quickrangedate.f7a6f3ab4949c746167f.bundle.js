"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[1191],{39642:(e,n,a)=>{a.r(n),a.d(n,{default:()=>T});var t=a(26322),u=a(19994),l=a(74728),r=a(58008),o=a(59223),s=a(31934),c=a.n(s),v=a(34419),d=a.n(v),i=a(55958),y=a.n(i),p=a(59418),m=function(){return(m=Object.assign||function(e){for(var n,a=1,t=arguments.length;a<t;a++)for(var u in n=arguments[a])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e}).apply(this,arguments)};d().extend(y());var f="adhere-ui-quick-range-date",g=new Map([["a-d",function(e){return p.Ay.vHtml("近{value}天",{value:e})}],["a-w",function(e){return p.Ay.vHtml("近{value}周",{value:e})}],["a-M",function(e){return p.Ay.vHtml("近{value}月",{value:e})}],["a-Q",function(e){return p.Ay.vHtml("近{value}季度",{value:e})}],["a-y",function(e){return p.Ay.vHtml("近{value}年",{value:e})}],["a-h",function(e){return p.Ay.vHtml("近{value}小时",{value:e})}],["a-m",function(e){return p.Ay.vHtml("近{value}分钟",{value:e})}],["a-s",function(e){return p.Ay.vHtml("近{value}秒",{value:e})}],["a-ms",function(e){return p.Ay.vHtml("近{value}毫秒",{value:e})}],["b-d",function(e){return p.Ay.vHtml("未来{value}天",{value:e})}],["b-w",function(e){return p.Ay.vHtml("未来{value}周",{value:e})}],["b-M",function(e){return p.Ay.vHtml("未来{value}月",{value:e})}],["b-Q",function(e){return p.Ay.vHtml("未来{value}季度",{value:e})}],["b-y",function(e){return p.Ay.vHtml("未来{value}年",{value:e})}],["b-h",function(e){return p.Ay.vHtml("未来{value}小时",{value:e})}],["b-m",function(e){return p.Ay.vHtml("未来{value}分钟",{value:e})}],["b-s",function(e){return p.Ay.vHtml("未来{value}秒",{value:e})}],["b-ms",function(e){return p.Ay.vHtml("未来{value}毫秒",{value:e})}],["custom",function(){return p.Ay.v("自定义")}]]);function b(e){var n,a;if(e)return a=e.type,n=e.value,k(a)||null!=e&&e.start&&null!=e&&e.end?e:(a=D(a,n),m(m({},e),{start:a[0],end:a[1]}))}var h=function(e){var n;if(e)return n=e.type,e=e.value,k(n)?n:[n,e].toString()},V=function(e){return e.filter((function(e){return!!e})).length?e.map((function(e){return d()(e)})):null},R=function(e){return e&&e.length?e.map((function(e){return e.valueOf()})):[void 0,void 0]},D=function(e,n){var a=(e=e.split("-"))[0],t=(e=e[1],d()());return"b"===a?[t.subtract(n,e).valueOf(),t.valueOf()]:"a"===a?[t.valueOf(),t.add(n,e).valueOf()]:[void 0,void 0]},E=function(e){var n,a=e.type;e=e.value;return null==(n=g.get(a))?void 0:n(k(a)?void 0:e)},k=function(e){return"custom"===e},C=(0,t.memo)((function(e){var n=e.className,a=e.style,u=e.config,s=e.value,v=e.onChange,d=e.radioGroupProps,i=e.rangePickerProps,y=(e=e.children,(C=(0,t.useState)(b(s)))[0]),p=C[1],g=(0,t.useMemo)((function(){return u||[{type:"a-d",value:7},{type:"a-w",value:1},{type:"a-M",value:3},{type:"a-Q",value:1},{type:"a-y",value:1},{type:"a-h",value:24},{type:"a-m",value:60},{type:"a-s",value:60},{type:"a-ms",value:1e3},{type:"b-d",value:7},{type:"b-w",value:1},{type:"b-M",value:3},{type:"b-Q",value:1},{type:"b-y",value:1},{type:"b-h",value:24},{type:"b-m",value:60},{type:"b-s",value:60},{type:"b-ms",value:1e3},{type:"custom"}]}),[u]),C=(0,t.useMemo)((function(){return t.createElement("div",{className:"".concat(f,"-group")},t.createElement(r.Ay.Group,m({value:h(y)},null!=d?d:{},{optionType:"button",buttonStyle:"solid"}),g.map((function(e){var n=e.type,a=e.value,u=e.label,l=(e=e.render,{type:n,value:a}),o=h(l);return t.createElement(r.Ay.Button,{key:o,value:o,onChange:function(){var e=D(n,a);e=m(m({},l),{start:e[0],end:e[1]});p(e),null!=v&&v(e)}},null!=(e=null!=(o=null==e?void 0:e(s))?o:u)?e:E({type:n,value:a}))}))),k(null==y?void 0:y.type)&&t.createElement("div",{className:"".concat(f,"-range")},t.createElement(l.A.RangePicker,m({},null!=i?i:{},{value:V([null==y?void 0:y.start,null==y?void 0:y.end]),onChange:function(e){var n=R(e);p((function(e){return{type:"custom",value:void 0,start:n[0],end:n[1]}})),null!=v&&v({type:"custom",value:void 0,start:n[0],end:n[1]})}}))))}),[g,y,i,d]);return(0,o.A)((function(){p(b(s))}),[s]),t.createElement("div",{className:c()(f,null!=n?n:""),style:null!=a?a:{}},e&&e({defaultElement:C,value:s,onChange:function(e){var n;k(null==e?void 0:e.type)||(n=D(e.type,e.value),e=m(m({},e),{start:n[0],end:n[1]})),p(e),null!=v&&v(e)}}),!e&&C)}));C.displayName="QuickRangeDate",C.sync=b,C.stringValue=h,C.getLabel=E,C.numberToDayjs=V,C.datesToNumbers=R,C.getValueEntityByStringValue=function(e){return{type:(e=e.split(","))[0],value:Number(e[1])}};const Q=C,A=()=>{const[e,n]=(0,t.useState)({type:"custom",value:[],start:d()().subtract(2,"day").valueOf(),end:d()().subtract(1,"day").valueOf()});return t.createElement(Q,{value:e,config:[{type:"a-d",value:1},{type:"a-w",value:1},{type:"a-M",value:1},{type:"a-Q",value:1},{type:"a-y",value:1},{type:"a-h",value:1},{type:"a-m",value:1},{type:"a-s",value:1},{type:"a-ms",value:1},{type:"custom"}],onChange:e=>{console.log(e),n(e)}})};var P=a(89765),j=a(80711);const S=()=>{const[e]=P.A.useForm();return t.createElement(P.A,{form:e},t.createElement(P.A.Item,{name:"dateRange",initialValue:{type:"custom",value:[],start:d()().subtract(2,"day").valueOf(),end:d()().subtract(1,"day").valueOf()}},t.createElement(Q,{config:[{type:"a-d",value:1},{type:"a-w",value:1},{type:"a-M",value:1},{type:"a-Q",value:1},{type:"a-y",value:1},{type:"a-h",value:1},{type:"a-m",value:1},{type:"a-s",value:1},{type:"a-ms",value:1},{type:"custom"}]})),t.createElement(j.Ay,{onClick:()=>{console.log(e.getFieldValue())}},"获取"))};var H=a(87318);const O=()=>{const[e,n]=(0,t.useState)({type:"custom",value:[],start:d()().subtract(2,"day").valueOf(),end:d()().subtract(1,"day").valueOf()}),a=[{type:"a-d",value:1},{type:"a-w",value:1},{type:"a-M",value:1},{type:"a-Q",value:1},{type:"a-y",value:1},{type:"a-h",value:1},{type:"a-m",value:1},{type:"a-s",value:1},{type:"a-ms",value:1},{type:"custom"}];return t.createElement(Q,{value:e,config:a,onChange:e=>{console.log(e),n(e)}},(e=>{let{defaultElement:n,value:u,onChange:r}=e;return t.createElement("div",null,t.createElement(H.A,{value:Q.stringValue(u),options:a.map((e=>({label:Q.getLabel(e),value:Q.stringValue(e)}))),onChange:e=>{const{type:n,value:a}=Q.getValueEntityByStringValue(e);r({type:n,value:a})}}),"custom"===(null==u?void 0:u.type)&&t.createElement(l.A.RangePicker,{value:Q.numberToDayjs([null==u?void 0:u.start,null==u?void 0:u.end]),onChange:e=>{const n=Q.datesToNumbers(e);r({type:"custom",value:void 0,start:n[0],end:n[1]})}}))}))},w=()=>{const[e,n]=(0,t.useState)();return t.createElement(Q,{value:e,onChange:e=>{console.log(e),n(e)}})},T=()=>t.createElement(u.Ay,null,t.createElement(u.wn,{title:"QuickRangeDate"},t.createElement("p",null,"快速时间选取")),t.createElement(u.Wc,{title:"代码演示",columnCount:1,config:[{id:"p1",mode:"code",scope:{React:t},cardProps:{description:{title:"基本使用",info:"基本使用"}},type:"PlayGround",codeText:"import dayjs from 'dayjs';\nimport React, { useState } from 'react';\n\nimport { QuickRangeDate } from '@baifendian/adhere';\n\nexport default () => {\n  const [value, setValue] = useState({\n    type: 'custom',\n    value: [],\n    start: dayjs().subtract(2, 'day').valueOf(),\n    end: dayjs().subtract(1, 'day').valueOf(),\n  });\n\n  return (\n    <QuickRangeDate\n      value={value}\n      config={[\n        {\n          type: 'a-d',\n          value: 1,\n        },\n        {\n          type: 'a-w',\n          value: 1,\n        },\n        {\n          type: 'a-M',\n          value: 1,\n        },\n        {\n          type: 'a-Q',\n          value: 1,\n        },\n        {\n          type: 'a-y',\n          value: 1,\n        },\n        {\n          type: 'a-h',\n          value: 1,\n        },\n        {\n          type: 'a-m',\n          value: 1,\n        },\n        {\n          type: 'a-s',\n          value: 1,\n        },\n        {\n          type: 'a-ms',\n          value: 1,\n        },\n        {\n          type: 'custom',\n        },\n      ]}\n      onChange={(value) => {\n        console.log(value);\n        setValue(value);\n      }}\n    />\n  );\n};\n",renderChildren:()=>t.createElement(A,null)},{id:"p2",mode:"code",scope:{React:t},cardProps:{description:{title:"Form中使用",info:"Form中使用"}},type:"PlayGround",codeText:"import { Button, Form } from 'antd';\nimport dayjs from 'dayjs';\nimport React from 'react';\n\nimport { QuickRangeDate } from '@baifendian/adhere';\n\nexport default () => {\n  const config = [\n    {\n      type: 'a-d',\n      value: 1,\n    },\n    {\n      type: 'a-w',\n      value: 1,\n    },\n    {\n      type: 'a-M',\n      value: 1,\n    },\n    {\n      type: 'a-Q',\n      value: 1,\n    },\n    {\n      type: 'a-y',\n      value: 1,\n    },\n    {\n      type: 'a-h',\n      value: 1,\n    },\n    {\n      type: 'a-m',\n      value: 1,\n    },\n    {\n      type: 'a-s',\n      value: 1,\n    },\n    {\n      type: 'a-ms',\n      value: 1,\n    },\n    {\n      type: 'custom',\n    },\n  ];\n\n  const [form] = Form.useForm();\n\n  return (\n    <Form form={form}>\n      <Form.Item\n        name=\"dateRange\"\n        initialValue={{\n          type: 'custom',\n          value: [],\n          start: dayjs().subtract(2, 'day').valueOf(),\n          end: dayjs().subtract(1, 'day').valueOf(),\n        }}\n      >\n        <QuickRangeDate config={config} />\n      </Form.Item>\n\n      <Button\n        onClick={() => {\n          console.log(form.getFieldValue());\n        }}\n      >\n        获取\n      </Button>\n    </Form>\n  );\n};\n",renderChildren:()=>t.createElement(S,null)},{id:"p3",mode:"code",scope:{React:t},cardProps:{description:{title:"自定义",info:"自定义"}},type:"PlayGround",codeText:"import { DatePicker, Select } from 'antd';\nimport dayjs from 'dayjs';\nimport React, { useState } from 'react';\n\nimport { QuickRangeDate } from '@baifendian/adhere';\n\nexport default () => {\n  const [value, setValue] = useState({\n    type: 'custom',\n    value: [],\n    start: dayjs().subtract(2, 'day').valueOf(),\n    end: dayjs().subtract(1, 'day').valueOf(),\n  });\n\n  const config = [\n    {\n      type: 'a-d',\n      value: 1,\n    },\n    {\n      type: 'a-w',\n      value: 1,\n    },\n    {\n      type: 'a-M',\n      value: 1,\n    },\n    {\n      type: 'a-Q',\n      value: 1,\n    },\n    {\n      type: 'a-y',\n      value: 1,\n    },\n    {\n      type: 'a-h',\n      value: 1,\n    },\n    {\n      type: 'a-m',\n      value: 1,\n    },\n    {\n      type: 'a-s',\n      value: 1,\n    },\n    {\n      type: 'a-ms',\n      value: 1,\n    },\n    {\n      type: 'custom',\n    },\n  ];\n\n  return (\n    <QuickRangeDate\n      value={value}\n      config={config}\n      onChange={(value) => {\n        console.log(value);\n        setValue(value);\n      }}\n    >\n      {({ defaultElement, value, onChange }) => {\n        return (\n          <div>\n            <Select\n              value={QuickRangeDate.stringValue(value)}\n              options={config.map((t) => ({\n                label: QuickRangeDate.getLabel(t),\n                value: QuickRangeDate.stringValue(t),\n              }))}\n              onChange={(_value) => {\n                const { type, value } = QuickRangeDate.getValueEntityByStringValue(_value);\n\n                onChange({\n                  type,\n                  value,\n                });\n              }}\n            />\n\n            {value?.type === 'custom' && (\n              <DatePicker.RangePicker\n                value={QuickRangeDate.numberToDayjs([value?.start, value?.end])}\n                onChange={(days) => {\n                  const numbers = QuickRangeDate.datesToNumbers(days);\n\n                  onChange({\n                    type: 'custom',\n                    value: undefined,\n                    start: numbers[0],\n                    end: numbers[1],\n                  });\n                }}\n              />\n            )}\n          </div>\n        );\n      }}\n    </QuickRangeDate>\n  );\n};\n",renderChildren:()=>t.createElement(O,null)},{id:"p4",mode:"code",scope:{React:t},cardProps:{description:{title:"显示默认时间",info:"显示默认时间"}},type:"PlayGround",codeText:"import React, { useState } from 'react';\n\nimport { QuickRangeDate } from '@baifendian/adhere';\n\nexport default () => {\n  const [value, setValue] = useState();\n\n  return (\n    <QuickRangeDate\n      value={value}\n      onChange={(value) => {\n        console.log(value);\n        setValue(value);\n      }}\n    />\n  );\n};\n",renderChildren:()=>t.createElement(w,null)}]}),t.createElement(u.e6,{title:"Props",config:[{border:!0,title:"QuickRangeDateProps",data:[{params:"className",desc:"附加的样式表",type:"string",defaultVal:""},{params:"style",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"config",desc:"配置",type:"ConfigItem[]",defaultVal:""},{params:"value",desc:"",type:"DateValue",defaultVal:""},{params:"onChange",desc:"",type:"QuickRangeDateChange",defaultVal:""},{params:"rangePickerProps",desc:"",type:"RangePickerProps",defaultVal:""},{params:"radioGroupProps",desc:"",type:"RadioGroupProps",defaultVal:""},{params:"children",desc:"",type:"\n                  (params: {\n                    defaultElement: ReactNode;\n                    value?: DateValue;\n                    onChange?: QuickRangeDateChange;\n                  }) => ReactNode\n                ",defaultVal:""}]},{border:!0,title:"QuickRangeDateComponent",data:[{params:"sync",desc:"",type:"(dateValue: DateValue | undefined) => DateValue | undefined",defaultVal:""},{params:"stringValue",desc:"",type:"(dateValue: DateValue | undefined) => undefined | string",defaultVal:""},{params:"getLabel",desc:"",type:"(params: { type: DateType; value?: number }) => ReactNode",defaultVal:""},{params:"numberToDayjs",desc:"",type:"\n                  (\n                    dateValue: [number | undefined, number | undefined],\n                  ) => null | [dayjs.Dayjs, dayjs.Dayjs]\n                ",defaultVal:""},{params:"datesToNumbers",desc:"",type:"\n                  (\n                    _value: undefined | [dayjs.Dayjs, dayjs.Dayjs] | [],\n                  ) => [undefined | number, undefined | number]\n                ",defaultVal:""},{params:"getValueEntityByStringValue",desc:"",type:"(stringValue: string) => { type: DateType; value: number }",defaultVal:""}]},{border:!0,title:"QuickRangeDateChange",data:[{params:"",desc:"",type:"(value: DateValue) => void",defaultVal:""}]},{border:!0,title:"ConfigItem",data:[{params:"label",desc:"",type:"ReactNode",defaultVal:""},{params:"render",desc:"",type:"(value?: DateValue) => ReactNode",defaultVal:""}]},{border:!0,title:"DateValue",data:[{params:"type",desc:"",type:"DateType",defaultVal:""},{params:"value",desc:"",type:"number | undefined",defaultVal:""},{params:"start",desc:"",type:"number",defaultVal:""},{params:"end",desc:"",type:"number",defaultVal:""}]},{border:!0,title:"DateType",data:[{params:"",desc:"",type:"\n                  | 'a-d'\n                  | 'a-w'\n                  | 'a-M'\n                  | 'a-Q'\n                  | 'a-y'\n                  | 'a-h'\n                  | 'a-m'\n                  | 'a-s'\n                  | 'a-ms'\n                  | 'b-d'\n                  | 'b-w'\n                  | 'b-M'\n                  | 'b-Q'\n                  | 'b-y'\n                  | 'b-h'\n                  | 'b-m'\n                  | 'b-s'\n                  | 'b-ms'\n                  | 'custom'\n                ",defaultVal:""}]}]}))},19994:(e,n,a)=>{a.d(n,{Ay:()=>i,I7:()=>d,Wc:()=>c,e6:()=>v,wn:()=>s});var t=a(71860),u=a(24370),l=a(26322);const{PlayGroundPageContext:r,PlayGroundPage:o}=u.A,{Section:s,CodeBoxSection:c,PropsSection:v,FunctionPropsSection:d}=o;const i=function(e){let{children:n,onScrollBottom:a,distance:u=50,...s}=e;const[c,v]=(0,l.useState)(),d=(0,l.useRef)(),i=(0,l.useRef)(!1);return(0,l.useEffect)((()=>{function e(){const e=n.scrollHeight-n.offsetHeight,t=n.scrollTop;if(a&&Math.abs(t-e)<=u){if(i.current)return;i.current=!0,null==a||a().then((()=>{i.current=!1}))}}const n=d.current.parentElement.parentElement;return n.addEventListener("scroll",e),v(n),()=>{n.removeEventListener("scroll",e)}}),[]),l.createElement(r.Provider,{value:{scrollEl:c}},l.createElement(o,(0,t.A)({ref:d},s),n))}}}]);