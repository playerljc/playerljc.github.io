"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[5550],{38149:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(91098),o=t(1821),a=t.n(o),l=t(90171),c=t(33240),i="adhere-ui-surnames",d=function(e,n){var t=void 0===(r=e.position)?"right":r,r=void 0===(r=e.className)?"":r,o=void 0===(o=e.style)?{}:o,d=void 0===(y=e.indexes)?[]:y,u=void 0===(y=e.dataSource)?[]:y,s=e.onScroll,f=e.onBeforeScroll,p=(0,l.useRef)(null),m=(0,l.useRef)(null),v=(0,l.useRef)(null),y=(0,l.useRef)(null),h=(0,l.useRef)(null),x=(0,l.useRef)(null),g=(0,l.useRef)(!1),E=(0,l.useRef)(!1),S=(0,l.useRef)(!1),C=(0,l.useRef)(0),b=(0,l.useRef)(0),T=(0,l.useRef)(""),w=(0,l.useRef)([]);function A(){return"left"===t||"right"===t?"vertical":"horizontal"}function P(){"vertical"===A()?(p.current.style.height="".concat(h.current.offsetHeight+50,"px"),p.current.style.width="100%"):p.current.style.height="100%"}e=(0,l.useCallback)((function(){return u.map((function(e){var n=d.find((function(n){return n.index===e.index}));return l.createElement("div",{key:e.index,className:"".concat(i,"-group")},l.createElement("a",{className:"".concat(i,"-group-title"),"data-name":e.index},null!=n&&n.renderTitle?n.renderTitle(e):null==n?void 0:n.index),l.createElement("div",{className:"".concat(i,"-group-inner")},null!=n&&n.renderContent?null==n?void 0:n.renderContent(e):null))}))}),[u,d]);var k=(0,l.useCallback)((function(){return d.map((function(e){return l.createElement("a",{key:e.index,className:"".concat(i,"-index-item"),"data-name":e.index},e.renderIndex?e.renderIndex(e):e.index)}))}),[d]);function R(){var e,n,t=null==(n=null==(e=h.current)?void 0:e.querySelectorAll)?void 0:n.call(e,".".concat(i,"-index-item"));w.current=[];for(var r=0;r<t.length;r++){var o=t[r],a=o.dataset.name,l=o.getBoundingClientRect();w.current.push({name:a,top:l.top,bottom:l.bottom,left:l.left,right:l.right,offsetTop:o.offsetTop,offsetLeft:o.offsetLeft,width:o.offsetWidth,height:o.offsetHeight})}}function L(e){var n=e.target;e.preventDefault(),g.current||(g.current=!0,x.current.style.display="block",D(n.dataset.name))}function Z(e,n){e=function(e,n){for(var t,r=A(),o="vertical"===r?n-C.current:e-b.current,a=w.current.find((function(e){return e.name===T.current})),l=0,c=w.current.length-1;l<=c&&l<=w.current.length-1&&c<=w.current.length-1;){var i,d=w.current[i=c+l>>1],u=void 0,s=void 0,f="vertical"===r?(u=a.top+o,a.bottom,s=d.top,d.bottom):(u=a.left+o,a.right,s=d.left,d.right);if(s<=u&&u<=f){t=d;break}u<s?c=i-1:l=1+i}return t||null}(e,n),e&&(m.current.innerText=e.name,m.current.style.display="block","vertical"===A()?(n=e.offsetTop+Math.floor(e.height/2),m.current.style.transform="translate3d(0,".concat(n,"px,0)")):(n=e.offsetLeft+e.width,m.current.style.transform="translate3d(".concat(n,"px,0,0)")),V(e.name))}function D(e,n){void 0===n&&(n=100);var t=null==(t=null==(l=v.current)?void 0:l.querySelector)?void 0:t.call(l,".".concat(i,"-group-title[data-name='").concat(e,"']")),r=null==(l=v.current)?void 0:l.scrollTop,o=r,a=t.offsetTop,l=screen.updateInterval,c=p.current.scrollHeight/((100|n)/(l||16.7)+((100|n)%(l||16.7)!=0?1:0));f&&f(e),"undefined"!=typeof window&&window.requestAnimationFrame((function n(){function t(){g.current=!1,E.current=!1,x.current.style.display="none",s&&s(e)}r<a?a<o+c?o=a:o+=c:o-c<a?o=a:o-=c,v.current.scrollTop=o,r<a?a<=o?t():"undefined"!=typeof window&&window.requestAnimationFrame(n):o<=a?t():"undefined"!=typeof window&&window.requestAnimationFrame(n)}))}function V(e){var n,t;v.current.scrollTop=(null==(t=null==(n=v.current)?void 0:n.querySelector)?void 0:t.call(n,".".concat(i,"-group-title[data-name='").concat(e,"']"))).offsetTop,s&&s(e)}function G(e){e.preventDefault(),e.stopPropagation(),L(e)}function I(e){e.preventDefault();var n=e.changedTouches[0].pageY,t=e.changedTouches[0].pageX;e=e.target,e=c.Z.getTopDom(e,"".concat(i,"-index-item"));T.current=e.dataset.name,Z(t,n)}function N(){m.current.style.display="none",m.current.innerText="",m.current.style.transform="translate3d(0,0,0)"}function B(e){e.preventDefault(),C.current=e.pageY,b.current=e.pageX,e=e.target,e=c.Z.getTopDom(e,"".concat(i,"-index-item")),T.current=null==e?void 0:e.dataset.name,E.current=!0}function F(e){if(!E.current)return!1;S.current=!0,e.preventDefault();var n=e.pageY;Z(e.pageX,n)}function q(){E.current=!1,S.current=!1,m.current.style.display="none",m.current.innerText="",m.current.style.transform="translate3d(0,0,0)"}function z(e){if(S.current)return E.current=!1,S.current=!1,m.current.style.display="none",m.current.innerText="",!(m.current.style.transform="translate3d(0,0,0)");e.preventDefault(),L(e)}function H(){P(),R()}return(0,l.useImperativeHandle)(n,(function(){return{scrollToAnimation:D,scrollTo:V}})),(0,l.useLayoutEffect)((function(){var e;return(e=document.createElement("div")).innerHTML="<div class='".concat(i,"-mask'></div>"),x.current=e.firstElementChild,document.body.appendChild(x.current),P(),R(),function(){var e,n;null!=(n=null==(e=null==(e=x.current)?void 0:e.parentElement)?void 0:e.removeChild)&&n.call(e,x.current)}}),[]),(0,l.useLayoutEffect)((function(){var e,n;return c.Z.isTouch()?(null!=(n=null==(e=h.current)?void 0:e.addEventListener)&&n.call(e,"click",G),null!=(e=null==(n=h.current)?void 0:n.addEventListener)&&e.call(n,"touchmove",I),null!=(n=null==(e=h.current)?void 0:e.addEventListener)&&n.call(e,"touchend",N)):(null!=(e=null==(n=h.current)?void 0:n.addEventListener)&&e.call(n,"mousedown",B),null!=(n=null==(e=h.current)?void 0:e.addEventListener)&&n.call(e,"mousemove",F),null!=(e=null==(n=h.current)?void 0:n.addEventListener)&&e.call(n,"mouseleave",q),null!=(n=null==(e=h.current)?void 0:e.addEventListener)&&n.call(e,"mouseup",z),"undefined"!=typeof window&&window.addEventListener("resize",H)),P(),R(),function(){var e,n;null!=(n=null==(e=h.current)?void 0:e.removeEventListener)&&n.call(e,"click",G),null!=(e=null==(n=h.current)?void 0:n.removeEventListener)&&e.call(n,"touchmove",I),null!=(n=null==(e=h.current)?void 0:e.removeEventListener)&&n.call(e,"touchend",N),null!=(e=null==(n=h.current)?void 0:n.removeEventListener)&&e.call(n,"mousedown",B),null!=(n=null==(e=h.current)?void 0:e.removeEventListener)&&n.call(e,"mousemove",F),null!=(e=null==(n=h.current)?void 0:n.removeEventListener)&&e.call(n,"mouseleave",q),null!=(n=null==(e=h.current)?void 0:e.removeEventListener)&&n.call(e,"mouseup",z),"undefined"!=typeof window&&window.removeEventListener("resize",H)}})),l.createElement("div",{className:a()(i,"".concat(i,"-config-position-").concat(t),null!=r?r:""),style:null!=o?o:{},ref:p},l.createElement("div",{className:"".concat(i,"-highlighted"),ref:m}),l.createElement("div",{className:"".concat(i,"-content"),ref:v},e()),l.createElement("div",{className:"".concat(i,"-index"),ref:y},l.createElement("div",{className:"".concat(i,"-index-inner"),ref:h},k())))},u=(0,l.memo)((0,l.forwardRef)(d)),s=t(17464),f=t(96032);function p(){const e="A".charCodeAt(),n="Z".charCodeAt(),t=[],r=[];r.length=10,r.fill(1);for(let o=e;o<=n;o++)t.push({index:String.fromCharCode(o),renderIndex:e=>e.index,renderTitle:e=>e.index,renderContent:e=>l.createElement("ul",{key:e.index},r.map(((n,t)=>l.createElement("li",{key:t+1},`${e.index}${t+1}`))))});return t}function m(){const e="A".charCodeAt(),n="Z".charCodeAt(),t=[];for(let r=e;r<=n;r++)t.push({index:String.fromCharCode(r),data:[]});return t}var v=()=>{const e=(0,l.useRef)();return l.createElement(f.ZP,{className:"Surnames"},l.createElement(f.$0,{title:"Surnames"},l.createElement("p",null,"姓名面板")),l.createElement(f.e0,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"公共代码",mode:"code",scope:{React:l},cardProps:{description:{title:"公共代码",info:"公共代码"}},codeText:"\n  function getIndexesProps() {\n    const startCharCode = 'A'.charCodeAt();\n    const endCharCode = 'Z'.charCodeAt();\n\n    const indexes = [];\n\n    const count = [];\n    count.length = 10;\n    count.fill(1);\n\n    for (let i = startCharCode; i <= endCharCode; i++) {\n      indexes.push({\n        index: String.fromCharCode(i),\n        renderIndex: (index) => index.index,\n        renderTitle: (record) => record.index,\n        renderContent: (record) => (\n          <ul key={record.index}>\n            {count.map((t, index) => (\n              // eslint-disable-next-line react/no-array-index-key\n              <li key={index + 1}>{record + 1}-{index + 1}</li>\n            ))}\n          </ul>\n        ),\n      });\n    }\n\n    return indexes;\n  }\n\n  function getDataSource() {\n    const startCharCode = 'A'.charCodeAt();\n    const endCharCode = 'Z'.charCodeAt();\n\n    const dataSource = [];\n\n    for (let i = startCharCode; i <= endCharCode; i++) {\n      dataSource.push({\n        index: String.fromCharCode(i),\n        data: [],\n      });\n    }\n\n    return dataSource;\n  }\n        ",type:"PlayGround"},{id:"p2",name:"基本使用",mode:"code",scope:{React:l},cardProps:{description:{title:"基本使用",info:"基本使用"}},codeText:"\n  import { Surnames, Space } from '@baifendian/adhere';\n\n  <div style={{ display: 'flex' }}>\n    <Space.Group direction=\"horizontal\">\n      <div style={{ width: 300 }}>\n        <Surnames\n          style={{ border: '1px solid #ccc' }}\n          indexes={getIndexesProps()}\n          dataSource={getDataSource()}\n        />\n      </div>\n\n      <div style={{ width: 300 }}>\n        <Surnames\n          position=\"left\"\n          style={{ border: '1px solid #ccc' }}\n          indexes={getIndexesProps()}\n          dataSource={getDataSource()}\n        />\n      </div>\n    </Space.Group>\n  </div>\n      ",type:"PlayGround",renderChildren:()=>l.createElement("div",{style:{display:"flex"}},l.createElement(r.Z.Group,{direction:"horizontal"},l.createElement("div",{style:{width:300}},l.createElement(u,{style:{border:"1px solid #ccc"},indexes:p(),dataSource:m()})),l.createElement("div",{style:{width:300}},l.createElement(u,{position:"left",style:{border:"1px solid #ccc"},indexes:p(),dataSource:m()}))))},{id:"p3",name:"上下结构",mode:"code",scope:{React:l},cardProps:{description:{title:"上下结构",info:"上下结构"}},codeText:"\n  import { Surnames, Space } from '@baifendian/adhere';\n\n  <div style={{ display: 'flex' }}>\n    <Space.Group direction=\"horizontal\">\n      <div style={{ height: 516 }}>\n        <Surnames\n          position=\"top\"\n          style={{ border: '1px solid #ccc' }}\n          indexes={getIndexesProps()}\n          dataSource={getDataSource()}\n        />\n      </div>\n\n      <div style={{ height: 516 }}>\n        <Surnames\n          position=\"bottom\"\n          style={{ border: '1px solid #ccc' }}\n          indexes={getIndexesProps()}\n          dataSource={getDataSource()}\n        />\n      </div>\n    </Space.Group>\n  </div>\n      ",type:"PlayGround",renderChildren:()=>l.createElement("div",{style:{display:"flex"}},l.createElement(r.Z.Group,{direction:"horizontal"},l.createElement("div",{style:{height:516}},l.createElement(u,{position:"top",style:{border:"1px solid #ccc"},indexes:p(),dataSource:m()})),l.createElement("div",{style:{height:516}},l.createElement(u,{position:"bottom",style:{border:"1px solid #ccc"},indexes:p(),dataSource:m()}))))},{id:"p4",name:"使用api",mode:"code",scope:{React:l},cardProps:{description:{title:"使用api",info:"使用api"}},codeText:"\n  import { Surnames, Space } from '@baifendian/adhere';\n\n  const ref1 = useRef();\n\n  <Space.Group direction=\"horizontal\">\n    <Button\n      type=\"primary\"\n      onClick={() => {\n        ref1.current.scrollToAnimation('Z');\n      }}\n    >\n      滚动到底部\n    </Button>\n    <Button\n      onClick={() => {\n        ref1.current.scrollToAnimation('A');\n      }}\n    >\n      滚动到顶部\n    </Button>\n  </Space.Group>\n\n  <Space direction=\"vertical\" />\n\n  <div style={{ width: 300 }}>\n    <Surnames\n      ref={ref1}\n      style={{ border: '1px solid #ccc' }}\n      indexes={getIndexesProps()}\n      dataSource={getDataSource()}\n    />\n  </div>\n      ",type:"PlayGround",renderChildren:()=>l.createElement(l.Fragment,null,l.createElement(r.Z.Group,{direction:"horizontal"},l.createElement(s.ZP,{type:"primary",onClick:()=>{e.current.scrollToAnimation("Z")}},"滚动到底部"),l.createElement(s.ZP,{onClick:()=>{e.current.scrollToAnimation("A")}},"滚动到顶部")),l.createElement(r.Z,{direction:"vertical"}),l.createElement("div",{style:{width:300}},l.createElement(u,{ref:e,style:{border:"1px solid #ccc"},indexes:p(),dataSource:m()})))}]}),l.createElement(f.sB,{title:"Props",config:[{border:!0,title:"Surnames",data:[{params:"className",desc:"附加的样式表",type:"string",defaultVal:""},{params:"style",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"position",desc:"显示的位置 'top', 'right', 'bottom', 'left'",type:"string",defaultVal:"right"},{params:"indexes",desc:"索引的信息",type:"Array",defaultVal:"[]"},{params:"dataSource",desc:"数据",type:"Array",defaultVal:"[]"},{params:"onBeforeScroll",desc:"滚动之前的钩子",type:"Function",defaultVal:""},{params:"onScroll",desc:"滚动",type:"Function",defaultVal:""}]},{border:!0,title:"indexes",data:[{params:"index",desc:"索引值",type:"string",defaultVal:""},{params:"renderIndex",desc:"渲染索引的方法",type:"Function",defaultVal:""},{params:"renderTitle",desc:"渲染title的方法",type:"Function",defaultVal:""},{params:"renderContent",desc:"渲染Content的方法",type:"Function",defaultVal:""}]},{border:!0,title:"dataSource",data:[{params:"index",desc:"索引值",type:"string",defaultVal:""},{params:"data",desc:"数据",type:"Array<Object>",defaultVal:""}]}]}),l.createElement(f.ae,{title:"Api",config:[{border:!0,title:"方法",data:[{name:"scrollToAnimation",desc:"动画的滚动到指定所引处",modifier:"public",params:[{name:"name",desc:"索引名称",type:"string",defaultVal:"",required:"true"},{name:"duration",desc:"动画的完成时间",type:"number",defaultVal:"100",required:"false"}],returnType:"",returnDesc:""},{name:"scrollTo",desc:"滚动到指定所引处",modifier:"public",params:[{name:"name",desc:"索引名称",type:"string",defaultVal:"",required:"true"}],returnType:"",returnDesc:""}]}]}))}},96032:function(e,n,t){t.d(n,{$0:function(){return i},ae:function(){return s},e0:function(){return d},sB:function(){return u}});var r=t(70517),o=t(6692),a=t(90171);const{PlayGroundPageContext:l,PlayGroundPage:c}=o.default,{Section:i,CodeBoxSection:d,PropsSection:u,FunctionPropsSection:s}=c;n.ZP=function(e){let{children:n,...t}=e;const[o,i]=(0,a.useState)(),d=(0,a.useRef)();return(0,a.useEffect)((()=>{i(d.current.parentElement.parentElement)}),[]),a.createElement(l.Provider,{value:{scrollEl:o}},a.createElement(c,(0,r.Z)({ref:d},t),n))}},91098:function(e,n,t){var r=t(58014);n.Z=r.Z}}]);