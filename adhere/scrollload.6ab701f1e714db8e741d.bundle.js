"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[5834],{11353:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(1821),r=n.n(a),l=n(90171),o=n(20725),i=function(){return(i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},s="adhere-ui-scrollload",d=function(e,t){var n=void 0===(n=e.className)?"":n,a=void 0===(a=e.style)?{}:a,d=e.children,m=e.getScrollContainer,u=void 0===(A=e.distance)?50:A,p=e.onScrollBottom,f=e.onEmptyClick,y=e.onErrorClick,g=e.renderLoading,E=void 0===(A=e.loadClassName)?"":A,S=void 0===(A=e.loadStyle)?{}:A,h=e.renderEmpty,L=void 0===(A=e.emptyClassName)?"":A,b=void 0===(A=e.emptyStyle)?{}:A,v=e.renderError,T=void 0===(A=e.errorClassName)?"":A,R=void 0===(A=e.errorStyle)?{}:A,A=c(e,["className","style","children","getScrollContainer","distance","onScrollBottom","onEmptyClick","onErrorClick","renderLoading","loadClassName","loadStyle","renderEmpty","emptyClassName","emptyStyle","renderError","errorClassName","errorStyle"]),C=(0,l.useRef)(!1),P=(0,l.useRef)(null),k=(0,l.useRef)(null),D=(0,l.useRef)(null),O=(0,l.useRef)(null);function x(){return m?m():P.current}function M(){var e=(t=x()).scrollHeight-t.offsetHeight,t=t.scrollTop;p&&Math.abs(t-e)<=u&&(C.current||(C.current=!0,k.current.style.display="flex",p((function(e){k.current.style.display="none","empty"===e?D.current.style.display="block":"error"===e&&(O.current.style.display="block"),C.current=!1}))))}function I(){f&&f()}function N(){y&&y()}function Y(){k.current.style.display="none",O.current.style.display="none",D.current.style.display="none"}e=(0,l.useCallback)((function(){return g?l.createElement("div",{className:r()("".concat(s,"-load"),E),style:null!=S?S:{},ref:k},g()):l.createElement("div",{className:r()("".concat(s,"-load"),"standard",E),style:null!=S?S:{},ref:k},o.ZP.v("数据加载中"))}),[g,E,S]);var j=(0,l.useCallback)((function(){return h?l.createElement("div",{className:r()("".concat(s,"-empty"),L),style:null!=b?b:{},ref:D},h()):l.createElement("div",{className:r()("".concat(s,"-empty"),L),style:null!=b?b:{},ref:D},"~",o.ZP.v("没有更多"))}),[h,L,b]),V=(0,l.useCallback)((function(){return v?l.createElement("div",{className:r()("".concat(s,"-error"),T),style:null!=R?R:{},ref:O},v()):l.createElement("div",{className:r()("".concat(s,"-error"),T),style:null!=R?R:{},ref:O},o.ZP.v("出现错误"))}),[v,T,R]);return(0,l.useImperativeHandle)(t,(function(){return{hideAll:Y}})),(0,l.useLayoutEffect)((function(){var e;return null!=(e=x())&&e.addEventListener("scroll",M),null!=(e=D.current)&&e.addEventListener("click",I),null!=(e=O.current)&&e.addEventListener("click",N),function(){var e;null!=(e=x())&&e.removeEventListener("scroll",M),null!=(e=D.current)&&e.removeEventListener("click",I),null!=(e=O.current)&&e.removeEventListener("click",N)}})),l.createElement("div",i({},A,{className:r()(s,n),style:i(i({},null!=a?a:{}),{overflowY:x()===P.current?"auto":"initial"}),ref:P}),d,e(),j(),V())},m=(0,l.memo)((0,l.forwardRef)(d));m.EMPTY="empty",m.ERROR="error",m.NORMAL="normal";var u=m},97524:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(11353).Z,r=n(78862),l=n(10566),o=n(82671),i=n(27288),c=n(90171),s=n(96032);const d=[];d.length=10,d.fill(1);let m=1,u=null,p=a.NORMAL,f=a.NORMAL,y=a.NORMAL;var g=()=>{const[e,t]=(0,c.useState)(n());function n(){const e=[];return e.length=10*m,e.fill(0),m++,e.map(((e,t)=>({title:`Ant Design Title ${t+1}`})))}return(0,c.useEffect)((()=>{u&&(u(a.NORMAL),u=null)}),[e]),c.createElement(s.ZP,null,c.createElement(s.$0,{title:"ScrollLoad"},c.createElement("p",null,"滚动加载")),c.createElement(s.e0,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"公共代码",mode:"code",scope:{React:c},cardProps:{description:{title:"公共代码",info:"公共代码"}},codeText:'\n  const globalData = [];\n  globalData.length = 10;\n  globalData.fill(1);\n\n  let page = 1;\n\n  let callbackHandler = null;\n\n  let ref1Status = ScrollLoad.NORMAL;\n  let ref2Status = ScrollLoad.NORMAL;\n  let ref3Status = ScrollLoad.NORMAL;\n\n  // eslint-disable-next-line no-use-before-define,no-shadow\n  const [data, setData] = useState(getData());\n\n  useEffect(() => {\n    if (callbackHandler) {\n      callbackHandler(ScrollLoad.NORMAL);\n      callbackHandler = null;\n    }\n  }, [data]);\n\n  function getData() {\n    const result = [];\n    result.length = page * 10;\n    result.fill(0);\n\n    // eslint-disable-next-line no-plusplus\n    page++;\n\n    return result.map((t, index) => ({\n      title: "Ant Design Title" + (index + 1) ,\n    }));\n  }\n        ',type:"PlayGround"},{id:"p2",name:"基本使用",mode:"code",scope:{React:c},cardProps:{description:{title:"基本使用",info:"基本使用"}},codeText:'\n  import { List, Avatar } from \'antd\';\n  import { ScrollLoad } from \'@baifendian/adhere\';\n\n  <ScrollLoad\n    style={{ width: 400, height: 600 }}\n    onScrollBottom={(callback) => {\n      setTimeout(() => {\n        callbackHandler = callback;\n        setData(getData());\n      }, 2000);\n    }}\n  >\n    <List\n      itemLayout="horizontal"\n      dataSource={data}\n      renderItem={(item) => (\n        <List.Item>\n          <List.Item.Meta\n            avatar={\n              <Avatar src="https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png" />\n            }\n            title={<a href="https://ant.design">{item.title}</a>}\n            description="Ant Design, a design language for background applications, is refined by Ant UED Team"\n          />\n        </List.Item>\n      )}\n    />\n  </ScrollLoad>\n        ',type:"PlayGround",renderChildren:()=>c.createElement(a,{style:{width:400,height:600},onScrollBottom:e=>{setTimeout((()=>{u=e,t(n())}),2e3)}},c.createElement(r.Z,{itemLayout:"horizontal",dataSource:e,renderItem:e=>c.createElement(r.Z.Item,null,c.createElement(r.Z.Item.Meta,{avatar:c.createElement(l.C,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:c.createElement("a",{href:"https://ant.design"},e.title),description:"Ant Design, a design language for background applications, is refined by Ant UED Team"}))}))},{id:"p3",name:"没有数据的显示",mode:"code",scope:{React:c},cardProps:{description:{title:"没有数据的显示",info:"没有数据的显示"}},codeText:'\n  import React from \'react\';\n  import { List, Avatar } from \'antd\';\n  import { ScrollLoad } from \'@baifendian/adhere\';\n\n  <ScrollLoad\n    style={{ width: 400, height: 600 }}\n    onScrollBottom={(callback) => {\n      if (ref1Status === ScrollLoad.EMPTY) {\n        callback(ScrollLoad.EMPTY);\n      }\n\n      setTimeout(() => {\n        callback(ScrollLoad.EMPTY);\n        ref1Status = ScrollLoad.EMPTY;\n      }, 2000);\n    }}\n    onEmptyClick={() => {\n      alert(\'点击了\');\n    }}\n  >\n    <List\n      itemLayout="horizontal"\n      dataSource={globalData.map((t, index) => ({\n        title: "Ant Design Title" + (index + 1),\n      }))}\n      renderItem={(item) => (\n        <List.Item>\n          <List.Item.Meta\n            avatar={\n              <Avatar src="https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png" />\n            }\n            title={<a href="https://ant.design">{item.title}</a>}\n            description="Ant Design, a design language for background applications, is refined by Ant UED Team"\n          />\n        </List.Item>\n      )}\n    />\n  </ScrollLoad>\n        ',type:"PlayGround",renderChildren:()=>c.createElement(a,{style:{width:400,height:600},onScrollBottom:e=>{p===a.EMPTY&&e(a.EMPTY),setTimeout((()=>{e(a.EMPTY),p=a.EMPTY}),2e3)},onEmptyClick:()=>{alert("点击了")}},c.createElement(r.Z,{itemLayout:"horizontal",dataSource:d.map(((e,t)=>({title:`Ant Design Title${t+1}`}))),renderItem:e=>c.createElement(r.Z.Item,null,c.createElement(r.Z.Item.Meta,{avatar:c.createElement(l.C,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:c.createElement("a",{href:"https://ant.design"},e.title),description:"Ant Design, a design language for background applications, is refined by Ant UED Team"}))}))},{id:"p4",name:"错误的显示",mode:"code",scope:{React:c},cardProps:{description:{title:"错误的显示",info:"错误的显示"}},codeText:'\n  import React from \'react\';\n  import { List, Avatar } from \'antd\';\n  import { ScrollLoad } from \'@baifendian/adhere\';\n\n  <ScrollLoad\n    style={{ width: 400, height: 600 }}\n    onScrollBottom={(callback) => {\n      if (ref2Status === ScrollLoad.ERROR) {\n        callback(ScrollLoad.ERROR);\n      }\n\n      setTimeout(() => {\n        callback(ScrollLoad.ERROR);\n        ref2Status = ScrollLoad.ERROR;\n      }, 2000);\n    }}\n    onErrorClick={() => {\n      alert(\'点击了\');\n    }}\n  >\n    <List\n      itemLayout="horizontal"\n      dataSource={globalData.map((t, index) => ({\n        title: "Ant Design Title"+(index + 1),\n      }))}\n      renderItem={(item) => (\n        <List.Item>\n          <List.Item.Meta\n            avatar={\n              <Avatar src="https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png" />\n            }\n            title={<a href="https://ant.design">{item.title}</a>}\n            description="Ant Design, a design language for background applications, is refined by Ant UED Team"\n          />\n        </List.Item>\n      )}\n    />\n  </ScrollLoad>\n        ',type:"PlayGround",renderChildren:()=>c.createElement(a,{style:{width:400,height:600},onScrollBottom:e=>{f===a.ERROR&&e(a.ERROR),setTimeout((()=>{e(a.ERROR),f=a.ERROR}),2e3)},onErrorClick:()=>{alert("点击了")}},c.createElement(r.Z,{itemLayout:"horizontal",dataSource:d.map(((e,t)=>({title:`Ant Design Title${t+1}`}))),renderItem:e=>c.createElement(r.Z.Item,null,c.createElement(r.Z.Item.Meta,{avatar:c.createElement(l.C,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:c.createElement("a",{href:"https://ant.design"},e.title),description:"Ant Design, a design language for background applications, is refined by Ant UED Team"}))}))},{id:"p5",name:"自定义loading和empty",mode:"code",scope:{React:c},cardProps:{description:{title:"自定义loading和empty",info:"自定义loading和empty"}},codeText:'\n  import React from \'react\';\n  import { List, Avatar } from \'antd\';\n  import { ScrollLoad } from \'@baifendian/adhere\';\n\n  <ScrollLoad\n    style={{ width: 400, height: 400 }}\n    onScrollBottom={(callback) => {\n      if (ref3Status === ScrollLoad.EMPTY) {\n        callback(ScrollLoad.EMPTY);\n      }\n\n      setTimeout(() => {\n        callback(ScrollLoad.EMPTY);\n        ref3Status = ScrollLoad.EMPTY;\n      }, 2000);\n    }}\n    renderLoading={() => <Spin tip="loading..." style={{ width: \'100%\' }} />}\n    renderEmpty={() => <Empty />}\n  >\n    <List\n      itemLayout="horizontal"\n      dataSource={globalData.map((t, index) => ({\n        title: "Ant Design Title" + (index + 1),\n      }))}\n      renderItem={(item) => (\n        <List.Item>\n          <List.Item.Meta\n            avatar={\n              <Avatar src="https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png" />\n            }\n            title={<a href="https://ant.design">{item.title}</a>}\n            description="Ant Design, a design language for background applications, is refined by Ant UED Team"\n          />\n        </List.Item>\n      )}\n    />\n  </ScrollLoad>\n        ',type:"PlayGround",renderChildren:()=>c.createElement(a,{style:{width:400,height:400},onScrollBottom:e=>{y===a.EMPTY&&e(a.EMPTY),setTimeout((()=>{e(a.EMPTY),y=a.EMPTY}),2e3)},renderLoading:()=>c.createElement(o.Z,{tip:"loading...",style:{width:"100%"}}),renderEmpty:()=>c.createElement(i.Z,null)},c.createElement(r.Z,{itemLayout:"horizontal",dataSource:d.map(((e,t)=>({title:`Ant Design Title${t+1}`}))),renderItem:e=>c.createElement(r.Z.Item,null,c.createElement(r.Z.Item.Meta,{avatar:c.createElement(l.C,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:c.createElement("a",{href:"https://ant.design"},e.title),description:"Ant Design, a design language for background applications, is refined by Ant UED Team"}))}))}]}),c.createElement(s.sB,{title:"Props",config:[{border:!0,title:"ScrollLoad",data:[{params:"className",desc:"附加的样式表",type:"string",defaultVal:""},{params:"style",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"loadClassName",desc:"load附加的样式表",type:"string",defaultVal:""},{params:"loadStyle",desc:"load附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"emptyClassName",desc:"empty附加的样式表",type:"string",defaultVal:""},{params:"emptyStyle",desc:"empty附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"errorClassName",desc:"error附加的样式表",type:"string",defaultVal:""},{params:"errorStyle",desc:"error附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"distance",desc:"距离底部的距离",type:"number",defaultVal:"50"},{params:"onScrollBottom",desc:"滚动到底部的钩子",type:"Function",defaultVal:""},{params:"onEmptyClick",desc:"点击empty的钩子",type:"Function",defaultVal:""},{params:"onErrorClick",desc:"点击error的钩子",type:"Function",defaultVal:""},{params:"renderLoading",desc:"自定义loading的UI",type:"Function",defaultVal:"返回JSX"},{params:"renderEmpty",desc:"自定义empty的UI",type:"Function",defaultVal:"JSX"},{params:"renderError",desc:"自定义error的UI",type:"Function",defaultVal:"JSX"},{params:"getScrollContainer",desc:"滚动元素设置",type:"Function",defaultVal:""}]}]}),c.createElement(s.ae,{title:"Api",config:[{border:!0,title:"方法",data:[{name:"hideAll",desc:"隐藏所有",modifier:"public",params:[],returnType:"void",returnDesc:""}]}]}))}},96032:function(e,t,n){n.d(t,{$0:function(){return c},ae:function(){return m},e0:function(){return s},sB:function(){return d}});var a=n(70517),r=n(6692),l=n(90171);const{PlayGroundPageContext:o,PlayGroundPage:i}=r.default,{Section:c,CodeBoxSection:s,PropsSection:d,FunctionPropsSection:m}=i;t.ZP=function(e){let{children:t,...n}=e;const[r,c]=(0,l.useState)(),s=(0,l.useRef)();return(0,l.useEffect)((()=>{c(s.current.parentElement.parentElement)}),[]),l.createElement(o.Provider,{value:{scrollEl:r}},l.createElement(i,(0,a.Z)({ref:s},n),t))}}}]);