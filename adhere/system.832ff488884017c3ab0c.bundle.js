"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[3307],{176:(e,t,r)=>{var n=r(66722);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createLoggerMiddleware",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"createSagaMiddleware",{enumerable:!0,get:function(){return a.default}});var o=n(r(98973)),a=n(r(28177))},98973:(e,t,r)=>{var n=r(66722);r(97112),r(28928),r(29890),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(67335)),a=n(r(20243)),u=console,i=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"setStore",value:function(e){this.store=e}},{key:"before",value:function(e){var t=e.state,r=e.action;return new Promise((function(e){u.group("%caction %c%s @ %c%s","color:gray","color:#000",r.type,"color:gray",new Date),u.log("%cprev state","color:gray",t),u.groupEnd(),e(t)}))}},{key:"after",value:function(e){var t=e.state,r=e.action;return new Promise((function(e){u.group("%caction %c%s @ %c%s","color:gray","color:#000",r.type,"color:gray",new Date),u.log("%cnext state","color:green",t),u.groupEnd(),e(t)}))}}]),e}();t.default=function(){return new i}},14906:(e,t,r)=>{r(7920),r(28928),r(29890),r(4212),r(38185),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.all(t)}},42257:(e,t,r)=>{var n=r(66722);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(43187));t.default=function(e){var t,r="undefined"!=typeof window?window:undefined;e=e instanceof Array?(r=(t=(0,o.default)(e,2))[0],t[1]):e;for(var n=arguments.length,a=new Array(1<n?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];return e.apply(r,a)}},3757:(e,t,r)=>{var n=r(66722);r(39245),r(65820),r(14669),r(68538),r(62924),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(67335)),a=n(r(20243)),u=new(function(){function e(){(0,o.default)(this,e),this.handlers=[],this.onHash=this.onHash.bind(this),this.initEvent()}return(0,a.default)(e,[{key:"initEvent",value:function(){"undefined"!=typeof window&&window.addEventListener("hashchange",this.onHash)}},{key:"removeEvent",value:function(){"undefined"!=typeof window&&window.removeEventListener("hashchange",this.onHash)}},{key:"onHash",value:function(){this.handlers.forEach((function(e){"undefined"!=typeof window&&e({patchname:window.location.pathname})}))}},{key:"listen",value:function(e){var t=this;return this.handlers.push(e),function(){var r=t.handlers.indexOf(e);-1!==r&&t.handlers.splice(r,1)}}}]),e}());t.default=u},28177:(e,t,r)=>{var n=r(66722);r(80162),r(39245),r(11386),r(7920),r(53070),r(68538),r(25793),r(36605),r(50696),r(28928),r(63970),r(29890),r(70228),r(4212),r(49266),r(47352),r(23677),r(20625),r(97486),r(59623),r(62385),r(94425),r(60791),r(96825),r(21999),r(8594),r(3622),r(51732),r(63541),r(62924),r(38185),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(64455)),a=n(r(43187)),u=n(r(52141)),i=n(r(67335)),c=n(r(20243)),s=n(r(42257)),f=n(r(14906)),l=n(r(79172)),d=n(r(39997)),p=n(r(73692)),v=n(r(3757)),h=r(9092),y=r(83298);function b(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(){function e(){(0,i.default)(this,e),this.models=new Map,this.history=v.default}return(0,c.default)(e,[{key:"setStore",value:function(e){this.store=e,this.store.state.loading||(this.store.state.loading={global:!1})}},{key:"setRouter",value:function(e){var t=this;this.router=e;var r=t.router.history.listen.bind(t.router.history);this.router.history.listen=function(e){e(O(O({},{pathname:"undefined"!=typeof window?window.location.pathname:"",search:"undefined"!=typeof window?window.location.search:"",query:(0,y.parse)()}),{},{state:O({},t.store.state)})),r((function(r){e(O(O({},r||{}),{},{state:O({},t.store.state)}))}))},t.router.history=Array.from(t.models.values()).forEach((function(e){"subscriptions"in e&&(0,h.isObject)(e.subscriptions)&&"setup"in e.subscriptions&&(0,h.isFunction)(e.subscriptions.setup)&&e.subscriptions.setup({history:t.router.history,dispatch:t.store.dispatch.bind(t.store)})}))}},{key:"model",value:function(e){return!!e&&(this.clearUnSubscriptions(e),this.models.set(e.namespace,e),this.init(e),!0)}},{key:"unModel",value:function(e){var t=this.models.get(e);t&&(this.clearUnSubscriptions(t),this.models.delete(e),delete this.store.state[e])}},{key:"hasModel",value:function(e){return!!this.models.get(e)}},{key:"replaceModel",value:function(e){return this.model(e)}},{key:"getModel",value:function(e){return this.models.get(e)}},{key:"run",value:function(e){var t=this,r=e.g,n=e.params,o=e.model;return new Promise((function(e,a){var u=r(n,{call:s.default,all:f.default,race:l.default,select:(0,d.default)(t),put:p.default.call(t,{store:t.store,params:n,model:o,run:t.run.bind(t)})});(function e(t){return new Promise((function(r,n){function o(t){e(t).then((function(e){r(e)})).catch((function(e){u.throw(e),n(e)}))}var a=u.next(t),i=a.value;a.done?r(i):i instanceof Promise?i.then((function(e){o(e)})).catch((function(e){u.throw(e),n(e)})):o(i)}))})().then((function(t){e(t)})).catch((function(){a()}))}))}},{key:"clearUnSubscriptions",value:function(e){(e=void 0===(e=e.unsubscriptions)?{}:e)&&Object.values(e).forEach((function(e){e()}))}},{key:"init",value:function(e){var t=e.namespace,r=e.state,n={};Object.keys(e.effects).forEach((function(e){n["".concat(t,"/").concat(e)]=!1})),Object.assign(this.store.state.loading,n),this.store.state[t]=[t]in this.store.state?this.store.state[t]:r}},{key:"isGlobalLoading",value:function(){var e=this.store.state.loading;return Array.from(this.models).some((function(t){var r=(t=(0,a.default)(t,2))[0];t=t[1];return Array.from(Object.keys(t.effects)).some((function(t){return t="".concat(r,"/").concat(t),!0===e[t]}))}))}},{key:"before",value:function(e){var t=this,r=e.state,n=e.action;return new Promise((function(e){var o=n.type,u=o.split("/"),i=(u=(i=(0,a.default)(u,2))[0],i[1]);(u=t.models.get(u))&&u.effects[i]&&(r.loading[o]=!0,r.loading.global=!0),e(r)}))}},{key:"after",value:function(e){var t=this,r=e.state,n=e.action;return new Promise((function(e){var u=n.type,i=(n.ins,n.success,(0,o.default)(n,["type","ins","success"])),c=u.split("/"),s=(0,a.default)(c,2),f=s[0],l=(c=s[1],t.models.get(f));l?(s=l.effects[c])?t.run({g:s,state:r,params:i,model:l}).then((function(n){r.loading[u]=!1,r[f]=l.state,r.loading.global=t.isGlobalLoading(),e(n)})):l.reducers[c]&&(l.state=l.reducers[c](r[f],{payload:i}),r[f]=l.state,e(r)):e(r)}))}}]),e}();t.default=function(){return new g}},73692:(e,t,r)=>{var n=r(66722);r(70228),r(47352),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.params,r=e.run,n=e.model,u=this;return function(e){var i,c,s=e.type;e=(0,a.default)(e,["type"]);c=1===s.split("/").length?(i=n,s):(l=s.split("/"),f=(c=(0,o.default)(l,2))[0],l=c[1],i=u.getModel(f),l);var f=i.effects,l=i.reducers;return f[c]?r({g:f[c],params:t,model:i}):l[c]?(i.state=l[c](i.state||{},e),i.state):void 0}};var o=n(r(43187)),a=n(r(64455))},79172:(e,t,r)=>{r(7920),r(28928),r(29890),r(4212),r(38185),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.race(t)}},39997:(e,t,r)=>{var n=r(66722);r(39245),r(7920),r(28928),r(62924),r(38185),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var r={};return(0,o.default)(e.models.values()).forEach((function(e){r[e.namespace]=e.state})),t(r)}};var o=n(r(91916))},3307:(e,t,r)=>{var n=r(66722);r(80162),r(39245),r(33230),r(50696),r(62924),t.A=void 0;var o=n(r(78564));r(21598);var a,u=n(r(52141)),i=r(74795);function c(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={},l={initConfig:function(e){f=e},addConfig:function(e,t){f[e]=t},setSage:function(e){a=e},mapStateToProps:function(e){var t=e.namespaces,r=e.state,n={loading:r.loading};return t&&t.length&&t.forEach((function(e){n[e]=r[e]})),n},mapDispatchToProps:function(e){var t=e.namespaces,r=e.dispatch,n={};return(t&&t.length?t:Object.keys(f)).forEach((function(e){var t=f[e];Object.keys(t).forEach((function(t){var o,a;"default"!==t&&(o="".concat(e).concat(t.charAt(0).toUpperCase()).concat(t.substring(1)),a="".concat(e,"/").concat(t),n[o]=function(e){return r(s({type:a},e))})}))})),n},model:function(e){var t=f[e],r=Object.keys(t),n={};r.forEach((function(e){"default"!==e&&(n[e]=t[e].defaultResult())}));var a={namespace:e,effects:{},state:s({},n),getDefaultState:function(){return s({},n)},reducers:{receive:function(e,t){return t=t.payload,s(s({},e),t)}}};return r.forEach((function(e){"default"!==e&&(a.effects[e]=o.default.mark((function r(n,a){var i,c,s,f,l,d;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return d=a.call,i=a.put,l=t.default,s=l.codeKey,f=l.codeSuccessKey,l=l.dataKey,r.prev=2,r.next=5,d(t[e].call,n);case 5:c=r.sent,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),d={},(0,u.default)(d,s,f),(0,u.default)(d,l,t[e].defaultResult()),c=d;case 11:if(c[s]===f)return r.next=14,i({type:"receive",payload:(0,u.default)({},e,c[l])});r.next=14;break;case 14:return r.abrupt("return",c);case 15:case"end":return r.stop()}}),r,null,[[2,8]])})))})),a},connect:function(e){var t=e.map((function(e){var t=(t=a.getModel(e))&&"getDefaultState"in t?t.getDefaultState():{};return{type:"".concat(e,"/receive"),defaultState:t}}));return function(e,r){return function(n){return(0,i.connect)(e,r)(n,{isClear:!0,clearGroup:t})}}}};t.A=l},39808:(e,t,r)=>{var n=r(66722);Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderContext=void 0;var o=n(r(26322)).default.createContext({store:{}});t.ProviderContext=o},49837:(e,t,r)=>{var n=r(66722);r(39245),r(68538),r(62924),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(91978)),a=n(r(52141)),u=n(r(64455)),i=n(r(67335)),c=n(r(20243)),s=n(r(89691)),f=n(r(63623)),l=n(r(81604)),d=n(r(59552)),p=n(r(26322)),v=r(39808),h=n(r(29904));function y(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);return n=t?(r=(0,d.default)(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments),(0,l.default)(this,n)}}t.default=function(e,t){return function(r,n){var a=function(a){(0,f.default)(d,a);var l=O(d);function d(e){var t;return(0,i.default)(this,d),(t=l.call(this,e)).ref=p.default.createRef(),t.onSubscribe=function(e){var r=(0,s.default)(t).store.getState();t.setState({state:r},(function(){var t=e.success,r=e.ins,n=(0,u.default)(e,["success","ins"]);t&&r&&t.call(r,h.default.cloneDeep(n))}))},t.state={state:null},t}return(0,c.default)(d,[{key:"componentDidMount",value:function(){var e=this.store;this.unsubscribe=e.subscribe(this.onSubscribe)}},{key:"componentWillUnmount",value:function(){var e,t=this;n&&n.isClear&&(void 0===(e=n.clearGroup)?[]:e).forEach((function(e){var r=void 0===(r=e.type)?"":r;e=void 0===(e=e.defaultState)?{}:e;t.store.dispatch(b({type:r},e||{}))})),this.unsubscribe()}},{key:"render",value:function(){var n=this;return p.default.createElement(v.ProviderContext.Consumer,null,(function(a){var u=a.store;n.store||(n.store=u);var i=n.state.state||n.store.getState(),c={};return t&&(c=t(n.store.dispatch.bind(n.store))),a={},e&&(a=e(i)),u=b(b(b(b({},n.props),a),c),{},{dispatch:u.dispatch.bind(u)}),p.default.createElement(r,(0,o.default)({},u,{ref:n.props.forwardedRef||n.ref}))}))}}]),d}(p.default.Component);return p.default.forwardRef((function(e,t){return p.default.createElement(a,(0,o.default)({},e,{forwardedRef:t}))}))}}},85885:(e,t,r)=>{var n=r(66722);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(67335)),a=n(r(20243)),u=n(r(63623)),i=n(r(81604)),c=n(r(59552)),s=n(r(26322)),f=n(r(93266)),l=r(39808);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);return n=t?(r=(0,c.default)(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments),(0,i.default)(this,n)}}var p=function(e){(0,u.default)(r,e);var t=d(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,a.default)(r,[{key:"render",value:function(){var e=this.props.children;return s.default.createElement(l.ProviderContext.Provider,{value:this.props},e)}}]),r}(s.default.Component);p.defaultProps={store:{}},p.propTypes={store:f.default.object};t.default=p},8738:(e,t,r)=>{var n=r(66722);r(80162),r(39245),r(68538),r(36605),r(62924),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(91916)),a=n(r(64455)),u=n(r(52141)),i=n(r(29904)),c=n(r(95576)),s=n(r(62081)),f=r(176);function l(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.initialState,r=void 0===(v=e.models)?[]:v,n=e.mapState,u=e.mapDispatch,l=e.ref,p=e.middleWares,v=e.reducer;function h(){var e={};u&&(e=u(y.dispatch.bind(y)));var t={};return n&&(t=n(y.getState())),{dispatch:e,props:t}}e=(0,f.createSagaMiddleware)();var y=(0,c.default)(v,t,s.default.apply(void 0,(0,o.default)(p).concat([e]))),b=y.subscribe((function(e){var t=(r=h()).props,r=r.dispatch;l.setState(d(d({},t),r),(function(){var t=e.success,r=(0,a.default)(e,["success"]);t&&t.call(l,i.default.cloneDeep(r))}))}));return function(e){var t=e.saga;e.models.forEach((function(e){t.model(e)}))}({models:r,saga:e}),l.state||(l.state={}),e=(r=h()).props,r=r.dispatch,Object.assign(l.state,e,r,{dispatch:y.dispatch.bind(y)}),function(){b()}}},74795:(e,t,r)=>{var n=r(66722);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"useSagaState",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"createState",{enumerable:!0,get:function(){return i.default}});var o=n(r(85885)),a=n(r(49837)),u=n(r(40959)),i=n(r(8738))},40959:(e,t,r)=>{var n=r(66722);r(15203),r(33111),r(80162),r(39245),r(68538),r(28928),r(62924),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(43187)),a=n(r(52141)),u=n(r(91916)),i=n(r(67335)),c=n(r(20243)),s=r(26322),f=n(r(95576)),l=n(r(62081)),d=r(176);function p(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){function e(t){(0,i.default)(this,e);var r=t.initialState,n=void 0===(a=t.models)?[]:a,o=t.middleWares,a=t.reducer;this.params=t,this.saga=(0,d.createSagaMiddleware)(),this.store=(0,f.default)(a,r,l.default.apply(void 0,(0,u.default)(o).concat([this.saga]))),this.registerModels({models:n,saga:this.saga})}return(0,c.default)(e,[{key:"registerModels",value:function(e){var t=e.saga;e.models.forEach((function(e){t.model(e)}))}},{key:"mapTo",value:function(){var e=(r=this.params).mapState,t=r.mapDispatch,r={};return t&&(r=t(this.store.dispatch.bind(this.store))),t={},e&&(t=e(this.getState())),{dispatch:r,props:t}}},{key:"getReducer",value:function(){return function(e,t){var r=t.type,n=(o=t.params).props,o=(t=o.dispatch,o.action);return"setState"===r?v(v(v(v({},e),n),t),{},(0,a.default)({},Symbol.for("action"),o)):e}}},{key:"getInitial",value:function(){var e=(t=this.mapTo()).props,t=t.dispatch;return v(v({},e),t)}},{key:"subscribe",value:function(e){return this.onSubscribe=this.onSubscribe.bind(this,e),this.store.subscribe(this.onSubscribe)}},{key:"getState",value:function(){return this.store.getState()}},{key:"onSubscribe",value:function(e,t){var r=this.mapTo();e({type:"setState",params:{props:r.props,dispatch:r.dispatch,action:t}})}}]),e}();t.default=function(e){var t=(0,s.useRef)(new h(e)),r=(e=(0,s.useReducer)(t.current.getReducer(),t.current.getInitial()),(e=(0,o.default)(e,2))[0]),n=e[1];return(0,s.useEffect)((function(){var e=Symbol.for("action");r[e]&&r[e].success&&r[e].success()}),[r]),(0,s.useEffect)((function(){var e=t.current.subscribe(n);return function(){e()}}),[]),r}},62081:(e,t,r)=>{r(33230),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.map((function(e){return e}))}},95576:(e,t,r)=>{var n=r(66722);r(39245),r(65820),r(14669),r(68538),r(28928),r(29890),r(62924),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(64455)),a=n(r(52141)),u=n(r(67335)),i=n(r(20243));function c(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function s(e){this.listeners.forEach((function(t){t(e)}))}var f=function(){function e(t){var r=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];(0,u.default)(this,e),this.reducer=t||function(e){return e},this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n),this.middlewares=o||[],this.middlewares.forEach((function(e){e.setStore(r)})),this.listeners=[]}return(0,i.default)(e,[{key:"getState",value:function(){return this.state}},{key:"runBeforeMiddleWares",value:function(e){var t=this;return new Promise((function(r,n){var o=t.middlewares.length-1;(function r(){return new Promise((function(n,a){o<0?n():t.middlewares[o--].before({state:t.state,action:e}).then((function(){r().then((function(){n()}))})).catch((function(e){a(e)}))}))})().then((function(){r()})).catch((function(e){n(e)}))}))}},{key:"runAfterMiddleWares",value:function(e){var t=this;return new Promise((function(r,n){var o=0;(function r(n){return new Promise((function(a,u){o>=t.middlewares.length?a(n):t.middlewares[o++].after({state:t.state,action:e}).then((function(e){r(e).then((function(e){a(e)}))})).catch((function(e){u(e)}))}))})().then((function(e){r(e)})).catch((function(e){n(e)}))}))}},{key:"dispatch",value:function(e){var t=this;if(e instanceof Function)e(this.dispatch.bind(this));else{if(this.middlewares.length)return new Promise((function(r){t.runBeforeMiddleWares(e).then((function(){e.success;var n=(0,o.default)(e,["success"]);s.call(t,n),t.state=t.reducer(t.state,e),t.runAfterMiddleWares(e).then((function(n){s.call(t,e),r(n)}))}))}));this.state=this.reducer(this.state,e),s.call(this,e)}}},{key:"subscribe",value:function(e){var t=this;return this.listeners.push(e),function(){var r=t.listeners.indexOf(e);-1!==r&&t.listeners.splice(r,1)}}}]),e}();t.default=function(e,t,r){return new f(e,t,r)}},29904:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={cloneDeep:function(e){return JSON.parse(JSON.stringify(e))}};t.default=r},9092:(e,t,r)=>{var n=r(66722);r(74330),Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=function(e){return null===e||""===e||void 0===e},t.isArray=a,t.isNumber=function(e){return!i(e)&&!a(e)&&!u(e)&&"number"==typeof e},t.isBoolean=function(e){return"boolean"===(0,o.default)(e).toLowerCase()},t.isString=function(e){return"string"===(0,o.default)(e).toLowerCase()},t.isFunction=u,t.isObject=i;var o=n(r(85898));function a(e){return Array.isArray(e)}function u(e){return e instanceof Function}function i(e){return e instanceof Object&&!Array.isArray(e)&&!(e instanceof Function)}},83298:(e,t,r)=>{var n=r(66722);r(80162),r(39245),r(65820),r(59158),r(50696),r(70228),r(49266),r(47352),r(7882),r(62924),Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){var t="";if(e?t=e.trim():"undefined"!=typeof window&&(t=window.location.search.trim()),!t)return{};0===t.indexOf("?")&&(t=t.substring(1));for(var r=t.split("&"),n={},a=0,u=r.length;a<u;a++){var i,c=r[a];c.trim()&&((i=c.split("=")).length<2||(i=(c=(0,o.default)(i,2))[0],c=c[1],n[i]=c.trim()?decodeURIComponent(c.trim()):c.trim()))}return n},t.stringify=function(e){var t=e||{},r=(e=Object.keys(t),[]);return e.forEach((function(e,n){r.push("".concat(0===n?"?":"").concat(e,"=").concat(encodeURIComponent(t[e])))})),r.join("&")};var o=n(r(43187))}}]);