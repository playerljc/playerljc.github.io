"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[1599],{10499:function(e,t,i){i.r(t),i.d(t,{default:function(){return f}});var n=i(90171),a=i(84402),o=i(39894),c="adhere-ui-notification",l=function(){function e(e,t){this.config={style:"material",type:"top"},this.notifications={},this.key=!1,this.container=e,this.config=Object.assign(this.config,t),this.createInnerContainer(),this.init(),this.initEvents()}return e.prototype.createInnerContainer=function(){var e,t=this.container.querySelector(".".concat(c));t&&null!=(e=null==t?void 0:t.parentElement)&&e.removeChild(t),this.innerContainer=document.createElement("div"),this.innerContainer.className=c,this.notificationContainer=document.createElement("ul"),this.innerContainer.appendChild(this.notificationContainer),this.container.appendChild(this.innerContainer)},e.prototype.init=function(){var e,t=this.config;null!=(e=this.innerContainer)&&e.classList.remove([c].concat(["top"===t.type?"bottom":"top",t.style]).join("-")),null!=(e=this.innerContainer)&&e.classList.add([c].concat([t.type,t.style]).join("-"))},e.prototype.initEvents=function(){var e,t=this;null!=(e=this.notificationContainer)&&e.addEventListener("click",(function(e){e.target.classList.contains("close-btn")&&t.closeNotification.call(t,e.target.parentNode.dataset.id)}))},e.prototype.closeNotification=function(e){var t,i=this;i.key||(i.key=!0,t=i.notifications[e],i.trigger("onCloseBefore",t),t.addEventListener("transitionend",(function e(){var n;t.removeEventListener("transitionend",e),null!=(n=null==i?void 0:i.notificationContainer)&&n.removeChild(t),i.key=!1,i.trigger("onCloseAfter",t)})),t.style.overflow="hidden",t.querySelector(".info").style.opacity="0",t.style.height="0")},e.prototype.buildCustom=function(e){var t=e.closed,i=e.children,c=(e=(0,o.Z)(),document.createElement("li"));return c.dataset.id=e,a.createRoot(c).render(n.createElement((function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"info"},i),t?n.createElement("span",{className:"close-btn"}):null)}),null)),this.build(e,c)},e.prototype.buildStandard=function(e){var t,i=void 0===(t=e.headerLabel)?"":t,l=void 0===(t=e.headerIcon)?"":t,r=void 0===(t=e.title)?"":t,s=void 0===(t=e.text)?"":t,d=void 0===(t=e.icon)?"":t,I=void 0===(t=e.closed)||t,g=void 0===(t=e.datetime)?"":t;e=(0,o.Z)();return(t=document.createElement("li")).dataset.id=e,a.createRoot(t).render(n.createElement((function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"info"},n.createElement("div",{className:"".concat(c,"-standard-header")},n.createElement("div",{className:"".concat(c,"-standard-header-icon")},l?n.createElement("img",{src:l,alt:""}):null),n.createElement("div",{className:"".concat(c,"-standard-header-label")},null!=i?i:"")),n.createElement("div",{className:"".concat(c,"-standard-content")},n.createElement("div",{className:"".concat(c,"-standard-content-media-l")},d?n.createElement("img",{src:d,alt:""}):null),n.createElement("div",{className:"".concat(c,"-standard-content-row")},n.createElement("div",{className:"".concat(c,"-standard-content-row-title")},null!=r?r:""),n.createElement("div",{className:"".concat(c,"-standard-content-row-text")},null!=s?s:"")),n.createElement("div",{className:"".concat(c,"-standard-content-media-r")},null!=g?g:""))),I?n.createElement("span",{className:"close-btn"}):null)}),null)),this.build(e,t)},e.prototype.build=function(e,t){var i=this;return this.notifications[e]=t,this.notificationContainer.appendChild(t),setTimeout((function(){i.trigger("onCreate",t),t.style.height="auto";var e=t.clientHeight;"material"===i.config.style?e<40&&(e=40):"ios"===i.config.style&&e<70&&(e=70),t.style.height="0",setTimeout((function(){t.style.height="".concat(e,"px"),t.querySelector(".info").style.opacity="1",i.trigger("onShow",t)}),100)}),100),e},e.prototype.trigger=function(e,t){this.config[e]&&this.config[e](t)},e.prototype.show=function(e){return this.buildCustom(e)},e.prototype.showStandard=function(e){return this.buildStandard(e)},e.prototype.close=function(e){this.closeNotification(e)},e}(),r={build:function(e,t){return new l(e,t)}},s=i(75643),d=i(17464),I=i(96032),g="kVszMPWBqKtjU6t9KyyQ",m="M6s1QJYMmNw2r56qLlFa",y="FtNlmXB489sYodYWdPId";const{TabPane:u}=s.default,p=[{key:"ios-top",ref:n.createRef(),ins:null},{key:"ios-bottom",ref:n.createRef(),ins:null},{key:"material-top",ref:n.createRef(),ins:null},{key:"material-bottom",ref:n.createRef(),ins:null}];var f=()=>{const[e,t]=(0,n.useState)("ios-top");function i(e){t(e)}function a(e){return p.find((t=>{let{key:i}=t;return i===e}))}return(0,n.useLayoutEffect)((()=>{setTimeout((()=>{const t=a(e);if(!t||t&&!t.ref.current)return;const[i,n]=e.split("-");t.ins=r.build(t.ref.current,{style:i,type:n})}),1e3)}),[...p.map((e=>e.ref.current))]),n.createElement(I.ZP,null,n.createElement(I.$0,{title:"Notification"},n.createElement("p",null,"通知"),n.createElement("ul",null,n.createElement("li",null,"- 支持ios和material"),n.createElement("li",null,"- 支持top和bottom方向"))),n.createElement(I.e0,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"基本使用",mode:"code",scope:{React:n},cardProps:{description:{title:"基本使用",info:"基本使用"}},codeText:"\n  import React, { useState, useEffect } from 'react';\n  import { Button, Tabs } from 'antd';\n  import { Notification, Space } from '@baifendian/adhere';\n\n  import styles from './index.less';\n\n  const { TabPane } = Tabs;\n\n  const config = [\n    { key: 'ios-top', ref: React.createRef(), ins: null },\n    { key: 'ios-bottom', ref: React.createRef(), ins: null },\n    { key: 'material-top', ref: React.createRef(), ins: null },\n    { key: 'material-bottom', ref: React.createRef(), ins: null },\n  ];\n\n  export default () => {\n    const [activeKey, setActiveKey] = useState('ios-top');\n\n    useEffect(() => {\n      // eslint-disable-next-line no-use-before-define\n      const record = getRecord(activeKey);\n      const [style, type] = activeKey.split('-');\n      record.ins = Notification.build(record.ref.current, {\n        style,\n        type,\n      });\n    }, [activeKey]);\n\n    function onChange(key) {\n      setActiveKey(key);\n    }\n\n    function getRecord(curKey) {\n      return config.find(({ key }) => key === curKey);\n    }\n\n    <Tabs tabPosition=\"left\" activeKey={activeKey} onChange={onChange}>\n      {config.map((t) => (\n        <TabPane tab={t.key} key={t.key}>\n          {activeKey === t.key ? (\n            <div className={styles.Tab}>\n              <div className={styles.Fixed}>\n                <Button\n                  onClick={() => {\n                    const record = getRecord(activeKey);\n                    record.ins.show({\n                      closed: true,\n                      children: <div>自定义的UI</div>,\n                    });\n                  }}\n                >\n                  show custom close\n                </Button>\n                <Button\n                  onClick={() => {\n                    const record = getRecord(activeKey);\n                    record.ins.show({\n                      closed: false,\n                      children: <div>自定义的UI</div>,\n                    });\n                  }}\n                >\n                  show custom unclose\n                </Button>\n                <Button\n                  onClick={() => {\n                    const record = getRecord(activeKey);\n                    record.ins.showStandard({\n                      headerLabel: 'NotificationTitle',\n                      headerIcon:\n                        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K',\n                      title: 'Notification',\n                      text:\n                        'CtMobile A mobile-side framework that supports multiple forms of page switching, page transitions, page values, notifications, etc., suitable for developing single-page applications (SPA), hybrid development (mixed), and Córdoba development',\n                      icon:\n                        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K',\n                      closed: true,\n                      datetime: '2019-02-12',\n                    });\n                  }}\n                >\n                  show Standard close\n                </Button>\n                <Button\n                  onClick={() => {\n                    const record = getRecord(activeKey);\n                    record.ins.showStandard({\n                      headerLabel: 'NotificationTitle',\n                      headerIcon:\n                        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K',\n                      title: 'Notification',\n                      text:\n                        'CtMobile A mobile-side framework that supports multiple forms of page switching, page transitions, page values, notifications, etc., suitable for developing single-page applications (SPA), hybrid development (mixed), and Córdoba development',\n                      icon:\n                        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K',\n                      closed: false,\n                      datetime: '2019-02-12',\n                    });\n                  }}\n                >\n                  show Standard unclose\n                </Button>\n              </div>\n              <div className={styles.Auto} ref={t.ref} />\n            </div>\n          ) : null}\n        </TabPane>\n      ))}\n    </Tabs>\n\n    /*----------------------------index.less-------------------------*/\n    .Tab {\n      display: flex;\n      flex-direction: column;\n      height: 600px;\n\n      > .Fixed {\n        display: flex;\n        flex-shrink: 0;\n        :global {\n          .ant-btn {\n            margin-right: 10px;\n          }\n        }\n      }\n\n      > .Auto {\n        position: relative;\n        flex-grow: 1;\n        min-height: 0;\n      }\n    }\n  }\n    ",type:"PlayGround",renderChildren:()=>n.createElement(s.default,{tabPosition:"left",activeKey:e,onChange:i},p.map((t=>n.createElement(u,{tab:t.key,key:t.key,id:t.key},e===t.key?n.createElement("div",{className:g},n.createElement("div",{className:m},n.createElement(d.ZP,{onClick:()=>{a(e).ins.show({closed:!0,children:n.createElement("div",null,"自定义的UI")})}},"show custom close"),n.createElement(d.ZP,{onClick:()=>{a(e).ins.show({closed:!1,children:n.createElement("div",null,"自定义的UI")})}},"show custom unclose"),n.createElement(d.ZP,{onClick:()=>{a(e).ins.showStandard({headerLabel:"NotificationTitle",headerIcon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K",title:"Notification",text:"CtMobile A mobile-side framework that supports multiple forms of page switching, page transitions, page values, notifications, etc., suitable for developing single-page applications (SPA), hybrid development (mixed), and Córdoba development",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K",closed:!0,datetime:"2019-02-12"})}},"show Standard close"),n.createElement(d.ZP,{onClick:()=>{a(e).ins.showStandard({headerLabel:"NotificationTitle",headerIcon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K",title:"Notification",text:"CtMobile A mobile-side framework that supports multiple forms of page switching, page transitions, page values, notifications, etc., suitable for developing single-page applications (SPA), hybrid development (mixed), and Córdoba development",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K",closed:!1,datetime:"2019-02-12"})}},"show Standard unclose")),n.createElement("div",{className:y,ref:t.ref})):null))))}]}),n.createElement(I.sB,{title:"Props",config:[{border:!0,title:"IConfig",data:[{params:"style",desc:"风格",type:"'ios' | 'material'",defaultVal:"ios"},{params:"type",desc:"类型",type:"'top' | 'bottom'",defaultVal:"top"},{params:"onCreate",desc:"创建完成",type:"Function",defaultVal:""},{params:"onShow",desc:"显示完成",type:"Function",defaultVal:""},{params:"onCloseBefore",desc:"关闭之前",type:"Function",defaultVal:""},{params:"onCloseAfter",desc:"关闭之后",type:"Function",defaultVal:""}]},{border:!0,title:"IShowConfig",data:[{params:"closed",desc:"是否有关闭按钮",type:"boolean",defaultVal:""},{params:"children",desc:"显示的UI",type:"React.ReactElement",defaultVal:""}]},{border:!0,title:"IShowStandardConfig",data:[{params:"closed",desc:"是否有关闭按钮",type:"boolean",defaultVal:""},{params:"headerLabel",desc:"头部UI",type:"string | React.ReactElement",defaultVal:""},{params:"headerIcon",desc:"头部图标",type:"string",defaultVal:""},{params:"title",desc:"标题",type:"string | React.ReactElement",defaultVal:""},{params:"text",desc:"内容",type:"string | React.ReactElement",defaultVal:""},{params:"icon",desc:"图标",type:"string",defaultVal:""},{params:"datetime",desc:"时间",type:"string | React.ReactElement",defaultVal:""}]}]}),n.createElement(I.ae,{title:"Api",config:[{border:!0,title:"NotificationFactory",data:[{name:"build",desc:"构建一个Notification",modifier:"static",params:[{name:"container",desc:"父容器",type:"HtmlElement",defaultVal:"",required:""},{name:"config",desc:"配置",type:"IConfig",defaultVal:"",required:""}],returnType:"Notification",returnDesc:""}]},{border:!0,title:"Notification",data:[{name:"show",desc:"显示一个自定义的notification",modifier:"public",params:[{name:"config",desc:"配置",type:"IShowConfig",defaultVal:"",required:""}],returnType:"string",returnDesc:"notification的id"},{name:"showStandard",desc:"显示一个标准的notification",modifier:"public",params:[{name:"config",desc:"配置",type:"IShowStandardConfig",defaultVal:"",required:""}],returnType:"string",returnDesc:"notification的id"},{name:"close",desc:"关闭一个notification",modifier:"public",params:[{name:"id",desc:"id",type:"string",defaultVal:"",required:""}],returnType:"void",returnDesc:""}]}]}))}},96032:function(e,t,i){i.d(t,{$0:function(){return r},ae:function(){return I},e0:function(){return s},sB:function(){return d}});var n=i(70517),a=i(6692),o=i(90171);const{PlayGroundPageContext:c,PlayGroundPage:l}=a.default,{Section:r,CodeBoxSection:s,PropsSection:d,FunctionPropsSection:I}=l;t.ZP=function(e){let{children:t,...i}=e;const[a,r]=(0,o.useState)(),s=(0,o.useRef)();return(0,o.useEffect)((()=>{r(s.current.parentElement.parentElement)}),[]),o.createElement(c.Provider,{value:{scrollEl:a}},o.createElement(l,(0,n.Z)({ref:s},i),t))}}}]);