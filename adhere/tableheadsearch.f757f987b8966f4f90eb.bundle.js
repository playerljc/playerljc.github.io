"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[3291],{49223:(e,n,t)=>{t.d(n,{A:()=>l});var a=t(84731),r=t(26322);const l=function(e,n){return void 0===n&&(n=r.createElement(a.A,null)),{filterIcon:function(){return n},filterDropdown:function(n){return e(n)}}}},65423:(e,n,t)=>{t.r(n),t.d(n,{default:()=>E});var a=t(26322),r=t(19994),l=t(14732);const c=t(49223).A;var o=t(87318),i=t(48305),s=t(80711),u=t(10232);const d="abCLc096q2lSISb794vf",m="beVCIOjhV7ahQuCfULPG",p="QPiEOInX9wo6tOixBvFw",f="rt307FFYsX9tmFliKPUM",{Option:y}=o.A,{Search:v}=i.A;const h=()=>{const[e,n]=(0,a.useState)([{name:"张三",sex:"男",dept:"产品部"},{name:"李四",sex:"男",dept:"研发部"},{name:"王五",sex:"女",dept:"产品部"}]);return a.createElement(u.A,{dataSource:e,columns:[{title:"姓名",dataIndex:"name",key:"name",...c((e=>{let{confirm:n}=e;return a.createElement("div",{className:d},a.createElement("div",{className:m},a.createElement(i.A,{autoFocus:!0,style:{width:"100%"}})),a.createElement("div",null,a.createElement(s.Ay,{size:"small",type:"primary",onClick:()=>{n()}},"确定")))}))},{title:"性别",dataIndex:"sex",key:"sex",...c((e=>{let{confirm:n}=e;return a.createElement("div",null,a.createElement(o.A,{autoFocus:!0,style:{width:"100%"},onChange:()=>{n()},getPopupContainer:l.A.Dict.value.FormPopupContainer.value},a.createElement(y,{key:1,value:"男"},"男"),a.createElement(y,{key:2,value:"女"},"女")))}))},{title:"所在部门",dataIndex:"dept",key:"dept",...c((e=>{let{confirm:n}=e;return a.createElement("div",{className:p},a.createElement("div",{className:m},a.createElement(v,{placeholder:"input search text",allowClear:!0,className:f}),a.createElement(s.Ay,{type:"primary",onClick:()=>{n()}},"确定")),a.createElement("div",null,a.createElement(u.A,{dataSource:[{name:"产品部",count:20},{name:"研发部",count:30}],columns:[{key:"name",dataIndex:"name"},{key:"count",dataIndex:"count"}]})))}))}],pagination:!1})},E=()=>a.createElement(r.Ay,null,a.createElement(r.wn,{title:"TableHeadSearch"},a.createElement("p",null,"基于antd-design的Table的列头筛选")),a.createElement(r.Wc,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"基本使用",mode:"code",scope:{React:a},cardProps:{description:{title:"基本使用",info:"基本使用"}},type:"PlayGround",codeText:"import { Button, Input, Select, Table } from 'antd';\nimport React, { useState } from 'react';\n\nimport { Resource, TableHeadSearch } from '@baifendian/adhere';\n\nimport styles from './examples.less';\n\nconst { Option } = Select;\n\nconst { Search } = Input;\n\nfunction getColumns() {\n  return [\n    {\n      title: '姓名',\n      dataIndex: 'name',\n      key: 'name',\n      ...TableHeadSearch(({ confirm }) => (\n        <div className={styles.Wrapper}>\n          <div className={styles.Inner}>\n            <Input autoFocus style={{ width: '100%' }} />\n          </div>\n          <div>\n            <Button\n              size=\"small\"\n              type=\"primary\"\n              onClick={() => {\n                confirm();\n              }}\n            >\n              确定\n            </Button>\n          </div>\n        </div>\n      )),\n    },\n    {\n      title: '性别',\n      dataIndex: 'sex',\n      key: 'sex',\n      ...TableHeadSearch(({ confirm }) => (\n        <div>\n          <Select\n            autoFocus\n            style={{ width: '100%' }}\n            onChange={() => {\n              confirm();\n            }}\n            getPopupContainer={Resource.Dict.value.FormPopupContainer.value}\n          >\n            <Option key={1} value=\"男\">\n              男\n            </Option>\n            <Option key={2} value=\"女\">\n              女\n            </Option>\n          </Select>\n        </div>\n      )),\n    },\n    {\n      title: '所在部门',\n      dataIndex: 'dept',\n      key: 'dept',\n      ...TableHeadSearch(({ confirm }) => (\n        <div className={styles.Wrapper1}>\n          <div className={styles.Inner}>\n            <Search placeholder=\"input search text\" allowClear className={styles.Search} />\n            <Button\n              type=\"primary\"\n              onClick={() => {\n                confirm();\n              }}\n            >\n              确定\n            </Button>\n          </div>\n          <div>\n            <Table\n              dataSource={[\n                {\n                  name: '产品部',\n                  count: 20,\n                },\n                {\n                  name: '研发部',\n                  count: 30,\n                },\n              ]}\n              columns={[\n                {\n                  key: 'name',\n                  dataIndex: 'name',\n                },\n                {\n                  key: 'count',\n                  dataIndex: 'count',\n                },\n              ]}\n            />\n          </div>\n        </div>\n      )),\n    },\n  ];\n}\n\nexport default () => {\n  const [dataSource, setDataSource] = useState([\n    {\n      name: '张三',\n      sex: '男',\n      dept: '产品部',\n    },\n    {\n      name: '李四',\n      sex: '男',\n      dept: '研发部',\n    },\n    {\n      name: '王五',\n      sex: '女',\n      dept: '产品部',\n    },\n  ]);\n\n  return <Table dataSource={dataSource} columns={getColumns()} pagination={false} />;\n};\n",renderChildren:()=>a.createElement(h,null)}]}),a.createElement(r.I7,{title:"Api",config:[{border:!0,title:"方法",data:[{name:"TableHeadSearch",desc:"构建UI的方法",modifier:"global",params:[{name:"render",desc:"构建UI的回调方法",type:"Function({confirm}) confirm用来关闭窗体",defaultVal:"",required:"true"},{name:"icon",desc:"右侧的图标",type:"React.ReactElement",defaultVal:"<SearchOutlined />",required:""}],returnType:"void",returnDesc:""}]}]}))},19994:(e,n,t)=>{t.d(n,{Ay:()=>m,I7:()=>d,Wc:()=>s,e6:()=>u,wn:()=>i});var a=t(71860),r=t(24370),l=t(26322);const{PlayGroundPageContext:c,PlayGroundPage:o}=r.A,{Section:i,CodeBoxSection:s,PropsSection:u,FunctionPropsSection:d}=o;const m=function(e){let{children:n,onScrollBottom:t,distance:r=50,...i}=e;const[s,u]=(0,l.useState)(),d=(0,l.useRef)(),m=(0,l.useRef)(!1);return(0,l.useEffect)((()=>{function e(){const e=n.scrollHeight-n.offsetHeight,a=n.scrollTop;if(t&&Math.abs(a-e)<=r){if(m.current)return;m.current=!0,null==t||t().then((()=>{m.current=!1}))}}const n=d.current.parentElement.parentElement;return n.addEventListener("scroll",e),u(n),()=>{n.removeEventListener("scroll",e)}}),[]),l.createElement(c.Provider,{value:{scrollEl:s}},l.createElement(o,(0,a.A)({ref:d},i),n))}}}]);