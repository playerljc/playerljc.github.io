"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[5756],{93805:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var a,r,o=n(90171),l=n(38914),s=n(96032),i=n(9579),c=n(17464),u=n(46509),d=n(74731),p=n(45264),m=n(78862),f=n(1821),h=n.n(f),g=n(5447),b=n(44877),y=n(20725),S=n(54829),C=(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(){return(v=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},E=function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},w=(0,S.W8)((function(e){return o.createElement("tr",v({},e))})),x=(0,S.JN)((function(e){return o.createElement("tbody",v({},e))})),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dataSource:t.props.dataSource||[],isSort:!1},t.DraggableBodyRow=function(e){e.className,e.style;var n=E(e,["className","style"]),a=(e=t.state.dataSource,void 0===(r=t.props.rowKey)?"id":r),r=e.findIndex((function(e){return e[a&&"function"==typeof a?a(e):a]===n["data-row-key"]}));return o.createElement(w,v({index:r},t.props.sortable&&"boolean"!=typeof t.props.sortable&&t.props.sortable.itemProps,n))},t.DraggableContainer=function(e){return o.createElement(x,v({helperClass:"".concat(U,"-row-dragging"),onSortEnd:t.onSortEnd,distance:2},t.props.sortable&&"boolean"!=typeof t.props.sortable&&t.props.sortable.containerProps,e))},t.onSortEnd=function(e){var n,a=e.oldIndex,r=(e=e.newIndex,t.state.dataSource);a!==e&&(n=r[a],(r=r.filter((function(e,t){return t!==a}))).splice(e,0,n),t.setState({isSort:!0,dataSource:r}))},t}return C(t,e),t.getDerivedStateFromProps=function(e,t){return t.isSort||JSON.stringify(e.dataSource)===JSON.stringify(t.dataSource)?t.isSort?{isSort:!1}:null:{dataSource:e.dataSource}},t.prototype.render=function(){var e=((e=this.props).sortable,E(e,["sortable"]));return o.createElement(d.Z,v({},e,{dataSource:this.state.dataSource,components:{body:{wrapper:this.DraggableContainer,row:this.DraggableBodyRow}}}))},t}(o.Component),R=P,D=n(42202),T=n(17071),I=n(93210),Z=n(20374),O=function(){return(O=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},L=function(e){var t=e.selectAll,n=e.rowSelection,a=e.rowKey,r=e.dataSource,l=e.setSelectAll;return n?o.createElement(Z.Z,O({title:y.ZP.v("全选"),placement:"top"},t),o.createElement(p.Z,{indeterminate:t.total&&n.selectAll?null==(e=null==(e=n.selectAll)?void 0:e.exceptKeys)?void 0:e.length:n.selectedRowKeys.length&&n.selectedRowKeys.length!==(null==r?void 0:r.length),checked:t.total&&n.selectAll?!(null!=(e=null==(e=n.selectAll)?void 0:e.exceptKeys)&&e.length):n.selectedRowKeys.length===(null==r?void 0:r.length),onChange:function(e){e.target.checked?n.onChange(r.map((function(e){return e[a]})),r):n.onChange([],[]),t.total&&l&&l(e.target.checked)}},t.title||y.ZP.v("全选"))):null},N=function(e){var t=e.reload,n=e.onSearch;return o.createElement(Z.Z,O({title:y.ZP.v("刷新"),placement:"top"},t),t.render||o.createElement(I.Z,{onClick:function(){return n()}}))},k=function(e){var t=e.setting,n=e.tableColumns,a=e.onSettingChange,r=e.onSettingSortEnd,l=(e=e.selectedColumnKeys,(0,S.W8)((function(e){return o.createElement(p.Z,O({},e))}))),s=(0,S.JN)((function(e){return o.createElement(p.Z.Group,O({},e))}));return o.createElement(T.Z,O({title:o.createElement((function(e){var t=void 0===(n=e.columns)?[]:n,n=void 0===(n=e.selectedColumnKeys)?[]:n,a=e.onChange;return o.createElement(o.Fragment,null,o.createElement(p.Z,{indeterminate:0!==(null==n?void 0:n.length)&&(null==n?void 0:n.length)!==(null==t?void 0:t.length),checked:(null==n?void 0:n.length)===(null==t?void 0:t.length),onChange:function(e){return a(e.target.checked?t.map((function(e){return e.key})):[])}},y.ZP.v("列展示")))}),{columns:n,onChange:a,selectedColumnKeys:e}),content:o.createElement((function(e){var t=void 0===(t=e.columns)?[]:t,n=void 0===(n=e.selectedColumnKeys)?[]:n,a=e.onChange;e=e.onSortEnd;return o.createElement(s,{helperClass:"".concat(U,"-set-dragging"),value:n,onChange:a,onSortEnd:e,distance:2},t.map((function(e,t){return o.createElement(l,{value:e.key,index:t,key:e.key},e.title)})))}),{columns:n,onChange:a,onSortEnd:r,selectedColumnKeys:e}),trigger:"click",placement:"bottomRight",overlayClassName:"".concat(U,"-settingOverlay")},t.Popover),o.createElement(Z.Z,O({title:y.ZP.v("设置"),placement:"top"},t),t.render||o.createElement(D.Z,{type:"setting"})))},K=n(19665),F=n.n(K),A=function(){return(A=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},j=function(e){var t=this;this.getModeProps=function(){return A({rowKey:"id"},t.ins.props[t.ins.props.mode||"table"])},this.getDefaultSelectedColumnKeys=function(e){var n=t.getModeProps().showNumber;e=(e||[]).filter((function(e){return e.show||!e.hasOwnProperty("show")})).map((function(e){return e.key}));return n&&!e.includes("xuhao")&&e.unshift((null==n?void 0:n.key)||"xuhao"),e},this.getRowSelection=function(){var e=void 0===(e=(a=t.ins.state).selectedRowKeys)?[]:e,n=void 0===(n=a.selectedRows)?[]:n,a=a.selectAll,r=t.getModeProps().rowSelection;return r?A(A({clearOnChange:!1},r),{onChange:t.onSelectChange,selectedRowKeys:r.selectedRowKeys||e,selectedRows:n,selectAll:a}):null},this.getSortDataSource=function(){return t.ins.SortableTableRef.state.dataSource},this.getParams=function(){var e=t.ins.props.params,n={};return t.ins.searchFormRef&&t.ins.searchFormRef.current&&(n=t.ins.searchFormRef.current.getFieldsValue()),A(A(A({},n),t.ins.state.params),e)},this.getFormColumns=function(e,n,a){return e.map((function(e){var r=e;return r.contentProps=null!=(e=r.contentProps)?e:{},r.contentProps.size=n,r.type!==b.Z.RANGEPICKER&&r.type!==b.Z.SELECT||(r.contentProps=A({getPopupContainer:function(){return t.ins.TableListRef}},r.contentProps)),r.type===b.Z.SELECT&&(r.contentProps=A({style:{width:"150px"},allowClear:!0},r.contentProps)),a&&(r.contentProps=A({onSearch:r.type===b.Z.SEARCH?function(e){var n;return t.onSearch(((n={})[r.name]=e,n))}:null,onPressEnter:r.type!==b.Z.SEARCH?function(e){var n;return t.onSearch(((n={})[r.name]=[b.Z.INPUT,b.Z.TEXTAREA,b.Z.NUMBER].includes(r.type)?e.target.value:e,n))}:null},r.contentProps)),r}))},this.getPagination=function(e){var n=t.ins.state.params;return A({size:"default",defaultPageSize:10,current:n.page,pageSize:n.limit,showSizeChanger:!0,pageSizeOptions:["10","20","50"],showQuickJumper:!0,showTotal:function(e,t){var n=t[0];t=t[1];return"当前 ".concat(n,"-").concat(t,"/共 ").concat(e," 条")},onChange:t.onPageChange,onShowSizeChange:t.onPageChange},e)},this.getTableColumns=function(){var e=t.ins.state.params,n=(a=t.getModeProps()).columns,a=a.showNumber;n=(n||[]).map((function(t){var n;return A(A({},t),{render:function(e,n,a){var r;return r=t.render?t.render(e,n,a):"date"===t.valueType?e?F()(e).format("L"):"-":"datetime"===t.valueType?e?F()(e).format("LLL"):"-":"map"===t.valueType&&t.map?(n=e&&(t.map||[]).find((function(t){return t.value.toString()===e.toString()})),e&&n?n.label:"-"):e,null!=t&&t.ellipsis?o.createElement(Z.Z,{title:r,placement:"topLeft"},r):r},filtered:(null==(n=t.filters)?void 0:n.length)&&e[t.key]})}));return a&&!n.find((function(e){return"xuhao"===e.key}))&&n.unshift(A({title:y.ZP.v("序号"),dataIndex:"xuhao",key:"xuhao",width:80,render:function(t,n,a){return(e.page-1)*e.limit+a+1}},a)),n},this.getLoading=function(e){return!(!e&&!t.ins.state.loading)&&(e&&e.hasOwnProperty("size")?e:{size:"large"})},this.fetchList=function(e){e=A(A({},t.getParams()),e),t.ins.props.request&&(t.ins.setState({loading:!0}),t.ins.props.request(e).then((function(){t.ins.setState({loading:!1})})))},this.onSearch=function(e){var n=t.ins.state.params,a=t.getRowSelection();a&&!a.selectAll&&a.clearOnChange&&a.onChange([],[]),t.ins.setState({params:A(A(A({},n),e),{page:1})},(function(){t.fetchList()}))},this.onResetSearch=function(){var e=t.ins.state.params,n=t.getRowSelection();t.ins.searchFormRef&&t.ins.searchFormRef.current&&t.ins.searchFormRef.current.resetFields(),e.page=1,n&&n.onChange([],[]),t.ins.setState({params:e},(function(){t.fetchList()}))},this.onSettingChange=function(e){t.ins.setState({selectedColumnKeys:e})},this.onSettingSortEnd=function(e){var n,a=e.oldIndex,r=(e=e.newIndex,t.ins.state.tableColumns);a!==e&&(n=r[a],(r=r.filter((function(e,t){return t!==a}))).splice(e,0,n),t.ins.setState({tableColumns:r}))},this.onTableChange=function(e,n,a){if(!(0,g.isEmpty)(a)||!(0,g.isEmpty)(n)){var r,o=A(A({},t.ins.state.params),{order:null==(l=null==a?void 0:a.order)?void 0:l.replace("end",""),sidx:null==a?void 0:a.field});for(r in n)o[r]=n[r].join(","),o.page=1;var l=t.getRowSelection();l&&!l.selectAll&&l.clearOnChange&&l.onChange([],[]),t.ins.setState({params:o},(function(){return t.fetchList()}))}},this.onSelectChange=function(e,n){var a=(o=t.getModeProps()).dataSource,r=o.rowKey,o=o.rowSelection,l=t.ins.state.selectAll;t.ins.state.selectAll&&(a=a.map((function(e){return e[r]})),l=(0,g.union)(l.exceptKeys||[],(0,g.difference)(a,e)),t.ins.setState({selectAll:!l.length||{exceptKeys:l}})),null!=o&&o.onChange?o.onChange(e,n):t.ins.setState({selectedRowKeys:e,selectedRows:n})},this.onPageChange=function(e,n){var a=t.ins.state.params,r=t.getRowSelection();r&&!r.selectAll&&r.clearOnChange&&r.onChange([],[]),t.ins.setState({params:A(A({},a),{page:e,limit:n})},(function(){return t.fetchList()}))},this.onDelete=function(e){void 0===e&&(e=[]);var n=(r=t.getModeProps()).pagination,a=r.rowKey,r=n.total,o=(n=t.ins.state.params).page;r%(n=n.limit)==1&&o===Math.ceil(r/n)?t.ins.setState({params:A(A({},t.ins.state.params),{page:o-e.length||1})},(function(){return t.fetchList()})):((r=t.getRowSelection())&&(n=r.selectedRowKeys.filter((function(t){return!e.includes(t)})),o=r.selectedRows.filter((function(t){return!e.includes(t[a])})),r.onChange(n,o)),t.fetchList())},this.ins=e},M=(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),V=function(){return(V=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},q=function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},U="adhere-ui-tablelist",_=function(e){function t(t){var n=e.call(this,t)||this;n.renderToolbar=function(){var e,t,a,r,l,s,i,c,u,d,p,m,f,g;if(n.props.toolbar)return e=(a=n.getModeProps()).dataSource,t=a.rowKey,a=a.pagination,r=(p=n.props.toolbar).className,l=p.title,s=p.total,i=p.selectAll,c=p.search,u=p.reload,d=p.setting,p=p.toolbarOptionRender,m=(f=n.state).selectedColumnKeys,f=f.tableColumns,g=n.getRowSelection(),o.createElement("div",{className:h()(r,"".concat(U,"-toolbar"))},o.createElement("div",{className:"".concat(U,"-toolbar-left")},l?o.createElement("span",{className:"".concat(U,"-toolbar-left-title")},l):null,s?o.createElement("span",{className:"".concat(U,"-toolbar-left-total")},!0===s?y.ZP.vHtml("共 <em>{n}</em> 条",{n:a&&a.total}):s):null,i?o.createElement(L,{selectAll:i,dataSource:e,rowSelection:g,rowKey:t,setSelectAll:function(e){return n.setState({selectAll:e})}}):null),o.createElement("div",{className:"".concat(U,"-toolbar-right")},p,c?o.createElement(b.Z,{columns:n.getFormColumns(c||[],"default",!0)}):null,u?o.createElement(N,{reload:u,onSearch:n.onSearch}):null,d?o.createElement(k,{setting:d,tableColumns:f,onSettingChange:n.onSettingChange,onSettingSortEnd:n.onSettingSortEnd,selectedColumnKeys:m}):null))},n.renderList=function(){var e,t,a,r,l,s;if(n.props.list)return l=n.getModeProps(),e=l.rowKey,t=l.pagination,a=l.loading,r=l.renderItem,l=q(l,["rowKey","pagination","loading","renderItem"]),s=n.getRowSelection(),o.createElement(m.Z,V({rowKey:e,pagination:n.getPagination(t),loading:n.getLoading(a),renderItem:function(t,n){var a="function"==typeof e?e(t):e;return o.createElement(m.Z.Item,null,o.createElement(o.Fragment,null,s?o.createElement(p.Z,{checked:s.selectedRowKeys.includes(t[a]),onChange:function(e){e.target.checked?(s.selectedRowKeys.push(t[a]),s.selectedRows.push(t),s.onChange(s.selectedRowKeys,s.selectedRows)):s.onChange(s.selectedRowKeys.filter((function(e){return e!==t[a]})),s.selectedRows.filter((function(e){return e[a]!==t[a]})))}}):null,r&&r(t,n)))}},l))},n.renderTable=function(){var e,t,a,r,l,s,i,c;if(n.props.table)return t=n.state,e=t.selectedColumnKeys,t=t.tableColumns,a=(i=n.getModeProps()).sortable,c=i.pagination,r=i.loading,l=i.dataSource,i.columns,s=i.rowKey,i.rowSelection,i=q(i,["sortable","pagination","loading","dataSource","columns","rowKey","rowSelection"]),c=V({pagination:n.getPagination(c),loading:n.getLoading(r),rowSelection:n.getRowSelection(),columns:t.filter((function(t){return e.includes(t.key)})),dataSource:l,onChange:n.onTableChange},i),a?o.createElement(R,V({ref:function(e){n.SortableTableRef=e},rowKey:s},c,{sortable:a})):o.createElement(d.Z,V({rowKey:s},c))},t=new j(n),n.getModeProps=t.getModeProps,n.getDefaultSelectedColumnKeys=t.getDefaultSelectedColumnKeys,n.getFormColumns=t.getFormColumns,n.getSortDataSource=t.getSortDataSource,n.getParams=t.getParams,n.getRowSelection=t.getRowSelection,n.getPagination=t.getPagination,n.getLoading=t.getLoading,n.getTableColumns=t.getTableColumns,n.fetchList=t.fetchList,n.onSearch=t.onSearch,n.onResetSearch=t.onResetSearch,n.onSettingChange=t.onSettingChange,n.onSettingSortEnd=t.onSettingSortEnd,n.onTableChange=t.onTableChange,n.searchFormRef=o.createRef(),t=n.getModeProps();return n.state={firstLoading:!0,loading:!1,selectedColumnKeys:n.props.table?n.getDefaultSelectedColumnKeys(n.props.table.columns):[],tableColumns:[],params:{page:1,limit:t&&t.pagination&&t.pagination.defaultPageSize||10}},n}return M(t,e),t.getDerivedStateFromProps=function(e,t){var n=(null!=(n=e[e.mode||"table"])?n:{}).dataSource;return!e.request&&null!=t&&t.firstLoading&&n||e.request&&null!=t&&t.firstLoading&&null!=t&&t.firstRequest&&n?{firstLoading:!1}:null},t.prototype.componentDidMount=function(){var e=this,t=this.getModeProps();this.props.request?this.setState({firstRequest:!0},(function(){return e.fetchList()})):t.dataSource&&this.setState({firstLoading:!1}),this.setState({tableColumns:this.getTableColumns()})},t.prototype.shouldComponentUpdate=function(e,t){var n,a=null!=(a=e[e.mode||"table"])?a:{},r=this.getModeProps();return!t.selectAll||JSON.stringify(a.dataSource)===JSON.stringify(r.dataSource)||(r=a.dataSource,a=a.rowKey,n=void 0===a?"id":a,a=(r||[]).map((function(e){return e["function"==typeof n?n(e):n]})).filter((function(e){var n;return!(null!=(n=null==(n=t.selectAll)?void 0:n.exceptKeys)&&n.includes(e))})),"table"===e.mode&&e.table&&e.table.rowSelection&&e.table.rowSelection.onChange?e.table.rowSelection.onChange(a,(0,g.cloneDeep)(r)):this.setState({selectedRowKeys:a,selectedRows:r}),!1)},t.prototype.renderSearch=function(){var e,t,n,a,r,l,s,i,d=this,p=this.props.search;if(p)return e=p.className,t=p.beforeContent,n=p.afterContent,a=p.optionRender,r=p.columns,l=p.searchText,s=p.resetText,i=void 0===(i=p.size)?"middle":i,p?o.createElement("div",{className:h()(e,"".concat(U,"-search"))},t,o.createElement(u.Z,{layout:"inline",ref:this.searchFormRef,className:h()("".concat(U,"-search-form"),((e={})["".concat(U,"-search-form-havebefore")]=t,e["".concat(U,"-search-form-haveafter")]=n,e))},o.createElement("div",{className:"ant-form-search"},o.createElement(b.Z,{columns:this.getFormColumns(r||[],i,p.hasOwnProperty("optionRender")&&!a)})),p.hasOwnProperty("optionRender")?a:o.createElement("div",{className:"ant-form-btngroup"},o.createElement(c.ZP,{onClick:function(){return d.onResetSearch()},size:i},s||y.ZP.v("重置")),o.createElement(c.ZP,{type:"primary",onClick:function(){return d.onSearch()},size:i},l||y.ZP.v("搜索")))),n):null},t.prototype.renderContent=function(){var e=this.props.mode;return o.createElement("div",{className:"".concat(U,"-content")},this.renderToolbar(),this.state.firstLoading?this.renderLoading():"list"===e?this.renderList():this.renderTable())},t.prototype.renderLoading=function(){return o.createElement(i.Z,{paragraph:{rows:10},title:!1})},t.prototype.render=function(){var e=this,t=this.props.className;return o.createElement("div",{className:h()(U,t),ref:function(t){e.TableListRef=t}},this.renderSearch(),this.renderContent())},t}(o.PureComponent);_.defaultProps={mode:"table"};var B=_,z=n(33196),G=n(67199);const J=e=>new Promise(((t,n)=>{setTimeout((()=>{const n=e&&e.page||"";t({code:200,data:{list:[{id:1,name:"小明"+n,age:48,sex:1},{id:2,name:"小红"+n,age:27,sex:2},{id:3,name:"小李"+n,age:22,sex:2},{id:4,name:"小张"+n,age:30,sex:1},{id:5,name:"小秦"+n,age:50,sex:2},{id:6,name:"小王"+n,age:50,sex:1},{id:7,name:"小孙"+n,age:30,sex:2},{id:8,name:"小吴"+n,age:32,sex:2},{id:9,name:"小郑"+n,age:21,sex:2},{id:10,name:"小花"+n,age:14,sex:1}],total:20},message:""})}),2e3)}));class H extends o.Component{constructor(e){super(e),(0,G.Z)(this,"fetchData",(e=>(console.log("搜索参数",e),J(e).then((e=>{200===e.code&&this.setState({tableData:e.data})}))))),(0,G.Z)(this,"tableColumns",[{title:"姓名",dataIndex:"name",key:"name",ellipsis:!0},{title:"年龄",dataIndex:"age",key:"age",ellipsis:!0},{title:"性别",dataIndex:"sex",key:"sex",ellipsis:!0,valueType:"map",map:[{value:1,label:"男"},{value:2,label:"女"}]}]),this.state={dataSource:[]}}render(){const{tableData:e}=this.state;return o.createElement(B,{mode:"table",search:{beforeContent:o.createElement(c.ZP,{type:"primary"},"新增"),columns:[{label:"姓名",type:z.Z.INPUT,name:"name"},{label:"年龄",type:z.Z.NUMBER,name:"age"}]},toolbar:{title:"这是表格的标题",total:!0,selectAll:!0,setting:!0,reload:!0},table:{columns:this.tableColumns,dataSource:e&&e.list,pagination:{total:e&&e.total},rowSelection:!0},ref:e=>this.tableListRef=e,request:this.fetchData})}}class W extends o.Component{constructor(e){super(e),(0,G.Z)(this,"fetchData",(e=>(console.log("搜索参数",e),J(e).then((e=>{200===e.code&&this.setState({tableData:e.data})}))))),(0,G.Z)(this,"tableColumns",[{title:"姓名",dataIndex:"name",key:"name",ellipsis:!0},{title:"年龄",dataIndex:"age",key:"age",ellipsis:!0},{title:"性别",dataIndex:"sex",key:"sex",ellipsis:!0,valueType:"map",map:[{value:1,label:"男"},{value:2,label:"女"}]}]),this.state={dataSource:[]}}render(){const{tableData:e}=this.state;return o.createElement(B,{mode:"table",search:{columns:[{label:"姓名",type:z.Z.INPUT,name:"name"},{label:"年龄",type:z.Z.NUMBER,name:"age"}],afterContent:o.createElement(c.ZP,{type:"primary"},"导入"),optionRender:!1},toolbar:{title:"这是表格的标题",total:!0,selectAll:!0,setting:!0,reload:!0},table:{columns:this.tableColumns,dataSource:e&&e.list,pagination:{total:e&&e.total},rowSelection:!0},ref:e=>this.tableListRef=e,request:this.fetchData})}}class $ extends o.Component{constructor(e){super(e),(0,G.Z)(this,"fetchData",(e=>(console.log("搜索参数",e),J(e).then((e=>{200===e.code&&this.setState({tableData:e.data})}))))),(0,G.Z)(this,"tableColumns",[{title:"姓名",dataIndex:"name",key:"name",ellipsis:!0},{title:"年龄",dataIndex:"age",key:"age",ellipsis:!0},{title:"性别",dataIndex:"sex",key:"sex",ellipsis:!0,valueType:"map",map:[{value:1,label:"男"},{value:2,label:"女"}]}]),this.state={dataSource:[]}}render(){const{tableData:e}=this.state;return o.createElement(B,{mode:"table",toolbar:{title:"这是表格的标题",total:!0,selectAll:!0,setting:!0,reload:!0,search:[{label:"姓名",type:z.Z.INPUT,name:"name"},{label:"年龄",type:z.Z.NUMBER,name:"age"}]},table:{columns:this.tableColumns,dataSource:e&&e.list,pagination:{total:e&&e.total},rowSelection:!0},ref:e=>this.tableListRef=e,request:this.fetchData})}}class Q extends o.Component{constructor(e){super(e),(0,G.Z)(this,"fetchData",(e=>(console.log("搜索参数",e),J(e).then((e=>{200===e.code&&this.setState({tableData:e.data})}))))),(0,G.Z)(this,"tableColumns",[{title:"姓名",dataIndex:"name",key:"name",ellipsis:!0},{title:"年龄",dataIndex:"age",key:"age",ellipsis:!0},{title:"性别",dataIndex:"sex",key:"sex",ellipsis:!0,valueType:"map",map:[{value:1,label:"男"},{value:2,label:"女"}]}]),this.state={dataSource:[]}}render(){const{tableData:e}=this.state;return o.createElement(B,{mode:"table",toolbar:{title:"这是表格的标题",total:o.createElement("span",null,"获取到",o.createElement("em",null,"20"),"条数据"),toolbarOptionRender:o.createElement("div",null,o.createElement(c.ZP,{type:"primary"},"添加"))},table:{columns:this.tableColumns,dataSource:e&&e.list,pagination:{total:e&&e.total},rowSelection:!0,sortable:!0},ref:e=>this.tableListRef=e,request:this.fetchData})}}class X extends o.Component{constructor(e){super(e),(0,G.Z)(this,"fetchData",(e=>(console.log("搜索参数",e),J(e).then((e=>{200===e.code&&this.setState({listData:e.data})}))))),this.state={listData:[]}}render(){const{listData:e}=this.state;return o.createElement(B,{mode:"list",toolbar:{title:"这是列表的标题",total:o.createElement("span",null,"获取到",o.createElement("em",null,"20"),"条数据"),selectAll:!0},list:{rowSelection:!0,dataSource:e.list,renderItem:e=>o.createElement("div",null,e.name)},ref:e=>this.tableListRef=e,request:this.fetchData})}}var Y=()=>o.createElement(s.ZP,null,o.createElement(s.$0,{title:"TableList"},o.createElement("p",null,"表格列表配置")),o.createElement(s.e0,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"基础使用",mode:"code",scope:{React:o},cardProps:{description:{title:"基础使用",info:"基础使用"}},codeText:"\n          import React from 'react';\n          import { TableList, FormItemCreator } from '@baifendian/adhere';\n\n          class Demo extends React.Component {\n            constructor(props) {\n              super(props);\n              this.state = {\n                dataSource: []\n              }\n            }\n\n            fetchData = (params) => {\n              console.log('搜索参数', params);\n              return requestData(params).then(res => {\n                if (res.code === 200) {\n                  this.setState({ tableData: res.data });\n                }\n              })\n            }\n\n            tableColumns = ([\n              { title: '姓名', dataIndex: 'name', key: 'name', ellipsis: true },\n              { title: '年龄', dataIndex: 'age', key: 'age', ellipsis: true },\n              { title: '性别', dataIndex: 'sex', key: 'sex', ellipsis: true, valueType: 'map', map: [{ value: 1, label: '男'}, { value: 2, label: '女'}] },\n            ]);\n\n            render() {\n              const { tableData } = this.state;\n              return (\n                <TableList\n                  mode=\"table\"\n                  search={{\n                    columns: [\n                      { label: '姓名', type: FormItemCreator.INPUT, name: 'name' },\n                      { label: '年龄', type: FormItemCreator.NUMBER, name: 'age' },\n                    ],\n                  }}\n                  toolbar={{\n                    title: '这是表格的标题',\n                    total: true,\n                    selectAll: true,\n                    setting: true,\n                    reload: true\n                  }}\n                  table={{\n                    columns: this.tableColumns,\n                    dataSource: tableData && tableData.list,\n                    pagination: { total: tableData && tableData.total },\n                    rowSelection: true,\n                  }}\n                  ref={c => this.tableListRef = c}\n                  request={this.fetchData}\n                />\n              );\n            }\n          }\n\n          export default Demo;\n          ",type:"PlayGround",renderChildren:()=>o.createElement(H,null)},{id:"p2",name:"搜索区域",mode:"code",scope:{React:o},cardProps:{description:{title:"搜索区域",info:"搜索区域没有搜索按钮，立即触发 optionRender为null或者false即可"}},codeText:"\n          import React from 'react';\n          import { TableList, FormItemCreator } from '@baifendian/adhere';\n\n          class Demo extends React.Component {\n            constructor(props) {\n              super(props);\n              this.state = {\n                dataSource: []\n              }\n            }\n\n            fetchData = (params) => {\n              console.log('搜索参数', params);\n              return requestData(params).then(res => {\n                if (res.code === 200) {\n                  this.setState({ tableData: res.data });\n                }\n              })\n            }\n\n            tableColumns = ([\n              { title: '姓名', dataIndex: 'name', key: 'name', ellipsis: true },\n              { title: '年龄', dataIndex: 'age', key: 'age', ellipsis: true },\n              { title: '性别', dataIndex: 'sex', key: 'sex', ellipsis: true, valueType: 'map', map: [{ value: 1, label: '男'}, { value: 2, label: '女'}] },\n            ]);\n\n            render() {\n              const { tableData } = this.state;\n              return (\n                <TableList\n                  mode=\"table\"\n                  search={{\n                    columns: [\n                      { label: '姓名', type: FormItemCreator.INPUT, name: 'name' },\n                      { label: '年龄', type: FormItemCreator.NUMBER, name: 'age' },\n                    ],\n                    afterContent: <Button type=\"primary\">导入</Button>,\n                    optionRender: false,\n                  }}\n                  toolbar={{\n                    title: '这是表格的标题',\n                    total: true,\n                    selectAll: true,\n                    setting: true,\n                    reload: true\n                  }}\n                  table={{\n                    columns: this.tableColumns,\n                    dataSource: tableData && tableData.list,\n                    pagination: { total: tableData && tableData.total },\n                    rowSelection: true,\n                  }}\n                  ref={c => this.tableListRef = c}\n                  request={this.fetchData}\n                />\n              );\n            }\n          }\n\n          export default Demo;\n          ",type:"PlayGround",renderChildren:()=>o.createElement(W,null)},{id:"p3",name:"显示序号",mode:"code",scope:{React:o},cardProps:{description:{title:"显示序号",info:"显示序号 2.搜索条件是在工具栏上立即触发"}},codeText:"\n          import React from 'react';\n          import { TableList, FormItemCreator } from '@baifendian/adhere';\n\n          class Demo extends React.Component {\n            constructor(props) {\n              super(props);\n              this.state = {\n                dataSource: []\n              }\n            }\n\n            fetchData = (params) => {\n              console.log('搜索参数', params);\n              return requestData(params).then(res => {\n                if (res.code === 200) {\n                  this.setState({ tableData: res.data });\n                }\n              })\n            }\n\n            tableColumns = ([\n              { title: '姓名', dataIndex: 'name', key: 'name', ellipsis: true },\n              { title: '年龄', dataIndex: 'age', key: 'age', ellipsis: true },\n              { title: '性别', dataIndex: 'sex', key: 'sex', ellipsis: true, valueType: 'map', map: [{ value: 1, label: '男'}, { value: 2, label: '女'}] },\n            ]);\n\n            render() {\n              const { tableData } = this.state;\n              return (\n                <TableList\n                  mode=\"table\"\n                  search={{\n                    columns: [\n                      { label: '姓名', type: FormItemCreator.INPUT, name: 'name' },\n                      { label: '年龄', type: FormItemCreator.NUMBER, name: 'age' },\n                    ],\n                  }}\n                  toolbar={{\n                    title: '这是表格的标题',\n                    total: true,\n                    selectAll: true,\n                    setting: true,\n                    reload: true,\n                    search: [\n                      { label: '姓名', type: FormItemCreator.INPUT, name: 'name' },\n                      { label: '年龄', type: FormItemCreator.NUMBER, name: 'age' },\n                    ],\n                  }}\n                  table={{\n                    columns: this.tableColumns,\n                    dataSource: tableData && tableData.list,\n                    pagination: { total: tableData && tableData.total },\n                    rowSelection: true,\n                  }}\n                  ref={c => this.tableListRef = c}\n                  request={this.fetchData}\n                />\n              );\n            }\n          }\n\n          export default Demo;\n          ",type:"PlayGround",renderChildren:()=>o.createElement($,null)},{id:"p4",name:"工具栏自定义内容",mode:"code",scope:{React:o},cardProps:{description:{title:"工具栏自定义内容",info:"1.在工具栏上添加自定义内容 2. 自定义工具栏的total显示 3.支持排序的表格"}},codeText:"\n          import React from 'react';\n          import { TableList, FormItemCreator } from '@baifendian/adhere';\n\n          class Demo extends React.Component {\n            constructor(props) {\n              super(props);\n              this.state = {\n                dataSource: []\n              }\n            }\n\n            fetchData = (params) => {\n              console.log('搜索参数', params);\n              return requestData(params).then(res => {\n                if (res.code === 200) {\n                  this.setState({ tableData: res.data });\n                }\n              })\n            }\n\n            tableColumns = ([\n              { title: '姓名', dataIndex: 'name', key: 'name', ellipsis: true },\n              { title: '年龄', dataIndex: 'age', key: 'age', ellipsis: true },\n              { title: '性别', dataIndex: 'sex', key: 'sex', ellipsis: true, valueType: 'map', map: [{ value: 1, label: '男'}, { value: 2, label: '女'}] },\n            ]);\n\n            render() {\n              const { tableData } = this.state;\n              return (\n                <TableList\n                  mode=\"table\"\n                  search={{\n                    columns: [\n                      { label: '姓名', type: FormItemCreator.INPUT, name: 'name' },\n                      { label: '年龄', type: FormItemCreator.NUMBER, name: 'age' },\n                    ],\n                  }}\n                  toolbar={{\n                    title: '这是表格的标题',\n                    total: <span>获取到<em>20</em>条数据</span>,\n                    toolbarOptionRender: (\n                      <div>\n                        <Button type=\"primary\">添加</Button>\n                      </div>\n                    )\n                  }}\n                  table={{\n                    columns: this.tableColumns,\n                    dataSource: tableData && tableData.list,\n                    pagination: { total: tableData && tableData.total },\n                    rowSelection: true,\n                  }}\n                  ref={c => this.tableListRef = c}\n                  request={this.fetchData}\n                />\n              );\n            }\n          }\n\n          export default Demo;\n          ",type:"PlayGround",renderChildren:()=>o.createElement(Q,null)},{id:"p5",name:"列表基本使用",mode:"code",scope:{React:o},cardProps:{description:{title:"列表基本使用",info:"列表基本使用"}},codeText:"\n          import React from 'react';\n          import { Button } from 'antd';\n          import { TableList, FormItemCreator } from '@baifendian/adhere';\n\n          const requestData = (params) => {\n            return new Promise((resolve, reject) => {\n              setTimeout(() => {\n                const page = params && params.page || '';\n                const response = {\n                  code: 200,\n                  data: {\n                    list: [\n                      { id: 1, name: '小明' + page, age: 48, sex: 1 },\n                      { id: 2, name: '小红' + page, age: 27, sex: 2 },\n                      { id: 3, name: '小李' + page, age: 22, sex: 2 },\n                      { id: 4, name: '小张' + page, age: 30, sex: 1 },\n                      { id: 5, name: '小秦' + page, age: 50, sex: 2 },\n                      { id: 6, name: '小王' + page, age: 50, sex: 1 },\n                      { id: 7, name: '小孙' + page, age: 30, sex: 2 },\n                      { id: 8, name: '小吴' + page, age: 32, sex: 2 },\n                      { id: 9, name: '小郑' + page, age: 21, sex: 2 },\n                      { id: 10, name: '小花' + page, age: 14, sex: 1 },\n                    ],\n                    total: 20,\n                  },\n                  message: '',\n                }\n                resolve(response);\n              }, 2000)\n            })\n          }\n\n          export class Demo5 extends React.Component {\n            constructor(props) {\n              super(props);\n              this.state = {\n                listData: []\n              }\n            }\n\n            fetchData = (params) => {\n              console.log('搜索参数', params);\n              return requestData(params).then(res => {\n                if (res.code === 200) {\n                  this.setState({ listData: res.data });\n                }\n              })\n            }\n\n            render() {\n              const { listData } = this.state;\n              return (\n                <TableList\n                  mode=\"list\"\n                  toolbar={{\n                    title: '这是列表的标题',\n                    total: <span>获取到<em>20</em>条数据</span>,\n                    selectAll: true,\n                  }}\n                  list={{\n                    rowSelection: true,\n                    dataSource: listData.list,\n                    renderItem: (item) => (\n                      <div>\n                        {item.name}\n                      </div>\n                    )\n                  }}\n                  ref={c => this.tableListRef = c}\n                  request={this.fetchData}\n                />\n              );\n            }\n          }\n          ",type:"PlayGround",renderChildren:()=>o.createElement(X,null)}]}),o.createElement(s.sB,{title:"Props",config:[{border:!0,title:"属性",data:[{params:"className",desc:"tableList组件的类名",type:"string",defaultVal:""},{params:"mode",desc:"显示模式 表格table | 列表list",type:"string",defaultVal:""},{params:"search",desc:"搜索区域配置",type:"object",defaultVal:""},{params:"toolbar",desc:"工具栏配置",type:"object",defaultVal:""},{params:"table",desc:"mode为table时，设置antd中Table组件的属性之外，还支持showNumber,sortable",type:"object",defaultVal:""},{params:"list",desc:"mode为list时，设置antd中List组件的属性",type:"object",defaultVal:""},{params:"request",desc:"数据请求",type:"Function",defaultVal:""}]},{border:!0,title:"搜索区域配置",data:[{params:"className",desc:"搜索区域的类名",type:"string",defaultVal:""},{params:"beforeContent",desc:"搜索表单前内容",type:"string | number | ReactNode",defaultVal:""},{params:"afterContent",desc:"搜索表单后内容",type:"string | number | ReactNode",defaultVal:""},{params:"columns",desc:"搜索表单项配置",type:o.createElement(l.rU,{to:"/adhere/component/ui/formitemcreator"},"FormItemCreator的columns属性"),defaultVal:""},{params:"optionRender",desc:"搜索表单操作按钮渲染",type:"ReactNode",defaultVal:"内置搜索和重置操作按钮, 为false则不显示操作按钮并且搜索条件立即触发"},{params:"searchText",desc:"搜索表单搜索按钮文字",type:"string",defaultVal:"搜索"},{params:"searchText",desc:"搜索表单搜索按钮文字",type:"string",defaultVal:"搜索"},{params:"resetText",desc:"重置表单搜索按钮文字",type:"string",defaultVal:"重置"},{params:"size",desc:"搜索表单以及内置操作按钮的大小 small | middle | small",type:"string",defaultVal:"middle"}]},{border:!0,title:"工具栏区域配置",data:[{params:"className",desc:"工具栏区域的类名",type:"string",defaultVal:""},{params:"title",desc:"工具栏区域的标题",type:"string | ReactNode",defaultVal:""},{params:"total",desc:"工具栏显示数据总数, 为true默认显示为“共n条”,如果想自定义可以传string或者ReactNode",type:"boolean | string | ReactNode",defaultVal:""},{params:"selectAll",desc:"工具栏选中全部，默认是选中当前页，传入object{ total: 全选是否代表跨页选中全部数据 }",type:"boolean | object{ total: boolean }",defaultVal:""},{params:"search",desc:o.createElement("span",null,"工具栏搜索配置"),type:o.createElement(l.rU,{to:"/adhere/component/ui/formitemcreator"},"FormItemCreator的columns属性"),defaultVal:""},{params:"reload",desc:"工具栏刷新配置",type:"boolean | object { ...antd中Tooltip的Props, render }",defaultVal:""},{params:"toolbarOptionRender",desc:"工具栏自定义操作渲染",type:"ReactNode",defaultVal:""},{params:"setting",desc:"工具栏设置配置",type:"boolean | object { ...antd中Tooltip的Props, render }",defaultVal:""}]}]}))},96032:function(e,t,n){n.d(t,{$0:function(){return i},ae:function(){return d},e0:function(){return c},sB:function(){return u}});var a=n(70517),r=n(6692),o=n(90171);const{PlayGroundPageContext:l,PlayGroundPage:s}=r.default,{Section:i,CodeBoxSection:c,PropsSection:u,FunctionPropsSection:d}=s;t.ZP=function(e){let{children:t,...n}=e;const[r,i]=(0,o.useState)(),c=(0,o.useRef)();return(0,o.useEffect)((()=>{i(c.current.parentElement.parentElement)}),[]),o.createElement(l.Provider,{value:{scrollEl:r}},o.createElement(s,(0,a.Z)({ref:c},n),t))}},33196:function(e,t,n){var a=n(44877);t.Z=a.Z}}]);