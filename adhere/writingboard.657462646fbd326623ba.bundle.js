"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[215],{8371:(e,t,n)=>{n.d(t,{B:()=>c,k:()=>d});var r=n(26322),l=n(24902),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},o=function(e,t){var n={};for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(n[l[r]]=e[l[r]]);return n},i=function(e,t,n){if(n||2===arguments.length)for(var r,l=0,u=t.length;l<u;l++)!r&&l in t||((r=r||Array.prototype.slice.call(t,0,l))[l]=t[l]);return e.concat(r||Array.prototype.slice.call(t))},a=l.A.useScrollLayout;function c(e,t,n){function l(l){var i=a().getEl,c=("getPopupContainer"in(l=u(u(u({},t),l),null!=(l=null==n?void 0:n(l))?l:{}))||(l.getPopupContainer=function(e){return(null==i?void 0:i())||(null==e?void 0:e.parentElement)||document.body}),l.children);l=o(l,["children"]);return r.createElement(e,u({},l),c)}return Object.assign(l,e),l.defaultProps=t,l}var d=(0,r.forwardRef)((function(e,t){var n=e.defaultFormItemValue,l=e.children,a=e.className,c=e.style,d=(e=(o(e,["defaultFormItemValue","children","className","style"]),(0,r.useState)(n)))[0],s=e[1];return(0,r.useImperativeHandle)(t,(function(){return{getValue:function(){return d}}})),r.createElement("div",{className:null!=a?a:"",style:null!=c?c:{}},(0,r.cloneElement)(l,u(u({},l.props),{value:d,onChange:function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];s(n[0]),null!=(t=null==(e=null==l?void 0:l.props)?void 0:e.onChange)&&t.call.apply(t,i([e],n,!1))}}),l.props.children))}))},71427:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ne});var r,l,u=n(26322),o=n(96465),i=n(31934),a=n.n(i),c=n(66783),d=n.n(c),s=n(88724),v=n(23782),M=n(80711),y=n(81703),m=n(59418),p=n(88273),f=n(53516),g=n(66003),h=n(59223),N=n(221),E=n(24902);(l=r=r||{}).LINE="line",l.RECTANGLE="rectangle",l.CIRCLE="circle",l.TRIANGLE="triangle",l.FREE="free",l.RUBBER="rubber";var j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},z=(0,u.memo)((0,u.forwardRef)((function(e,t){var n=e.wrapProps,l=e.toolProps,o=e.areaProps,i=e.defaultWidth,a=e.defaultColor,c=(e=(0,u.useState)(r.FREE))[0],d=e[1],s=(e=(0,u.useState)(null!=a?a:"#000"))[0],v=e[1],y=(e=(0,u.useState)(null!=i?i:2))[0],z=e[1],T=(0,u.useRef)(),x=(e=(0,u.useMemo)((function(){return{gutter:20,wrapClassName:"".concat("adhere-ui-signature-core","-wrap")}}),[]),(0,u.useMemo)((function(){return{fit:!0}}),[])),L=(0,u.useMemo)((function(){return{autoFixed:!0}}),[]),I=(0,u.useMemo)((function(){return u.createElement(g.A,null,u.createElement(f.A,{direction:"vertical",size:20},u.createElement(p.A,{style:{width:"100%"},value:y,precision:0,max:10,min:1,onChange:function(e){z(e),T.current&&T.current.setLineWidth(e)}}),u.createElement(N.WU,{color:s,onChangeComplete:function(e){v(e.hex),T.current&&T.current.setStrokeStyle(e.hex)}}),u.createElement(M.Ay,{size:"large",block:!0,type:"primary",onClick:function(){var e;T.current&&(e=c===r.FREE?r.RUBBER:r.FREE,d(e),T.current.setMode(e))}},c===r.FREE?m.Ay.v("橡皮"):m.Ay.v("绘制")),u.createElement(M.Ay,{size:"large",block:!0,type:"primary",onClick:function(){T.current&&T.current.clear()}},m.Ay.v("清除"))))}),[c,y,s,l]),A=(0,u.useMemo)((function(){return u.createElement(g.A,null,u.createElement(ce,{ref:T,defaultMode:c,defaultLineWidth:y,defaultStrokeStyle:s}))}),[o]);return(0,u.useImperativeHandle)(t,(function(){return{save:function(e,t,n){if(T.current)return T.current.toDataURL(null!=e?e:"#fff",null!=t?t:"image/png",null!=n?n:1)},isEmpty:function(){var e,t;return null==T||!T.current||(null==(t=null==(e=null==T?void 0:T.current)?void 0:e.isEmpty)?void 0:t.call(e))}}})),(0,h.A)((function(){z(i)}),[i]),(0,h.A)((function(){v(a)}),[a]),u.createElement(E.A.TRBLC.LCLayout,j({},e,n,{lProps:j(j(j({},x),l),{children:I}),cProps:j(j(j({},L),o),{children:A})}))})));z.displayName="Signature";const T=z;var x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},L="adhere-ui-signature",I=(0,u.memo)((0,u.forwardRef)((function(e,t){var n=e.className,r=e.style,l=e.value,o=e.onChange,i=e.modalProps,c=e.coreProps,d=(0,u.useRef)(null),s=(e=(0,u.useCallback)((function(){return u.createElement("div",{className:a()("".concat(L,"-mask")),onClick:function(){var e=y.A.Modal({config:x({title:m.Ay.v("编辑签名"),width:"60%",maskClosable:!1,footer:[u.createElement(M.Ay,{key:"submit",type:"primary",title:m.Ay.v("保存"),onClick:function(){var t;d.current&&(d.current.isEmpty()?o&&(o(""),null!=e)&&e.close():(t=d.current.save(),o&&(o(t),null!=e)&&e.close()))}},m.Ay.v("保存"))]},null!=i?i:{}),children:u.createElement(T,x({ref:d},c))})}},m.Ay.v("编辑签名"))}),[c,l,o]),(0,u.useCallback)((function(){return l?u.createElement("img",{src:l,alt:""}):null}),[l]));return(0,u.useImperativeHandle)(t,(function(){return{isEmpty:function(){return!l}}})),u.createElement("div",{className:a()(L,null!=n?n:""),style:null!=r?r:{}},e(),s())}))),A=I;A.SignatureCore=T;const C=A,b=u.createContext({close:function(){}});var D=n(97045),S=n(8371),P=(0,S.B)(D.A,{closeOnMaskClick:!0,showCloseButton:!0});P.displayName="Modal";const k=P;var w=n(63987);const Y=function(e){var t=e.className,n=e.style,r=e.value,l=e.renderTrigger,o=e.renderPopover,i=e.disabled,c=void 0!==i&&i,s=e.beforeTrigger;return u.createElement("div",{className:a()("adhere-mobile-ui-ant-hoc-popover-trigger",null!=t?t:""),style:null!=n?n:{},onClick:d()((function(){function e(){null!=o&&o()}c||(s?s().then((function(){e()})):e())}),200)},null!=(i=null==l?void 0:l(r))?i:u.createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzA4Mzk0ODMxMTcxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE4MDciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0iTTQxMy42MTA2NjcgMTMwLjA5MDY2N2EzMiAzMiAwIDAgMSAyNy45MDQgMzUuNTg0bC05LjI1ODY2NyA3Ni4zNzMzMzNhMzIgMzIgMCAxIDEtNjMuNTMwNjY3LTcuNjhsOS4yNTg2NjctNzYuMzczMzMzYTMyIDMyIDAgMCAxIDM1LjYyNjY2Ny0yNy45MDR6TTIwMC4wMjEzMzMgMTM2LjcwNGEzMiAzMiAwIDAgMSA0NC43NTczMzQgNi45MTJMMzIxLjQ1MDY2NyAyNDguMzJhMzIgMzIgMCAxIDEtNTEuNjI2NjY3IDM3Ljg0NTMzM0wxOTMuMTUyIDE4MS40NjEzMzNhMzIgMzIgMCAwIDEgNi44NjkzMzMtNDQuNzU3MzMzek0xMDMuMjUzMzMzIDMxNS4wMDhhMzIgMzIgMCAwIDEgNDAuNDQ4LTIwLjM1Mmw4NS45MzA2NjcgMjguMjg4YTMyIDMyIDAgMSAxLTIwLjAxMDY2NyA2MC44TDEyMy42NDggMzU1LjQxMzMzM2EzMiAzMiAwIDAgMS0yMC4zNTItNDAuNDA1MzMzek00MjguNjcyIDM2Mi4zNjhsMzEuNDAyNjY3IDU0LjRhODcuMzgxMzMzIDg3LjM4MTMzMyAwIDAgMSA5NC4xNjUzMzMtMTkuMDcyIDg3Ljg5MzMzMyA4Ny44OTMzMzMgMCAwIDEgMjkuNTY4LTI3LjkwNGMzNS4zMjgtMjAuMzk0NjY3IDgwLjM0MTMzMy0xMy45MDkzMzMgMTA2Ljg4IDE2IDUuNTQ2NjY3LTUuNjc0NjY3IDExLjk0NjY2Ny0xMC42NjY2NjcgMTkuMDI5MzMzLTE0LjgwNTMzMyA0MC4xMDY2NjctMjMuMTY4IDkyLjg0MjY2Ny0xMS42MDUzMzMgMTE2LjY5MzMzNCAyOS42NTMzMzNsODEuNzQ5MzMzIDE0MS41NjhhMTU5LjE0NjY2NyAxNTkuMTQ2NjY3IDAgMCAxIDIwLjQzNzMzMyA5NS4wMTg2NjdsLTIuNjg4IDI3LjgxODY2NmMtOC4xMDY2NjcgODMuOTY4LTU3LjY4NTMzMyAxNTkuNDQ1MzMzLTEzMS45NjggMjAyLjMyNTMzNGwtMTIuOTI4IDcuNDY2NjY2Yy04NC4wOTYgNDguNTU0NjY3LTE4Ni40NTMzMzMgNTMuNDYxMzMzLTI3Mi40NjkzMzMgMTIuMTZsLTU4LjQ5Ni0yOC4xMTczMzNjLTU2LjgzMi0yNy4zMDY2NjctODIuMDkwNjY3LTkyLjY3Mi01OS42MDUzMzMtMTUxLjQ2NjY2N2wxNS4yNzQ2NjYtMzkuOTM2LTEyNi4zNzg2NjYtMjE4Ljg4Yy0yMy44MDgtNDEuMzAxMzMzLTcuNDY2NjY3LTkyLjcxNDY2NyAzMi42ODI2NjYtMTE1Ljg4MjY2NiA0MC4xMDY2NjctMjMuMTY4IDkyLjg0MjY2Ny0xMS42MDUzMzMgMTE2LjY1MDY2NyAyOS42NTMzMzN6IG0tOTMuODY2NjY3IDU0LjE4NjY2N2wxMjkuNjY0IDIyNC42NGM3LjY4IDEzLjMxMiA4LjY2MTMzMyAyOS4xODQgMy4zMjggNDMuMTM2bC0xNy41Nzg2NjYgNDUuOTA5MzMzYy0xMC44MzczMzMgMjguMjg4IDEuMjggNTguMzY4IDI3LjUyIDcwLjk1NDY2N2w1OC41Mzg2NjYgMjguMTZjNjYuMjYxMzMzIDMxLjc4NjY2NyAxNDYuMzQ2NjY3IDI4LjQxNiAyMTIuNzM2LTkuOTQxMzM0bDEyLjkyOC03LjQ2NjY2NmM1Ni45Ni0zMi44NTMzMzMgOTQuMjA4LTkwLjMyNTMzMyAxMDAuMjY2NjY3LTE1My4wMDI2NjdsMi42ODgtMjcuODYxMzMzYTk1LjE0NjY2NyA5NS4xNDY2NjcgMCAwIDAtMTIuMjAyNjY3LTU2Ljg3NDY2N0w3NzAuOTg2NjY3IDQzMi42NGMtNC45MDY2NjctOC40NDgtMTcuNTM2LTEyLjk3MDY2Ny0yOS4yNjkzMzQtNi4xODY2NjctMTEuNzMzMzMzIDYuNzg0LTE0LjEyMjY2NyAxOS45MjUzMzMtOS4yMTYgMjguNDE2YTMyIDMyIDAgMCAxLTU1LjQ2NjY2NiAzMmwtMzItNTUuNDI0Yy00Ljg2NC04LjQ5MDY2Ny0xNy40OTMzMzMtMTIuOTcwNjY3LTI5LjIyNjY2Ny02LjE4NjY2Ni0xMS43MzMzMzMgNi43NDEzMzMtMTQuMTIyNjY3IDE5LjkyNTMzMy05LjIxNiAyOC40MTZhMzIgMzIgMCAwIDEtNTUuNDY2NjY3IDMybC0xMS45NDY2NjYtMjAuNzc4NjY3Yy00LjkwNjY2Ny04LjUzMzMzMy0xNy41MzYtMTIuOTcwNjY3LTI5LjI2OTMzNC02LjIyOTMzMy0xMS43MzMzMzMgNi43ODQtMTQuMTIyNjY3IDE5LjkyNTMzMy05LjIxNiAyOC40MTZhMzIgMzIgMCAxIDEtNTUuNDY2NjY2IDMyTDM3My4yNDggMzk0LjM2OGMtNC45MDY2NjctOC41MzMzMzMtMTcuNDkzMzMzLTEzLjAxMzMzMy0yOS4yMjY2NjctNi4yMjkzMzMtMTEuNzMzMzMzIDYuNzg0LTE0LjE2NTMzMyAxOS45MjUzMzMtOS4yNTg2NjYgMjguNDE2eiIgZmlsbD0iI2JmYmZiZiIgcC1pZD0iMTgwOCI+PC9wYXRoPjwvc3ZnPg==",alt:""}))};var O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},R=function(e,t){var n={};for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(n[l[r]]=e[l[r]]);return n},W="adhere-mobile-ui-ant-hoc-modal-trigger",B=(0,u.memo)((function(e){var t,n=e.value,r=e.onChange,l=e.actions,o=e.children,i=e.popoverTriggerProps,c=void 0!==(c=e.disabled)&&c,d=R(e,["value","onChange","actions","children","popoverTriggerProps","disabled"]),s=(e=(0,u.useState)(!1))[0],v=e[1],M=(0,u.useRef)(),y=(e=(0,u.useMemo)((function(){return O(O({visible:s,destroyOnClose:!0,closeOnMaskClick:!0,showCloseButton:!0},d),{actions:(null!=l?l:[]).map((function(e){return O(O({},e),{onClick:function(){var t;null!=(t=null==(t=e.onClick)?void 0:t())&&t.then((function(e){m(),null!=r&&r(void 0!==e?null===e?void 0:e:null==(e=M.current)?void 0:e.getValue())}))}})})),content:o&&u.createElement(S.k,{className:"".concat(W,"-value-hoc"),ref:M,defaultFormItemValue:n},o),afterClose:function(){var e;null!=(e=null==d?void 0:d.afterClose)&&e.call(d)},onClose:function(){var e;m(),null!=(e=null==d?void 0:d.onClose)&&e.call(d)}})}),[d,l,o,n,r,s]),(0,u.useCallback)((function(){v(!0)}),[e]));function m(){v(!1)}return u.createElement(b.Provider,{value:{close:m}},(0,w.createPortal)(u.createElement(D.A,O({},e,{bodyClassName:a()("".concat(W,"-modal-body"),e.bodyClassName)})),null!=(t=null==(t=null==e?void 0:e.getContainer)?void 0:t.call(e))?t:document.body),u.createElement(Y,O({className:a()(W,null!=(e=null==i?void 0:i.className)?e:""),value:n,disabled:null!=c&&c,renderPopover:y},null!=i?i:{})))})),U=B;U.displayName="ModalTrigger";const V=U;var F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},Q=function(e,t){var n={};for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(n[l[r]]=e[l[r]]);return n},G=(0,u.memo)((function(e){var t,n=e.submitAction,r=(e=Q(e,["submitAction"]),(0,u.useMemo)((function(){var e;return n?[F(F({},n),{text:null!=(e=null==n?void 0:n.text)?e:m.Ay.v("确定")})]:[]}),[n]));return u.createElement(V,F({className:a()("adhere-mobile-ui-ant-hoc-modal-trigger-prompt",null!=(t=null==e?void 0:e.className)?t:""),actions:r},null!=e?e:{}))})),X=G;X.displayName="ModalTriggerPrompt";const Z=X;k.Context=b,k.Trigger=V,k.TriggerPrompt=Z;const H=k;var q=n(30988),J=n(64029),_=n(11139),K=function(){return(K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},$=(0,u.memo)((0,u.forwardRef)((function(e,t){var n=e.wrapProps,l=e.toolProps,o=e.areaProps,i=e.defaultWidth,a=e.defaultColor,c=(e=(0,u.useState)(r.FREE))[0],d=e[1],s=(e=(0,u.useState)(null!=a?a:"#000"))[0],v=e[1],M=(e=(0,u.useState)(null!=i?i:2))[0],y=e[1],p=(0,u.useRef)({}),g=(e=(0,u.useMemo)((function(){return{gutter:20,wrapClassName:"".concat("adhere-ui-signature-core","-wrap")}}),[]),(0,u.useMemo)((function(){return{fit:!0}}),[])),j=(0,u.useMemo)((function(){return{autoFixed:!0}}),[]),z=(0,u.useMemo)((function(){return u.createElement("div",null,u.createElement(f.A,{direction:"vertical",size:20},u.createElement(_.A,{style:{width:"100%"},value:M,max:10,min:1,onChange:function(e){y(e),p.current&&p.current.setLineWidth(e)}}),u.createElement(N.WU,{color:s,onChangeComplete:function(e){v(e.hex),p.current&&p.current.setStrokeStyle(e.hex)}})),u.createElement(J.A,{columns:2,gap:8},u.createElement(J.A.Item,null,u.createElement(q.A,{size:"middle",block:!0,color:"primary",onClick:function(){var e;p.current&&(e=c===r.FREE?r.RUBBER:r.FREE,d(e),p.current.setMode(e))}},c===r.FREE?m.Ay.v("橡皮"):m.Ay.v("绘制"))),u.createElement(J.A.Item,null,u.createElement(q.A,{size:"middle",block:!0,color:"primary",onClick:function(){p.current&&p.current.clear()}},m.Ay.v("清除")))))}),[c,M,s,l]),T=(0,u.useMemo)((function(){return u.createElement(ce,{ref:p,defaultMode:c,defaultLineWidth:M,defaultStrokeStyle:s})}),[o]);return(0,u.useImperativeHandle)(t,(function(){return{save:function(e,t,n){if(p.current)return p.current.toDataURL(null!=e?e:"#fff",null!=t?t:"image/png",null!=n?n:1)},isEmpty:function(){var e,t;return null==p||!p.current||(null==(t=null==(e=null==p?void 0:p.current)?void 0:e.isEmpty)?void 0:t.call(e))}}})),(0,h.A)((function(){y(i)}),[i]),(0,h.A)((function(){v(a)}),[a]),u.createElement(E.A.TRBLC.CBLayout,K({},e,n,{bProps:K(K(K({},g),l),{children:z}),cProps:K(K(K({},j),o),{children:T})}))})));$.displayName="Signature";const ee=$;var te=function(){return(te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},ne="adhere-ui-mobile-signature",re=(0,u.memo)((0,u.forwardRef)((function(e,t){var n=e.className,r=e.style,l=e.value,o=e.onChange,i=(e.modalProps,e.coreProps),c=(0,u.useRef)(null);e=(0,u.useCallback)((function(){return u.createElement(H.TriggerPrompt,{title:m.Ay.v("编辑签名"),popoverTriggerProps:{renderTrigger:function(){return l?u.createElement("img",{src:l,alt:""}):u.createElement("div",{className:a()("".concat(ne,"-mask"))},m.Ay.v("编辑签名"))}},actions:[{key:"submit",text:m.Ay.v("保存"),primary:!0,onClick:function(){return new Promise((function(e){var t;c.current&&(c.current.isEmpty()?(o&&o(""),e("")):(t=c.current.save(),o&&o(t),e(t)))}))}}]},u.createElement(ee,te({ref:c},i)))}),[i,l,o]);return(0,u.useImperativeHandle)(t,(function(){return{isEmpty:function(){return!l}}})),u.createElement("div",{className:a()(ne,null!=n?n:""),style:null!=r?r:{}},e())}))),le=re;le.SignatureCore=ee;const ue=le;var oe=function(){return(oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},ie=(0,u.memo)((0,u.forwardRef)((function(e,t){var n=void 0===(n=e.defaultMode)?r.FREE:n,l=void 0===(l=e.defaultLineWidth)?2:l,o=void 0===(o=e.defaultStrokeStyle)?"#000":o,i=e.resizeTime,c=void 0===i?300:i,M=(0,u.useRef)(null),y=(0,u.useRef)(null),m=(0,u.useRef)(null),p=(0,u.useRef)(null),f=(0,u.useRef)(null),g=(0,u.useRef)(null),h=(0,u.useRef)(n),N=(0,u.useRef)(l),E=(0,u.useRef)(o),j=(0,u.useRef)([]),z=(0,u.useRef)(0),T=(0,u.useRef)(new Map([[r.FREE,{draw:function(e){var t,n=e.sourcePoint;e=e.targetPoint;null!=(t=null==m?void 0:m.current)&&t.beginPath(),null!=(t=null==m?void 0:m.current)&&t.moveTo(n.x,n.y),null!=(t=null==m?void 0:m.current)&&t.lineTo(e.x,e.y),j.current.push({shape:h.current,sourcePoint:n,targetPoint:e}),x({lineWidth:null==N?void 0:N.current,strokeStyle:null==E?void 0:E.current}),null!=(t=null==m?void 0:m.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==m?void 0:m.current)&&t.beginPath(),null!=(t=null==m?void 0:m.current)&&t.moveTo(e.sourcePoint.x,e.sourcePoint.y),null!=(t=null==m?void 0:m.current)&&t.lineTo(e.targetPoint.x,e.targetPoint.y),x({lineWidth:e.lineWidth,strokeStyle:e.strokeStyle}),null!=(t=null==m?void 0:m.current)&&t.stroke()},mouseup:function(e){D({sourcePoint:g.current,targetPoint:e})}}],[r.LINE,{draw:function(e){var t;e=e.targetPoint;null!=(t=null==m?void 0:m.current)&&t.clearRect(0,0,null==(t=null==y?void 0:y.current)?void 0:t.width,null==(t=null==y?void 0:y.current)?void 0:t.height),C(),null!=(t=null==m?void 0:m.current)&&t.beginPath(),null!=(t=null==m?void 0:m.current)&&t.moveTo(null==(t=null==f?void 0:f.current)?void 0:t.x,null==(t=null==f?void 0:f.current)?void 0:t.y),null!=(t=null==m?void 0:m.current)&&t.lineTo(e.x,e.y),x({lineWidth:null==N?void 0:N.current,strokeStyle:null==E?void 0:E.current}),null!=(t=null==m?void 0:m.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==m?void 0:m.current)&&t.beginPath(),null!=(t=null==m?void 0:m.current)&&t.moveTo(e.sourcePoint.x,e.sourcePoint.y),null!=(t=null==m?void 0:m.current)&&t.lineTo(e.targetPoint.x,e.targetPoint.y),x({lineWidth:e.lineWidth,strokeStyle:e.strokeStyle}),null!=(t=null==m?void 0:m.current)&&t.stroke()},mouseup:function(e){var t;j.current.push({shape:h.current,lineWidth:null==(t=null==m?void 0:m.current)?void 0:t.lineWidth,strokeStyle:null==(t=null==m?void 0:m.current)?void 0:t.strokeStyle,sourcePoint:f.current,targetPoint:e})}}],[r.RECTANGLE,{draw:function(e){e=e.targetPoint;var t,n=(null!=(n=null==m?void 0:m.current)&&n.clearRect(0,0,null==(n=null==y?void 0:y.current)?void 0:n.width,null==(n=null==y?void 0:y.current)?void 0:n.height),C(),null!=(n=null==m?void 0:m.current)&&n.beginPath(),b({startPoint:f.current,targetPoint:e}));null!=(t=null==m?void 0:m.current)&&t.rect(n.x,n.y,Math.abs(e.x-(null==(t=null==f?void 0:f.current)?void 0:t.x)),Math.abs(e.y-(null==(n=null==f?void 0:f.current)?void 0:n.y))),x({lineWidth:null==N?void 0:N.current,strokeStyle:null==E?void 0:E.current}),null!=(t=null==m?void 0:m.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==m?void 0:m.current)&&t.beginPath(),null!=(t=null==m?void 0:m.current)&&t.rect(e.x,e.y,e.width,e.height),x({lineWidth:e.lineWidth,strokeStyle:e.strokeStyle}),null!=(t=null==m?void 0:m.current)&&t.stroke()},mouseup:function(e){var t,n=b({startPoint:f.current,targetPoint:e});j.current.push({shape:h.current,lineWidth:null==(t=null==m?void 0:m.current)?void 0:t.lineWidth,strokeStyle:null==(t=null==m?void 0:m.current)?void 0:t.strokeStyle,x:n.x,y:n.y,width:Math.abs(e.x-(null==(t=null==f?void 0:f.current)?void 0:t.x)),height:Math.abs(e.y-(null==(n=null==f?void 0:f.current)?void 0:n.y))})}}],[r.CIRCLE,{draw:function(e){e=e.targetPoint;var t,n=(null!=(n=null==m?void 0:m.current)&&n.clearRect(0,0,null==(n=null==y?void 0:y.current)?void 0:n.width,null==(n=null==y?void 0:y.current)?void 0:n.height),C(),null!=(n=null==m?void 0:m.current)&&n.beginPath(),b({startPoint:f.current,targetPoint:e}));e=A({p2:e,p1:f.current});null!=(t=null==m?void 0:m.current)&&t.ellipse(n.x,n.y,e,e,45*Math.PI/180,0,2*Math.PI),x({lineWidth:null==N?void 0:N.current,strokeStyle:null==E?void 0:E.current}),null!=(t=null==m?void 0:m.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==m?void 0:m.current)&&t.beginPath(),null!=(t=null==m?void 0:m.current)&&t.ellipse(e.x,e.y,e.radiusX,e.radiusY,e.rotation,e.startAngle,e.endAngle),x({lineWidth:e.lineWidth,strokeStyle:e.strokeStyle}),null!=(t=null==m?void 0:m.current)&&t.stroke()},mouseup:function(e){var t,n=b({startPoint:f.current,targetPoint:e});e=A({p2:e,p1:null==f?void 0:f.current});j.current.push({shape:h.current,lineWidth:null==(t=null==m?void 0:m.current)?void 0:t.lineWidth,strokeStyle:null==(t=null==m?void 0:m.current)?void 0:t.strokeStyle,x:n.x,y:n.y,radiusX:e,radiusY:e,rotation:45*Math.PI/180,startAngle:0,endAngle:2*Math.PI})}}],[r.TRIANGLE,{draw:function(e){e=e.targetPoint;var t=(null!=(t=null==m?void 0:m.current)&&t.clearRect(0,0,null==(t=null==y?void 0:y.current)?void 0:t.width,null==(t=null==y?void 0:y.current)?void 0:t.height),C(),null!=(t=null==m?void 0:m.current)&&t.beginPath(),L({startPoint:f.current,targetPoint:e}));null!=(e=null==m?void 0:m.current)&&e.moveTo(t[0].x,t[0].y),null!=(e=null==m?void 0:m.current)&&e.lineTo(t[1].x,t[1].y),null!=(e=null==m?void 0:m.current)&&e.lineTo(t[2].x,t[2].y),null!=(e=null==m?void 0:m.current)&&e.closePath(),x({lineWidth:null==N?void 0:N.current,strokeStyle:null==E?void 0:E.current}),null!=(t=null==m?void 0:m.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==m?void 0:m.current)&&t.beginPath(),null!=(t=null==m?void 0:m.current)&&t.moveTo(e.points[0].x,e.points[0].y),null!=(t=null==m?void 0:m.current)&&t.lineTo(e.points[1].x,e.points[1].y),null!=(t=null==m?void 0:m.current)&&t.lineTo(e.points[2].x,e.points[2].y),null!=(t=null==m?void 0:m.current)&&t.closePath(),x({lineWidth:e.lineWidth,strokeStyle:e.strokeStyle}),null!=(t=null==m?void 0:m.current)&&t.stroke()},mouseup:function(e){var t;e=L({startPoint:f.current,targetPoint:e});j.current.push({shape:h.current,lineWidth:null==(t=null==m?void 0:m.current)?void 0:t.lineWidth,strokeStyle:null==(t=null==m?void 0:m.current)?void 0:t.strokeStyle,points:e})}}],[r.RUBBER,{draw:function(e){var t,n=e.sourcePoint;e=e.targetPoint;null!=(t=null==m?void 0:m.current)&&t.beginPath(),null!=(t=null==m?void 0:m.current)&&t.moveTo(n.x,n.y),null!=(t=null==m?void 0:m.current)&&t.lineTo(e.x,e.y),j.current.push({shape:h.current,sourcePoint:n,targetPoint:e}),m.current.lineWidth=15,m.current.strokeStyle="#fff",m.current.lineCap="round",m.current.lineJoin="round",null!=(t=null==m?void 0:m.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==m?void 0:m.current)&&t.beginPath(),null!=(t=null==m?void 0:m.current)&&t.moveTo(e.sourcePoint.x,e.sourcePoint.y),null!=(t=null==m?void 0:m.current)&&t.lineTo(e.targetPoint.x,e.targetPoint.y),m.current.lineWidth=15,m.current.strokeStyle="#fff",m.current.lineCap="round",m.current.lineJoin="round",null!=(t=null==m?void 0:m.current)&&t.stroke()},mouseup:function(e){D({sourcePoint:g.current,targetPoint:e})}}]]));function x(e){var t=e.lineWidth;e=e.strokeStyle;m.current.lineWidth=t,m.current.strokeStyle=e,m.current.lineCap="round",m.current.lineJoin="round"}function L(e){var t=e.startPoint,n=b({startPoint:t,targetPoint:e=e.targetPoint}),r=Math.abs(e.x-t.x);e=Math.abs(e.y-t.y);return[{x:n.x,y:n.y+e},{x:n.x+r/2,y:n.y},{x:n.x+r,y:n.y+e}]}function I(e){var t=e.clientX,n=(e=e.clientY,null==(n=null==y?void 0:y.current)?void 0:n.getBoundingClientRect());return{x:t-n.x,y:e-n.y}}function A(e){var t=e.p1,n=(e=e.p2,t.x),r=(t=t.y,e.x);e=e.y;return Math.sqrt(Math.pow(r-n,2)+Math.pow(e-t,2))}function C(){for(var e=0;e<j.current.length;e++){var t=j.current[e];T.current.get(t.shape).drawStack(t)}}function b(e){var t=e.startPoint;return(e=e.targetPoint).x<=t.x&&e.y<=t.y?e:e.x<=t.x&&e.y>=t.y?{x:e.x,y:t.y}:e.x>=t.x&&e.y<=t.y?{x:t.x,y:e.y}:e.x>=t.x&&e.y>=t.y?t:void 0}function D(e){var t,n=e.sourcePoint;e=e.targetPoint;(null==(t=null==T?void 0:T.current)?void 0:t.get(h.current)).draw({sourcePoint:n,targetPoint:e})}function S(e){O(e)}function P(e){O(oe(oe({},e),{clientX:e.targetTouches[0].clientX,clientY:e.targetTouches[0].clientY}))}function k(e){R(e)}function w(e){R(oe(oe({},e),{clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY}))}function Y(e){var t=e.clientX;e=e.clientY;f.current=g.current=I({clientX:t,clientY:e}),null!=(t=null==M?void 0:M.current)&&t.addEventListener("mousemove",S),null!=(e=null==M?void 0:M.current)&&e.addEventListener("mouseup",k),null!=(t=null==M?void 0:M.current)&&t.addEventListener("touchmove",P),null!=(e=null==M?void 0:M.current)&&e.addEventListener("touchend",w)}function O(e){e=I({clientX:e.clientX,clientY:e.clientY}),D({sourcePoint:g.current,targetPoint:e}),g.current=e}function R(e){var t;e=I({clientX:e.clientX,clientY:e.clientY});null!=(t=null==T?void 0:T.current.get(h.current))&&t.mouseup(e),f.current=null,(g.current=null)!=(t=null==M?void 0:M.current)&&t.removeEventListener("mousemove",S),null!=(e=null==M?void 0:M.current)&&e.removeEventListener("mouseup",k),null!=(t=null==M?void 0:M.current)&&t.removeEventListener("touchmove",P),null!=(e=null==M?void 0:M.current)&&e.removeEventListener("touchend",w)}function W(){var e;null!=(e=null==m?void 0:m.current)&&e.clearRect(0,0,null==(e=null==y?void 0:y.current)?void 0:e.width,null==(e=null==y?void 0:y.current)?void 0:e.height),g.current=f.current=null,j.current=[],z.current=0}function B(e,t,n){var r,l;if(e){for(var u=(e=s.A.colorToRgb(e))[0],o=e[1],i=e[2],a=[],c=null==(e=null==m?void 0:m.current)?void 0:e.getImageData(0,0,null==(e=null==y?void 0:y.current)?void 0:e.width,null==(e=null==y?void 0:y.current)?void 0:e.height),d=0;d<(null==(r=null==c?void 0:c.data)?void 0:r.length);d+=4)0===c.data[d+3]&&(c.data[d]=u,c.data[d+1]=o,c.data[d+2]=i,c.data[d+3]=255,a.push(d),a.push(d+1),a.push(d+2),a.push(d+3));return null!=(e=null==m?void 0:m.current)&&e.putImageData(c,0,0),e=null==(e=null==y?void 0:y.current)?void 0:e.toDataURL(t||"image/png",n),c=null==(l=null==m?void 0:m.current)?void 0:l.getImageData(0,0,null==(l=null==y?void 0:y.current)?void 0:l.width,null==(l=null==y?void 0:y.current)?void 0:l.height),a.forEach((function(e){c.data[e]=0})),null!=(l=null==m?void 0:m.current)&&l.putImageData(c,0,0),e}return null==(l=null==y?void 0:y.current)?void 0:l.toDataURL(t||"image/png",n)}function U(){var e,t=null==(e=null==m?void 0:m.current)?void 0:e.getImageData(0,0,null==(e=null==y?void 0:y.current)?void 0:e.width,null==(e=null==y?void 0:y.current)?void 0:e.height);return!t.data.length||!t.data.some((function(e){return e!==t.data[0]}))}return(0,u.useImperativeHandle)(t,(function(){return{setMode:function(e){h.current=e},setStrokeStyle:function(e){E.current=e},setLineWidth:function(e){N.current=e},clear:W,toDataURL:B,isEmpty:U}})),(0,u.useLayoutEffect)((function(){m.current=null==(t=null==y?void 0:y.current)?void 0:t.getContext("2d");var e,t=d()((function(){var e;y.current.width=null==(e=null==M?void 0:M.current)?void 0:e.offsetWidth,y.current.height=null==(e=null==M?void 0:M.current)?void 0:e.offsetHeight,null!=(e=null==m?void 0:m.current)&&e.clearRect(0,0,null==(e=null==y?void 0:y.current)?void 0:e.width,null==(e=null==y?void 0:y.current)?void 0:e.height),C()}),c);return p.current=new v.tb(t),null!=(e=null==(t=null==p?void 0:p.current)?void 0:t.observe)&&e.call(t,document.body),function(){var e;return null==(e=null==p?void 0:p.current)?void 0:e.disconnect()}}),[]),(0,u.useLayoutEffect)((function(){var e;function t(e){Y(e)}function n(e){Y(oe(oe({},e),{clientX:e.targetTouches[0].clientX,clientY:e.targetTouches[0].clientY}))}return null!=(e=null==M?void 0:M.current)&&e.addEventListener("mousedown",t),null!=(e=null==M?void 0:M.current)&&e.addEventListener("touchstart",n),function(){var e;null!=(e=null==M?void 0:M.current)&&e.removeEventListener("mousedown",t),null!=(e=null==M?void 0:M.current)&&e.removeEventListener("touchstart",n)}}),[]),u.createElement("div",{ref:M,className:a()("adhere-ui-writing-board",null!=(i=e.className)?i:""),style:null!=(n=e.style)?n:{}},u.createElement("canvas",{ref:y}))}))),ae=ie;ae.displayName="WritingBoard",ae.Signature=C,ae.MobileSignature=ue;const ce=ae,de=ce,se=()=>{const e=(0,u.useRef)();return u.createElement("div",{style:{position:"relative",height:300,overflowY:"hidden",border:"1px solid #ccc"}},u.createElement("div",{style:{height:"100%"},ref:e},u.createElement(de,null)))};var ve=n(84792),Me=n(86798),ye=n(58008);const me="D1LctflAomZjc0nAOctw",pe="cNk0wI1h13mV74lX_ECC",{Option:fe}=Me.A,ge=()=>{const e=(0,u.useRef)(),[t,n]=(0,u.useState)("line"),[r,l]=(0,u.useState)("#000"),[o,i]=(0,u.useState)(2);return u.createElement(ve.A,{direction:"horizontal",style:{width:"100%",height:"100%"}},u.createElement(ve.A.Fixed,{className:pe},u.createElement(f.A,{direction:"vertical"},u.createElement(g.A,{title:"绘制模式"},u.createElement(ye.Ay.Group,{defaultValue:"line",value:t,onChange:t=>{n(t.target.value),e.current.setMode(t.target.value)},buttonStyle:"solid"},u.createElement(f.A,{direction:"horizontal",wrap:!0},u.createElement(ye.Ay.Button,{value:"line"},"直线"),u.createElement(ye.Ay.Button,{value:"rectangle"},"矩形"),u.createElement(ye.Ay.Button,{value:"circle"},"圆形"),u.createElement(ye.Ay.Button,{value:"triangle"},"三角形"),u.createElement(ye.Ay.Button,{value:"free"},"自由绘制"),u.createElement(ye.Ay.Button,{value:"rubber"},"橡皮")))),u.createElement(g.A,{title:"线条颜色"},u.createElement(N.Xq,{color:r,onChangeComplete:t=>{l(t.hex),e.current.setStrokeStyle(t.hex)}})),u.createElement(g.A,{title:"线条宽度"},u.createElement(Me.A,{value:o,onChange:t=>{i(t),e.current.setLineWidth(t)}},u.createElement(fe,{value:2},"2"),u.createElement(fe,{value:3},"3"),u.createElement(fe,{value:4},"4"),u.createElement(fe,{value:5},"5"),u.createElement(fe,{value:6},"6"))),u.createElement(g.A,{title:"操作"},u.createElement(f.A,{direction:"horizontal",wrap:!0},u.createElement(M.Ay,{type:"primary",onClick:()=>{e.current.clear()}},"清空"),u.createElement(M.Ay,{type:"primary",onClick:()=>{const t=e.current.toDataURL("#fff","image/png",1),n=document.createElement("a");n.href=t,n.download="img";const r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}},"保存图片"))))),u.createElement(ve.A.Auto,{fit:!0,style:{border:"1px solid #ccc"}},u.createElement(de,{ref:e,defaultMode:t,defaultLineWidth:o,defaultStrokeStyle:r})))},he=()=>{const[e,t]=(0,u.useState)("");return u.createElement("div",null,u.createElement("p",null,"签名"),u.createElement("div",{className:me,style:{border:"1px solid #ccc"}},u.createElement(de.Signature,{value:e,onChange:e=>t(e)})))},Ne=()=>u.createElement(o.Ay,null,u.createElement(o.wn,{title:"WritingBoard"},u.createElement("p",null,"写字板")),u.createElement(o.Wc,{title:"代码演示",config:[{id:"p1",name:"基本使用",mode:"code",scope:{React:u},cardProps:{description:{title:"基本使用",info:"基本使用"}},type:"PlayGround",codeText:"import React, { useRef } from 'react';\r\n\r\nimport { WritingBoard } from '@baifendian/adhere';\r\n\r\nexport default () => {\r\n  const ref = useRef();\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'relative',\r\n        height: 300,\r\n        overflowY: 'hidden',\r\n        border: '1px solid #ccc',\r\n      }}\r\n    >\r\n      <div style={{ height: '100%' }} ref={ref}>\r\n        <WritingBoard />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n",renderChildren:()=>u.createElement(se,null)},{id:"p2",name:"简易写字板",cardProps:{description:{title:"简易写字板",info:"切换类型、颜色和粗细"}},type:"PlayGround",codeText:'import { Button, Card, Radio, Select, Space } from \'antd\';\r\nimport React, { useRef, useState } from \'react\';\r\nimport { SketchPicker } from \'react-color\';\r\n\r\nimport { FlexLayout, WritingBoard } from \'@baifendian/adhere\';\r\n\r\nimport styles from \'./examples.less\';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default () => {\r\n  const ref = useRef();\r\n  const [mode, setMode] = useState(\'line\');\r\n  const [color, setColor] = useState(\'#000\');\r\n  const [width, setWidth] = useState(2);\r\n\r\n  return (\r\n    <FlexLayout direction="horizontal" style={{ width: \'100%\', height: \'100%\' }}>\r\n      <FlexLayout.Fixed className={styles.Wrapper1}>\r\n        <Space direction="vertical">\r\n          <Card title="绘制模式">\r\n            <Radio.Group\r\n              defaultValue="line"\r\n              value={mode}\r\n              onChange={(e) => {\r\n                setMode(e.target.value);\r\n                ref.current.setMode(e.target.value);\r\n              }}\r\n              buttonStyle="solid"\r\n            >\r\n              <Space direction="horizontal" wrap>\r\n                <Radio.Button value="line">直线</Radio.Button>\r\n                <Radio.Button value="rectangle">矩形</Radio.Button>\r\n                <Radio.Button value="circle">圆形</Radio.Button>\r\n                <Radio.Button value="triangle">三角形</Radio.Button>\r\n                <Radio.Button value="free">自由绘制</Radio.Button>\r\n                <Radio.Button value="rubber">橡皮</Radio.Button>\r\n              </Space>\r\n            </Radio.Group>\r\n          </Card>\r\n\r\n          <Card title="线条颜色">\r\n            <SketchPicker\r\n              color={color}\r\n              onChangeComplete={(c) => {\r\n                setColor(c.hex);\r\n                ref.current.setStrokeStyle(c.hex);\r\n              }}\r\n            />\r\n          </Card>\r\n\r\n          <Card title="线条宽度">\r\n            <Select\r\n              value={width}\r\n              onChange={(v) => {\r\n                setWidth(v);\r\n                ref.current.setLineWidth(v);\r\n              }}\r\n            >\r\n              <Option value={2}>2</Option>\r\n              <Option value={3}>3</Option>\r\n              <Option value={4}>4</Option>\r\n              <Option value={5}>5</Option>\r\n              <Option value={6}>6</Option>\r\n            </Select>\r\n          </Card>\r\n\r\n          <Card title="操作">\r\n            <Space direction="horizontal" wrap>\r\n              <Button\r\n                type="primary"\r\n                onClick={() => {\r\n                  ref.current.clear();\r\n                }}\r\n              >\r\n                清空\r\n              </Button>\r\n\r\n              <Button\r\n                type="primary"\r\n                onClick={() => {\r\n                  const base64 = ref.current.toDataURL(\'#fff\', \'image/png\', 1.0);\r\n\r\n                  const save_link = document.createElement(\'a\');\r\n                  save_link.href = base64;\r\n                  save_link.download = \'img\';\r\n\r\n                  const event = document.createEvent(\'MouseEvents\');\r\n                  event.initMouseEvent(\r\n                    \'click\',\r\n                    true,\r\n                    false,\r\n                    window,\r\n                    0,\r\n                    0,\r\n                    0,\r\n                    0,\r\n                    0,\r\n                    false,\r\n                    false,\r\n                    false,\r\n                    false,\r\n                    0,\r\n                    null,\r\n                  );\r\n                  save_link.dispatchEvent(event);\r\n                }}\r\n              >\r\n                保存图片\r\n              </Button>\r\n            </Space>\r\n          </Card>\r\n        </Space>\r\n      </FlexLayout.Fixed>\r\n\r\n      <FlexLayout.Auto fit style={{ border: \'1px solid #ccc\' }}>\r\n        <WritingBoard\r\n          ref={ref}\r\n          defaultMode={mode}\r\n          defaultLineWidth={width}\r\n          defaultStrokeStyle={color}\r\n        />\r\n      </FlexLayout.Auto>\r\n    </FlexLayout>\r\n  );\r\n};\r\n',renderChildren:()=>u.createElement(ge,null)},{id:"p3",name:"签名",mode:"code",scope:{React:u},cardProps:{description:{title:"签名",info:"签名"}},type:"PlayGround",codeText:"import React, { useState } from 'react';\r\n\r\nimport { WritingBoard } from '@baifendian/adhere';\r\n\r\nimport styles from './examples.less';\r\n\r\nexport default () => {\r\n  const [value, setValue] = useState('');\r\n\r\n  return (\r\n    <div>\r\n      <p>签名</p>\r\n      <div className={styles.Wrapper} style={{ border: '1px solid #ccc' }}>\r\n        <WritingBoard.Signature value={value} onChange={(v) => setValue(v)} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n",renderChildren:()=>u.createElement(he,null)}]}),u.createElement(o.e6,{title:"WritingBoard",config:[{border:!0,title:"属性",data:[{params:"className",desc:"附加的样式表",type:"string",defaultVal:""},{params:"style",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"defaultMode",desc:"绘制模式",type:"\n                  {\n                    // 直线\n                    LINE = 'line',\n                    // 矩形\n                    RECTANGLE = 'rectangle',\n                    // 圆形\n                    CIRCLE = 'circle',\n                    // 三角形\n                    TRIANGLE = 'triangle',\n                    // 自由绘制\n                    FREE = 'free',\n                    // 橡皮\n                    RUBBER = 'rubber',\n                  }\n                ",defaultVal:"line"},{params:"defaultStrokeStyle",desc:"线条颜色",type:"string",defaultVal:"#000"},{params:"defaultLineWidth",desc:"线条宽度",type:"number",defaultVal:"1"},{params:"resizeTime",desc:"防抖的事件",type:"number",defaultVal:"300"}]}]}),u.createElement(o.e6,{title:"Signature",config:[{border:!0,title:"属性",data:[{params:"className",desc:"附加的样式表",type:"string",defaultVal:""},{params:"style",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"modalProps",desc:"弹出窗口设置",type:"ModalProps",defaultVal:""},{params:"coreProps",desc:"SignatureCore设置",type:"SignatureCoreProps",defaultVal:""},{params:"value",desc:"base64",type:"string",defaultVal:""},{params:"onChange",desc:"获取base64",type:"(base64?: string) => void",defaultVal:""}]}]}),u.createElement(o.e6,{title:"SignatureCore",config:[{border:!0,title:"属性",data:[{params:"defaultWidth",desc:"线条默认宽度",type:"number",defaultVal:"2"},{params:"defaultColor",desc:"默认颜色",type:"string",defaultVal:"#000"},{params:"wrapProps",desc:"最外层配置",type:"SignatureCoreWrapProps",defaultVal:""},{params:"toolProps",desc:"工具栏设置",type:"SignatureCoreToolProps",defaultVal:""},{params:"areaProps",desc:"编辑区设置",type:"SignatureCoreAreaProps",defaultVal:""}]}]}),u.createElement(o.I7,{title:"WritingBoard",config:[{border:!0,title:"WritingBoard",data:[{name:"setMode",desc:"设置模式",modifier:"public",params:[{name:"mode",desc:"模式",type:"\n                      {\n                        // 直线\n                        LINE = 'line',\n                        // 矩形\n                        RECTANGLE = 'rectangle',\n                        // 圆形\n                        CIRCLE = 'circle',\n                        // 三角形\n                        TRIANGLE = 'triangle',\n                        // 自由绘制\n                        FREE = 'free',\n                        // 橡皮\n                        RUBBER = 'rubber',\n                      }\n                    ",defaultVal:"",required:""}],returnType:"",returnDesc:""},{name:"setStrokeStyle",desc:"设置描边样式",modifier:"public",params:[{name:"style",desc:"样式",type:"style",defaultVal:"",required:""}],returnType:"",returnDesc:""},{name:"setLineWidth",desc:"设置线条样式",modifier:"public",params:[{name:"width",desc:"样式",type:"number",defaultVal:"",required:""}],returnType:"",returnDesc:""},{name:"clear",desc:"清空画布",modifier:"public",params:[],returnType:"",returnDesc:""},{name:"isEmpty",desc:"判断是否为空",modifier:"public",params:[],returnType:"boolean",returnDesc:""},{name:"toDataURL",desc:"获取画布数据",modifier:"public",params:[{name:"backgroundColor",desc:"背景颜色",type:"string",defaultVal:"#fff",required:""},{name:"type",desc:"mimeType",type:"string",defaultVal:"image/png",required:""},{name:"quality",desc:"图片质量",type:"number",defaultVal:"1.0",required:""}],returnType:"",returnDesc:""}]}]}),u.createElement(o.I7,{title:"SignatureCore",config:[{border:!0,title:"SignatureCore",data:[{name:"save",desc:"保存",modifier:"public",params:[{name:"backgroundColor",desc:"背景颜色",type:"string",defaultVal:"#fff",required:""},{name:"type",desc:"mimeType",type:"string",defaultVal:"image/png",required:""},{name:"quality",desc:"图片质量",type:"number",defaultVal:"1.0",required:""}],returnType:"",returnDesc:""},{name:"isEmpty",desc:"判断是否为空",modifier:"public",params:[],returnType:"boolean",returnDesc:""}]}]}),u.createElement(o.I7,{title:"Signature",config:[{border:!0,title:"Signature",data:[{name:"isEmpty",desc:"判断是否为空",modifier:"public",params:[],returnType:"boolean",returnDesc:""}]}]}))},84792:(e,t,n)=>{n.d(t,{A:()=>r});const r=n(24902).A}}]);