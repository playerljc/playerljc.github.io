"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[3655],{15107:(e,r,t)=>{t.r(r),t.d(r,{default:()=>E});var n=t(26322),l=t(96465),a=t(62522),c=t(80711);const o="pAHIsNx4f0T1Lwvu1QgJ",m=()=>{const e=(0,n.useRef)();return n.createElement(n.Fragment,null,n.createElement(c.Ay,{className:o,onClick:()=>{e.current&&a.A.remove("type1",e.current),e.current=()=>{alert("接到了通知")},a.A.on("type1",e.current),alert("注册成功")}},"注册通知"),n.createElement(c.Ay,{onClick:()=>{e.current?a.A.trigger("type1"):alert("还没有注册事件")}},"发出通知"))},i=()=>n.createElement(n.Fragment,null,n.createElement(c.Ay,{className:o,onClick:()=>{a.A.on("type2",(e=>{alert(e)})),alert("注册成功")}},"注册通知"),n.createElement(c.Ay,{onClick:()=>{a.A.trigger("type2","Hello World")}},"发出通知")),p=()=>n.createElement(n.Fragment,null,n.createElement(c.Ay,{className:o,onClick:()=>{document.addEventListener("customType",(e=>{alert(JSON.stringify(e.detail))})),alert("注册成功")}},"注册通知"),n.createElement(c.Ay,{onClick:()=>{a.A.dispatchEvent(document,"customType",{detail:{hazcheeseburger:!0}})}},"发出通知")),u=()=>n.createElement(n.Fragment,null,n.createElement(c.Ay,{className:o,onClick:()=>{a.A.once("type3",(()=>{alert("type3")})),a.A.once("type3",(()=>{alert("type3")}))}},"注册通知"),n.createElement(c.Ay,{onClick:()=>{a.A.trigger("type3")}},"发出通知")),s=()=>n.createElement(n.Fragment,null,n.createElement(c.Ay,{className:o,onClick:()=>{a.A.once("type4",(()=>{alert("type4")})),a.A.once("type5",(()=>{alert("type5")})),a.A.once("type6",(()=>{alert("type6")}))}},"注册通知"),n.createElement(c.Ay,{onClick:()=>{a.A.all(["type4","type5","type6"],(()=>{alert("type4,type5,type6 - changed")}));a.A.trigger("type4"),a.A.trigger("type5"),a.A.trigger("type6")}},"发出通知并监控")),d=()=>n.createElement(n.Fragment,null,n.createElement(c.Ay,{className:o,onClick:()=>{a.A.once("type7",(()=>{alert("type7")})),a.A.once("type8",(()=>{alert("type8")})),a.A.once("type9",(()=>{alert("type9")}))}},"注册通知"),n.createElement(c.Ay,{onClick:()=>{a.A.race(["type7","type8","type9"],(()=>{alert("type7,type8,type9 - changed")}));a.A.trigger("type7"),a.A.trigger("type8"),a.A.trigger("type9")}},"发出通知并监控")),y=()=>n.createElement(n.Fragment,null,n.createElement(c.Ay,{className:o,onClick:()=>{a.A.on("type10",(()=>{alert("type10")}))}},"注册通知"),n.createElement(c.Ay,{onClick:()=>{a.A.count("type10",2,(()=>{alert("type10 - called 2")}));a.A.trigger("type10"),a.A.trigger("type10")}},"发出通知并监控")),E=()=>n.createElement(l.Ay,null,n.createElement(l.wn,{title:"Emitter"},n.createElement("p",null,"发布订阅"),n.createElement("ul",null,n.createElement("li",null,"- 发布"),n.createElement("li",null,"- 订阅"),n.createElement("li",null,"- 解除订阅"))),n.createElement(l.Wc,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"基本的使用",mode:"code",scope:{React:n},cardProps:{description:{title:"基本的使用",info:"基本的使用"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React, { useRef } from 'react';\r\n\r\nimport { Emitter } from '@baifendian/adhere';\r\n\r\nimport styles from './examples.less';\r\n\r\nexport default () => {\r\n  const handler1 = useRef();\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        className={styles.Button}\r\n        onClick={() => {\r\n          if (handler1.current) {\r\n            Emitter.remove('type1', handler1.current);\r\n          }\r\n\r\n          handler1.current = () => {\r\n            alert('接到了通知');\r\n          };\r\n\r\n          Emitter.on('type1', handler1.current);\r\n\r\n          alert('注册成功');\r\n        }}\r\n      >\r\n        注册通知\r\n      </Button>\r\n      <Button\r\n        onClick={() => {\r\n          if (!handler1.current) {\r\n            alert('还没有注册事件');\r\n\r\n            return;\r\n          }\r\n\r\n          Emitter.trigger('type1');\r\n        }}\r\n      >\r\n        发出通知\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n",renderChildren:()=>n.createElement(m,null)},{id:"p2",name:"注册多次，并且传递参数",mode:"code",scope:{React:n},cardProps:{description:{title:"注册多次，并且传递参数",info:"注册多次，并且传递参数"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React from 'react';\r\n\r\nimport { Emitter } from '@baifendian/adhere';\r\n\r\nimport styles from './examples.less';\r\n\r\nexport default () => {\r\n  return (\r\n    <>\r\n      <Button\r\n        className={styles.Button}\r\n        onClick={() => {\r\n          Emitter.on('type2', (params) => {\r\n            alert(params);\r\n          });\r\n\r\n          alert('注册成功');\r\n        }}\r\n      >\r\n        注册通知\r\n      </Button>\r\n      <Button\r\n        onClick={() => {\r\n          Emitter.trigger('type2', 'Hello World');\r\n        }}\r\n      >\r\n        发出通知\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n",renderChildren:()=>n.createElement(i,null)},{id:"p3",name:"触发HtmlElement的自定义事件",mode:"code",scope:{React:n},cardProps:{description:{title:"触发HtmlElement的自定义事件",info:"触发HtmlElement的自定义事件"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React from 'react';\r\n\r\nimport { Emitter } from '@baifendian/adhere';\r\n\r\nimport styles from './examples.less';\r\n\r\nexport default () => {\r\n  return (\r\n    <>\r\n      <Button\r\n        className={styles.Button}\r\n        onClick={() => {\r\n          document.addEventListener('customType', (e) => {\r\n            alert(JSON.stringify(e.detail));\r\n          });\r\n\r\n          alert('注册成功');\r\n        }}\r\n      >\r\n        注册通知\r\n      </Button>\r\n      <Button\r\n        onClick={() => {\r\n          Emitter.dispatchEvent(document, 'customType', {\r\n            detail: {\r\n              hazcheeseburger: true,\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        发出通知\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n",renderChildren:()=>n.createElement(p,null)},{id:"p4",name:"只执行一次",mode:"code",scope:{React:n},cardProps:{description:{title:"只执行一次",info:"只执行一次"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React from 'react';\r\n\r\nimport { Emitter } from '@baifendian/adhere';\r\n\r\nimport styles from './examples.less';\r\n\r\nexport default () => {\r\n  return (\r\n    <>\r\n      <Button\r\n        className={styles.Button}\r\n        onClick={() => {\r\n          Emitter.once('type3', () => {\r\n            alert('type3');\r\n          });\r\n\r\n          Emitter.once('type3', () => {\r\n            alert('type3');\r\n          });\r\n        }}\r\n      >\r\n        注册通知\r\n      </Button>\r\n      <Button\r\n        onClick={() => {\r\n          Emitter.trigger('type3');\r\n        }}\r\n      >\r\n        发出通知\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n",renderChildren:()=>n.createElement(u,null)},{id:"p5",name:"all",mode:"code",scope:{React:n},cardProps:{description:{title:"all",info:"all"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React from 'react';\r\n\r\nimport { Emitter } from '@baifendian/adhere';\r\n\r\nimport styles from './examples.less';\r\n\r\nexport default () => {\r\n  return (\r\n    <>\r\n      <Button\r\n        className={styles.Button}\r\n        onClick={() => {\r\n          Emitter.once('type4', () => {\r\n            alert('type4');\r\n          });\r\n\r\n          Emitter.once('type5', () => {\r\n            alert('type5');\r\n          });\r\n\r\n          Emitter.once('type6', () => {\r\n            alert('type6');\r\n          });\r\n        }}\r\n      >\r\n        注册通知\r\n      </Button>\r\n      <Button\r\n        onClick={() => {\r\n          const fun = Emitter.all(['type4', 'type5', 'type6'], () => {\r\n            alert('type4,type5,type6 - changed');\r\n          });\r\n\r\n          Emitter.trigger('type4');\r\n          Emitter.trigger('type5');\r\n          Emitter.trigger('type6');\r\n        }}\r\n      >\r\n        发出通知并监控\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n",renderChildren:()=>n.createElement(s,null)},{id:"p6",name:"race",mode:"code",scope:{React:n},cardProps:{description:{title:"race",info:"race"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React from 'react';\r\n\r\nimport { Emitter } from '@baifendian/adhere';\r\n\r\nimport styles from './examples.less';\r\n\r\nexport default () => {\r\n  return (\r\n    <>\r\n      <Button\r\n        className={styles.Button}\r\n        onClick={() => {\r\n          Emitter.once('type7', () => {\r\n            alert('type7');\r\n          });\r\n\r\n          Emitter.once('type8', () => {\r\n            alert('type8');\r\n          });\r\n\r\n          Emitter.once('type9', () => {\r\n            alert('type9');\r\n          });\r\n        }}\r\n      >\r\n        注册通知\r\n      </Button>\r\n      <Button\r\n        onClick={() => {\r\n          const fun = Emitter.race(['type7', 'type8', 'type9'], () => {\r\n            alert('type7,type8,type9 - changed');\r\n          });\r\n\r\n          Emitter.trigger('type7');\r\n          Emitter.trigger('type8');\r\n          Emitter.trigger('type9');\r\n        }}\r\n      >\r\n        发出通知并监控\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n",renderChildren:()=>n.createElement(d,null)},{id:"p7",name:"count",mode:"code",scope:{React:n},cardProps:{description:{title:"count",info:"count"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React from 'react';\r\n\r\nimport { Emitter } from '@baifendian/adhere';\r\n\r\nimport styles from './examples.less';\r\n\r\nexport default () => {\r\n  return (\r\n    <>\r\n      <Button\r\n        className={styles.Button}\r\n        onClick={() => {\r\n          Emitter.on('type10', () => {\r\n            alert('type10');\r\n          });\r\n        }}\r\n      >\r\n        注册通知\r\n      </Button>\r\n      <Button\r\n        onClick={() => {\r\n          const fun = Emitter.count('type10', 2, () => {\r\n            alert('type10 - called 2');\r\n          });\r\n\r\n          Emitter.trigger('type10');\r\n          Emitter.trigger('type10');\r\n        }}\r\n      >\r\n        发出通知并监控\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n",renderChildren:()=>n.createElement(y,null)}]}),n.createElement(l.I7,{title:"Api",config:[{border:!0,title:"方法",data:[{name:"on",desc:"注册一个事件",modifier:"public",params:[{name:"type",desc:"事件类型",type:"String",defaultVal:"",required:"true"},{name:"handler",desc:"事件句柄",type:"Function",defaultVal:"() => {}",required:"true"},{name:"makStackSize",desc:"最大注册数",type:"number",defaultVal:"200",required:"false"}],returnType:"void",returnDesc:""},{name:"once",desc:"注册只执行一次的事件",modifier:"public",params:[{name:"type",desc:"事件类型",type:"String",defaultVal:"",required:"true"},{name:"handler",desc:"事件句柄",type:"Function",defaultVal:"() => {}",required:"true"}],returnType:"void",returnDesc:""},{name:"all",desc:"依赖类型都执行后的钩子",modifier:"public",params:[{name:"types",desc:"事件类型",type:"Array<String>",defaultVal:"",required:"true"},{name:"handler",desc:"事件句柄",type:"Function",defaultVal:"() => {}",required:"true"}],returnType:"Function",returnDesc:"注销的方法"},{name:"race",desc:"依赖类型任意一个执行后的钩子",modifier:"public",params:[{name:"types",desc:"事件类型",type:"Array<String>",defaultVal:"",required:"true"},{name:"handler",desc:"事件句柄",type:"Function",defaultVal:"() => {}",required:"true"}],returnType:"Function",returnDesc:"注销的方法"},{name:"count",desc:"一个类型执行了count次后的钩子",modifier:"public",params:[{name:"type",desc:"事件类型",type:"String",defaultVal:"",required:"true"},{name:"count",desc:"执行次数",type:"number",defaultVal:"",required:"true"},{name:"handler",desc:"事件句柄",type:"Function",defaultVal:"() => {}",required:"true"}],returnType:"Function",returnDesc:"注销的方法"},{name:"remove",desc:"解除一个事件",modifier:"public",params:[{name:"type",desc:"事件类型",type:"String",defaultVal:"",required:"true"},{name:"handler",desc:"事件句柄",type:"Function",defaultVal:"() => {}",required:"true"}],returnType:"void",returnDesc:""},{name:"hasType",desc:"一个事件是否注册过",modifier:"public",params:[{name:"type",desc:"事件类型",type:"String",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:"注册过返回true，未注册过返回false"},{name:"clear",desc:"清除一个事件类型的所有句柄",modifier:"public",params:[{name:"type",desc:"事件类型",type:"String",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"clearAll",desc:"清除所有事件类型的句柄",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"trigger",desc:"触发一个事件类型的事件",modifier:"public",params:[{name:"type",desc:"事件类型",type:"String",defaultVal:"",required:"true"},{name:"params",desc:"传递的参数",type:"Object",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"dispatchEvent",desc:"触发一个Html的自定义事件",modifier:"static",params:[{name:"el",desc:"触发事件的HtmlElement",type:"HtmlElement | Document",defaultVal:"document",required:"true"},{name:"type",desc:"事件类型",type:"String",defaultVal:"",required:"true"},{name:"params",desc:"传递的参数",type:"CustomEventInit",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""}]}]}))},73376:(e,r,t)=>{t.d(r,{A:()=>d});var n=t(86662),l=t(86056),a=t(26322),c=t(90264),o=t(38948);const m="fdFKYQbTadYRAFXyIsyC",i="TGQfKkX166qX5wG5Oi6O",p="xoMDGjw3kWAGwRmDVR2l",u="juDjVuIAwAS6vlI_lwTq",s="s2U_wfx5rmRlV8iKcHg5",d=()=>a.createElement("ul",{className:m},a.createElement("li",{className:i},a.createElement("dl",null,a.createElement("dt",null,"相关资源"),a.createElement("dd",null,a.createElement("ul",{className:p},a.createElement("li",{className:u},"自主研发",a.createElement("ul",null,a.createElement("li",null,a.createElement("a",{href:"http://49.232.163.126:8084/",target:"_blank",rel:"noopener noreferrer"},"adherev")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-BUILD",target:"_blank",rel:"noopener noreferrer"},"CTSJ-BUILD")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-BUILDV",target:"_blank",rel:"noopener noreferrer"},"CTSJ-BUILDV")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-STATE",target:"_blank",rel:"noopener noreferrer"},"CTSJ-STATE")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-ROUTER",target:"_blank",rel:"noopener noreferrer"},"CTSJ-ROUTER")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-VuexGenerator",target:"_blank",rel:"noopener noreferrer"},"CTSJ-VuexGenerator")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-React-SSR",target:"_blank",rel:"noopener noreferrer"},"CTSJ-React-SSR")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-DOC",target:"_blank",rel:"noopener noreferrer"},"CTSJ-DOC")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-DvaGenerator",target:"_blank",rel:"noopener noreferrer"},"CTSJ-DvaGenerator")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/WebViewJavascriptBridge",target:"_blank",rel:"noopener noreferrer"},"WebViewJavascriptBridge")))),a.createElement("li",{className:u},"模板工程",a.createElement("ul",null,a.createElement("li",null,a.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/adhere",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)")),a.createElement("li",null,a.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/polyfill",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)(支持IE)")),a.createElement("li",null,a.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/adhere-webpack5-js-ssr",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)(SSR)")),a.createElement("li",null,a.createElement("a",{href:"https://gitee.com/playerljc/AntPro",target:"_blank",rel:"noopener noreferrer"},"AntPro(G1)")),a.createElement("li",null,a.createElement("a",{href:"http://git.baifendian.com/dongxu.guo/ReactWeb",target:"_blank",rel:"noopener noreferrer"},"ReactWeb(G3)")),a.createElement("li",null,a.createElement("a",{href:"http://git.baifendian.com/bo.li/Percent_Vue_Admin.git",target:"_blank",rel:"noopener noreferrer"},"PercentVue(G3)")),a.createElement("li",null,a.createElement("a",{href:"https://gitee.com/playerljc/VuePro",target:"_blank",rel:"noopener noreferrer"},"VuePro(G1)")))))))),a.createElement("li",{className:i},a.createElement("dl",null,a.createElement("dt",null,"帮助"),a.createElement("dd",null,a.createElement("ul",{className:p},a.createElement("li",{className:u},a.createElement("a",{href:o.Jk.O,target:"_blank",rel:"noopener noreferrer"},a.createElement(l.A,null),a.createElement("span",{className:s},"Gitlib"))),a.createElement("li",{className:u},a.createElement(c.N_,{to:"/adhere/changelog"},a.createElement(n.A,null),a.createElement("span",{className:s},"更新日志"))))))))},96465:(e,r,t)=>{t.d(r,{Wc:()=>s,I7:()=>y,e6:()=>d,wn:()=>u,Ay:()=>E});var n=t(71860),l=t(24370),a=t(26322),c=t(73376);const o="xpgSrI_YtLJ2DLwvO1Cq",m="KHCbMGLwqpj8TVQmsF1m",{PlayGroundPageContext:i,PlayGroundPage:p}=l.A,{Section:u,CodeBoxSection:s,PropsSection:d,FunctionPropsSection:y}=p;const E=function(e){let{children:r,onScrollBottom:t,distance:l=50,...u}=e;const[s,d]=(0,a.useState)(),y=(0,a.useRef)();return(0,a.useEffect)((()=>{d(y.current)}),[]),a.createElement(i.Provider,{value:{scrollEl:null!=s?s:document.body}},a.createElement(p,(0,n.A)({ref:y,className:o,anchorNavigationAutoClassName:m,anchorNavigationFixedClassName:m},u),r,a.createElement(c.A,null)))}},38948:e=>{e.exports=JSON.parse('{"rE":"2.11.0","Jk":{"O":"https://github.com/playerljc/adhere"}}')}}]);