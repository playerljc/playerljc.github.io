"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[1398],{74280:(e,r,t)=>{t.r(r),t.d(r,{default:()=>g});var n=t(26322),l=t(96465),a=t(40370),i=t(40892),o=[],c=function(){return JSON.parse(JSON.stringify(o))},s=function(e,r){return!((e=(e=void 0===e?c():e)||c())&&Array.isArray(e)&&r)||(Array.isArray(r)?r.every((function(r){return-1!==e.indexOf(r)})):-1!==e.indexOf(r))};const m={Permission:function(e){var r=void 0===(r=e.allPermission)?c():r,t=e.permissions,l=e.children;e=e.noMatch;return n.createElement(i.A,{conditional:s(r,t),noMatch:e},l)},setPermission:function(e){o=e},checkPermission:s,getPermission:c,PermissionFun:function(e){var r=void 0===(r=e.allPermission)?c():r,t=e.permissions,n=e.match;return e=e.noMatch,i.A.conditionalRender({conditional:s(r,t),match:n,noMatch:e})}};var u=t(66003),p=t(80711),d=t(2438);const{Permission:f,setPermission:E,getPermission:h}=m;E(["1"]);const y=()=>{const[e,r]=(0,n.useState)(h()),[t,l]=(0,n.useState)(["2"]),i=(0,n.useRef)(),o=(0,n.useRef)();return n.createElement(u.A,{actions:[n.createElement(p.Ay,{type:"primary",onClick:()=>{const{close:e}=a.A.Modal({config:{title:"权限所有设置",width:300,footer:[n.createElement(p.Ay,{type:"primary",onClick:()=>{const t=i.current.value.trim();t&&(E(t.split(",")),r(h())),e()}},"确定")]},children:n.createElement("div",null,n.createElement("input",{autoFocus:!0,ref:i,defaultValue:h()}))})}},"设置所有权限"),n.createElement(p.Ay,{onClick:()=>{const{close:e}=a.A.Modal({config:{title:"权限当前设置",width:300,footer:[n.createElement(p.Ay,{type:"primary",onClick:()=>{const r=o.current.value.trim();r&&l(r.split(",")),e()}},"确定")]},children:n.createElement("div",null,n.createElement("input",{autoFocus:!0,ref:o,defaultValue:t}))})}},"设置当前权限")]},n.createElement(f,{permissions:t,noMatch:()=>n.createElement(d.A,null)},(()=>n.createElement(p.Ay,null,"有权限才能看到这个按钮"))))},g=()=>n.createElement(l.Ay,null,n.createElement(l.wn,{title:"Permission"},n.createElement("p",null,"权限的组件"),n.createElement("ul",null,n.createElement("li",null,"- 设置所有权限"),n.createElement("li",null,"- 传入权限(支持多个)"),n.createElement("li",null,"- 可以自定义无权限的 UI"))),n.createElement(l.Wc,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"基本使用",mode:"code",scope:{React:n},cardProps:{description:{title:"基本使用",info:"基本使用"}},type:"PlayGround",codeText:"import { Button, Card, Empty } from 'antd';\r\nimport React, { useRef, useState } from 'react';\r\n\r\nimport { MessageDialog, Permission } from '@baifendian/adhere';\r\n\r\nconst { Permission: PermissionWrap, setPermission, getPermission } = Permission;\r\n\r\nsetPermission(['1']);\r\n\r\nexport default () => {\r\n  const [allPermission, setAllPermission] = useState(getPermission());\r\n  const [curPermission, setCurPermission] = useState(['2']);\r\n\r\n  const ref1 = useRef();\r\n\r\n  const ref2 = useRef();\r\n\r\n  return (\r\n    <Card\r\n      actions={[\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={() => {\r\n            const { close } = MessageDialog.Modal({\r\n              config: {\r\n                title: '权限所有设置',\r\n                width: 300,\r\n                footer: [\r\n                  <Button\r\n                    type=\"primary\"\r\n                    onClick={() => {\r\n                      const val = ref1.current.value.trim();\r\n                      if (val) {\r\n                        setPermission(val.split(','));\r\n                        setAllPermission(getPermission());\r\n                      }\r\n                      close();\r\n                    }}\r\n                  >\r\n                    确定\r\n                  </Button>,\r\n                ],\r\n              },\r\n              children: (\r\n                <div>\r\n                  <input autoFocus={true} ref={ref1} defaultValue={getPermission()} />\r\n                </div>\r\n              ),\r\n            });\r\n          }}\r\n        >\r\n          设置所有权限\r\n        </Button>,\r\n\r\n        <Button\r\n          onClick={() => {\r\n            const { close } = MessageDialog.Modal({\r\n              config: {\r\n                title: '权限当前设置',\r\n                width: 300,\r\n                footer: [\r\n                  <Button\r\n                    type=\"primary\"\r\n                    onClick={() => {\r\n                      const val = ref2.current.value.trim();\r\n                      if (val) {\r\n                        setCurPermission(val.split(','));\r\n                      }\r\n                      close();\r\n                    }}\r\n                  >\r\n                    确定\r\n                  </Button>,\r\n                ],\r\n              },\r\n              children: (\r\n                <div>\r\n                  <input autoFocus={true} ref={ref2} defaultValue={curPermission} />\r\n                </div>\r\n              ),\r\n            });\r\n          }}\r\n        >\r\n          设置当前权限\r\n        </Button>,\r\n      ]}\r\n    >\r\n      <PermissionWrap permissions={curPermission} noMatch={() => <Empty />}>\r\n        {() => <Button>有权限才能看到这个按钮</Button>}\r\n      </PermissionWrap>\r\n    </Card>\r\n  );\r\n};\r\n",renderChildren:()=>n.createElement(y,null)}]}),n.createElement(l.e6,{title:"Props",config:[{border:!0,title:"Permission",data:[{params:"allPermission",desc:"所有的权限",type:"Array<String>",defaultVal:"undefined"},{params:"permissions",desc:"校验的权限",type:"Array<String>",defaultVal:""},{params:"children",desc:"有权限时显示的内容",type:"React.ReactElement | null",defaultVal:""},{params:"noMatch",desc:"没有权限时显示的内容",type:"React.ReactElement",defaultVal:"null"}]}]}),n.createElement(l.I7,{title:"Api",config:[{border:!0,title:"Api",data:[{name:"setPermission",desc:"设置所有的权限",modifier:"static",params:[{name:"permission",desc:"所有的权限",type:"Array<String>",defaultVal:"",required:""}],returnType:"void",returnDesc:""},{name:"getPermission",desc:"获取所有的权限",modifier:"static",params:[],returnType:"Array<String>",returnDesc:"返回所有权限的数组"},{name:"checkPermission",desc:"监测是否有指定的权限",modifier:"static",params:[{name:"allPermission",desc:"所有的权限",type:"Array<String>",defaultVal:"",required:""},{name:"currentPermissions",desc:"监测的权限",type:"Array<String>",defaultVal:"",required:""}],returnType:"boolean",returnDesc:"是否存在指定的权限"},{name:"checkPermission",desc:"监测是否有指定的权限",modifier:"static",params:[{name:"allPermission",desc:"所有的权限",type:"Array<String>",defaultVal:"",required:""},{name:"currentPermissions",desc:"监测的权限",type:"Array<String>",defaultVal:"",required:""}],returnType:"boolean",returnDesc:"是否存在指定的权限"},{name:"PermissionFun",desc:"函数方式实现",modifier:"static",params:[{name:"allPermission",desc:"所有的权限",type:"Array<String>",defaultVal:"",required:""},{name:"permissions",desc:"监测的权限",type:"Array<String>",defaultVal:"",required:""},{name:"match",desc:"符合条件",type:"any",defaultVal:"",required:""},{name:"noMatch",desc:"不符合条件",type:"any",defaultVal:"",required:""}],returnType:"React.Element | null",returnDesc:""}]}]}))},73376:(e,r,t)=>{t.d(r,{A:()=>d});var n=t(86662),l=t(86056),a=t(26322),i=t(90264),o=t(38948);const c="fdFKYQbTadYRAFXyIsyC",s="TGQfKkX166qX5wG5Oi6O",m="xoMDGjw3kWAGwRmDVR2l",u="juDjVuIAwAS6vlI_lwTq",p="s2U_wfx5rmRlV8iKcHg5",d=()=>a.createElement("ul",{className:c},a.createElement("li",{className:s},a.createElement("dl",null,a.createElement("dt",null,"相关资源"),a.createElement("dd",null,a.createElement("ul",{className:m},a.createElement("li",{className:u},"自主研发",a.createElement("ul",null,a.createElement("li",null,a.createElement("a",{href:"http://49.232.163.126:8084/",target:"_blank",rel:"noopener noreferrer"},"adherev")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-BUILD",target:"_blank",rel:"noopener noreferrer"},"CTSJ-BUILD")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-BUILDV",target:"_blank",rel:"noopener noreferrer"},"CTSJ-BUILDV")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-STATE",target:"_blank",rel:"noopener noreferrer"},"CTSJ-STATE")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-ROUTER",target:"_blank",rel:"noopener noreferrer"},"CTSJ-ROUTER")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-VuexGenerator",target:"_blank",rel:"noopener noreferrer"},"CTSJ-VuexGenerator")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-React-SSR",target:"_blank",rel:"noopener noreferrer"},"CTSJ-React-SSR")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-DOC",target:"_blank",rel:"noopener noreferrer"},"CTSJ-DOC")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/CTSJ-DvaGenerator",target:"_blank",rel:"noopener noreferrer"},"CTSJ-DvaGenerator")),a.createElement("li",null,a.createElement("a",{href:"https://github.com/playerljc/WebViewJavascriptBridge",target:"_blank",rel:"noopener noreferrer"},"WebViewJavascriptBridge")))),a.createElement("li",{className:u},"模板工程",a.createElement("ul",null,a.createElement("li",null,a.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/adhere",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)")),a.createElement("li",null,a.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/polyfill",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)(支持IE)")),a.createElement("li",null,a.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/adhere-webpack5-js-ssr",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)(SSR)")),a.createElement("li",null,a.createElement("a",{href:"https://gitee.com/playerljc/AntPro",target:"_blank",rel:"noopener noreferrer"},"AntPro(G1)")),a.createElement("li",null,a.createElement("a",{href:"http://git.baifendian.com/dongxu.guo/ReactWeb",target:"_blank",rel:"noopener noreferrer"},"ReactWeb(G3)")),a.createElement("li",null,a.createElement("a",{href:"http://git.baifendian.com/bo.li/Percent_Vue_Admin.git",target:"_blank",rel:"noopener noreferrer"},"PercentVue(G3)")),a.createElement("li",null,a.createElement("a",{href:"https://gitee.com/playerljc/VuePro",target:"_blank",rel:"noopener noreferrer"},"VuePro(G1)")))))))),a.createElement("li",{className:s},a.createElement("dl",null,a.createElement("dt",null,"帮助"),a.createElement("dd",null,a.createElement("ul",{className:m},a.createElement("li",{className:u},a.createElement("a",{href:o.Jk.O,target:"_blank",rel:"noopener noreferrer"},a.createElement(l.A,null),a.createElement("span",{className:p},"Gitlib"))),a.createElement("li",{className:u},a.createElement(i.N_,{to:"/adhere/changelog"},a.createElement(n.A,null),a.createElement("span",{className:p},"更新日志"))))))))},96465:(e,r,t)=>{t.d(r,{Wc:()=>p,I7:()=>f,e6:()=>d,wn:()=>u,Ay:()=>E});var n=t(71860),l=t(24370),a=t(26322),i=t(73376);const o="xpgSrI_YtLJ2DLwvO1Cq",c="KHCbMGLwqpj8TVQmsF1m",{PlayGroundPageContext:s,PlayGroundPage:m}=l.A,{Section:u,CodeBoxSection:p,PropsSection:d,FunctionPropsSection:f}=m;const E=function(e){let{children:r,onScrollBottom:t,distance:l=50,...u}=e;const[p,d]=(0,a.useState)(),f=(0,a.useRef)();return(0,a.useEffect)((()=>{d(f.current)}),[]),a.createElement(s.Provider,{value:{scrollEl:null!=p?p:document.body}},a.createElement(m,(0,n.A)({ref:f,className:o,anchorNavigationAutoClassName:c,anchorNavigationFixedClassName:c},u),r,a.createElement(i.A,null)))}},38948:e=>{e.exports=JSON.parse('{"rE":"2.11.0","Jk":{"O":"https://github.com/playerljc/adhere"}}')}}]);