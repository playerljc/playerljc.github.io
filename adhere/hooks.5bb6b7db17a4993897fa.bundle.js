"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[6401],{63706:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var r=t(26322),o=t(19994),c=t(61444),u=t(80711);const{useForceUpdate:l}=c.A,s=()=>{const e=l();return r.createElement(u.Ay,{type:"primary",onClick:()=>{e()}},"forceUpdate")};var i=t(32517);const{useSetState:a,useFirst:d,usePrevious:p}=c.A,m=()=>{const[e,n]=a(0),[t,o]=a(0),[c,l]=a(0),[s,m]=d(),f=p(3);return console.log(f),(0,r.useEffect)((()=>{console.log("isFirst",s),m(!0)}),[]),r.createElement("div",null,r.createElement("div",null,r.createElement(i.A.Group,{direction:"horizontal"},r.createElement(u.Ay,{onClick:()=>{n(e+1,(()=>console.log("count1更新完成")))}},"setCount1"),r.createElement(u.Ay,{onClick:()=>{o(t+1,(()=>console.log("count2更新完成")))}},"setCount2"),r.createElement(u.Ay,{onClick:()=>{l((e=>e+1),(()=>console.log("count3更新完成")))}},"setCount3"))),r.createElement("div",null,r.createElement("p",null,"count1: ",e),r.createElement("p",null,"count2: ",t),r.createElement("p",null,"count3: ",c)))},f=()=>r.createElement(o.Ay,null,r.createElement(o.wn,{title:"Hooks"},r.createElement("ul",null,r.createElement("li",null,"- useFirst"),r.createElement("li",null,"- useForceUpdate"),r.createElement("li",null,"- usePrevious"))),r.createElement(o.Wc,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"useForceUpdate",mode:"code",scope:{React:r},cardProps:{description:{title:"基本的使用",info:"基本的使用"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React from 'react';\r\n\r\nimport { Hooks } from '@baifendian/adhere';\r\n\r\nconst { useForceUpdate } = Hooks;\r\n\r\nexport default () => {\r\n  const forceUpdate = useForceUpdate();\r\n\r\n  return (\r\n    <Button\r\n      type=\"primary\"\r\n      onClick={() => {\r\n        forceUpdate();\r\n      }}\r\n    >\r\n      forceUpdate\r\n    </Button>\r\n  );\r\n};\r\n",renderChildren:()=>r.createElement(s,null)},{id:"p2",name:"useSetState",mode:"code",scope:{React:r},cardProps:{description:{title:"基本的使用",info:"基本的使用"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React, { useEffect } from 'react';\r\n\r\nimport { Hooks, Space } from '@baifendian/adhere';\r\n\r\nconst { useSetState, useFirst, usePrevious } = Hooks;\r\n\r\nexport default () => {\r\n  const [count1, setCount1] = useSetState(0);\r\n\r\n  const [count2, setCount2] = useSetState(0);\r\n\r\n  const [count3, setCount3] = useSetState(0);\r\n\r\n  const [isFirst, updateFirst] = useFirst();\r\n\r\n  const val = usePrevious(3);\r\n\r\n  console.log(val);\r\n\r\n  useEffect(() => {\r\n    console.log('isFirst', isFirst);\r\n    updateFirst(true);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Space.Group direction=\"horizontal\">\r\n          <Button\r\n            onClick={() => {\r\n              setCount1(count1 + 1, () => console.log('count1更新完成'));\r\n            }}\r\n          >\r\n            setCount1\r\n          </Button>\r\n          <Button\r\n            onClick={() => {\r\n              setCount2(count2 + 1, () => console.log('count2更新完成'));\r\n            }}\r\n          >\r\n            setCount2\r\n          </Button>\r\n          <Button\r\n            onClick={() => {\r\n              setCount3(\r\n                (count) => count + 1,\r\n                () => console.log('count3更新完成'),\r\n              );\r\n            }}\r\n          >\r\n            setCount3\r\n          </Button>\r\n        </Space.Group>\r\n      </div>\r\n      <div>\r\n        <p>count1: {count1}</p>\r\n        <p>count2: {count2}</p>\r\n        <p>count3: {count3}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n",renderChildren:()=>r.createElement(m,null)}]}))},19994:(e,n,t)=>{t.d(n,{Ay:()=>p,I7:()=>d,Wc:()=>i,e6:()=>a,wn:()=>s});var r=t(71860),o=t(24370),c=t(26322);const{PlayGroundPageContext:u,PlayGroundPage:l}=o.A,{Section:s,CodeBoxSection:i,PropsSection:a,FunctionPropsSection:d}=l;const p=function(e){let{children:n,onScrollBottom:t,distance:o=50,...s}=e;const[i,a]=(0,c.useState)(),d=(0,c.useRef)(),p=(0,c.useRef)(!1);return(0,c.useEffect)((()=>{function e(){const e=n.scrollHeight-n.offsetHeight,r=n.scrollTop;if(t&&Math.abs(r-e)<=o){if(p.current)return;p.current=!0,null==t||t().then((()=>{p.current=!1}))}}const n=d.current.parentElement.parentElement;return n.addEventListener("scroll",e),a(n),()=>{n.removeEventListener("scroll",e)}}),[]),c.createElement(u.Provider,{value:{scrollEl:i}},c.createElement(l,(0,r.A)({ref:d},s),n))}},61444:(e,n,t)=>{t.d(n,{A:()=>r});const r=t(45240).A},32517:(e,n,t)=>{t.d(n,{A:()=>r});const r=t(2382).A}}]);