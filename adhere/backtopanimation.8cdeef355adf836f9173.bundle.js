"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[8039],{81051:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(31934),a=n.n(r),o=n(26322),l=n(85820),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i="adhere-ui-back-top-animation",s=(0,o.memo)((function(e){var t,n=e.className,r=e.style,s=void 0===(t=e.zIndex)?l.A.Dict.value.ResourceNormalMaxZIndex.value:t,u=e.getContainer,d=e.onScrollTop,m=void 0===(t=e.duration)?300:t,p=(0,o.useRef)(null),f=(0,o.useRef)(null),y=(0,o.useRef)(!1);function v(){return"updateInterval"in screen?screen.updateInterval:16.7}return(0,o.useLayoutEffect)((function(){f.current=document.body.querySelector(".".concat(i,"-mask")),f.current||(f.current=document.createElement("div"),f.current.className="".concat(i,"-mask"),f.current.style.zIndex="".concat(s),document.body.appendChild(f.current))}),[]),(0,o.useLayoutEffect)((function(){var e=u();function t(){0!==e.scrollTop?p.current.style.display="block":p.current.style.display="none"}return e.addEventListener("scroll",t),function(){return e.removeEventListener("scroll",t)}})),o.createElement("div",{ref:p,className:a()(i,null!=n?n:""),style:c({zIndex:s},null!=r?r:{}),onClick:function(){y.current||e.onTrigger&&e.onTrigger().then((function(){y.current=!0,f.current.style.display="block";var e=u(),t=e.scrollTop,n=t,r=e.scrollHeight/(m/v()+(m%v()!=0?1:0));"undefined"!=typeof window&&window.requestAnimationFrame((function a(){function o(){f.current.style.display="none",y.current=!1}t<0?0<n+r?n=0:n+=r:n-r<0?n=0:n-=r,e.scrollTop=n,d&&d(n),t<0?0<=n?o():"undefined"!=typeof window&&window.requestAnimationFrame(a):n<=0?o():"undefined"!=typeof window&&window.requestAnimationFrame(a)}))}))}})}));s.displayName="BackTopAnimation";const u=s},82884:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(26322),a=n(19994);const o=n(81051).A;var l=n(38414),c=n(1025);const i="FfQrV5AA8vyI5kmPTtxA",s=()=>{const e=(0,r.useRef)();let t=[];return t.length=100,t.fill(0),t=t.map(((e,t)=>({title:"Ant Design Title ".concat(t)}))),r.createElement("div",{className:i},r.createElement("div",{style:{height:"100%",overflowY:"auto"},ref:e},r.createElement(l.A,{itemLayout:"horizontal",dataSource:t,renderItem:e=>r.createElement(l.A.Item,null,r.createElement(l.A.Item.Meta,{avatar:r.createElement(c.A,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:r.createElement("a",{href:"https://ant.design"},e.title),description:"Ant Design, a design language for background applications, is refined by Ant UED Team"}))})),r.createElement(o,{getContainer:()=>e.current,onTrigger:()=>new Promise((e=>e())),onScrollTop:e=>{console.log(e)}}))},u=()=>r.createElement(a.Ay,null,r.createElement(a.wn,{title:"BackTopAnimation"},r.createElement("p",null,"动画的回到顶部")),r.createElement(a.Wc,{title:"代码演示",config:[{id:"p1",name:"列表中使用",mode:"code",scope:{React:r},cardProps:{description:{title:"列表中使用",info:"可以动画的回到列表的顶端"}},codeText:"import { Avatar, List } from 'antd';\nimport React, { useRef } from 'react';\n\nimport { BackTopAnimation } from '@baifendian/adhere';\n\nimport styles from './examples.less';\n\nexport default () => {\n  const ref = useRef();\n\n  let data = [];\n  data.length = 100;\n  data.fill(0);\n  data = data.map((t, index) => ({\n    title: `Ant Design Title ${index}`,\n  }));\n\n  return (\n    <div className={styles.Wrapper}>\n      <div style={{ height: '100%', overflowY: 'auto' }} ref={ref}>\n        <List\n          itemLayout=\"horizontal\"\n          dataSource={data}\n          renderItem={(item) => (\n            <List.Item>\n              <List.Item.Meta\n                avatar={\n                  <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n                }\n                title={<a href=\"https://ant.design\">{item.title}</a>}\n                description=\"Ant Design, a design language for background applications, is refined by Ant UED Team\"\n              />\n            </List.Item>\n          )}\n        />\n      </div>\n      <BackTopAnimation\n        getContainer={() => ref.current}\n        onTrigger={() => {\n          return new Promise((resolve) => resolve());\n        }}\n        onScrollTop={(val) => {\n          console.log(val);\n        }}\n      />\n    </div>\n  );\n};\n",type:"PlayGround",renderChildren:()=>r.createElement(s,null)}]}),r.createElement(a.e6,{title:"Props",config:[{border:!0,title:"属性",data:[{params:"className",desc:"附加的样式表",type:"string",defaultVal:""},{params:"style",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"zIndex",desc:"层级",type:"boolean",defaultVal:""},{params:"duration",desc:"动画持续的事件",type:"number",defaultVal:"300"},{params:"onScrollTop",desc:"获取滚动的目标元素",type:"() => HtmlElement",defaultVal:""},{params:"onTrigger",desc:"点击事件",type:"() => void",defaultVal:""},{params:"onScrollTop",desc:"滚动",type:"(value: number) => void",defaultVal:""}]}]}))},19994:(e,t,n)=>{n.d(t,{Ay:()=>m,I7:()=>d,Wc:()=>s,e6:()=>u,wn:()=>i});var r=n(71860),a=n(24370),o=n(26322);const{PlayGroundPageContext:l,PlayGroundPage:c}=a.A,{Section:i,CodeBoxSection:s,PropsSection:u,FunctionPropsSection:d}=c;const m=function(e){let{children:t,onScrollBottom:n,distance:a=50,...i}=e;const[s,u]=(0,o.useState)(),d=(0,o.useRef)(),m=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{function e(){const e=t.scrollHeight-t.offsetHeight,r=t.scrollTop;if(n&&Math.abs(r-e)<=a){if(m.current)return;m.current=!0,null==n||n().then((()=>{m.current=!1}))}}const t=d.current.parentElement.parentElement;return t.addEventListener("scroll",e),u(t),()=>{t.removeEventListener("scroll",e)}}),[]),o.createElement(l.Provider,{value:{scrollEl:s}},o.createElement(c,(0,r.A)({ref:d},i),t))}}}]);