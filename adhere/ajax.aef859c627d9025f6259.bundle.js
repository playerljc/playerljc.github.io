"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[2249],{54763:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(75745),a=r(85820),o="adhere-ui-global-indicator",s=a.A.Dict.value.ResourceNormalMaxZIndex.value,i=new Set;const l={show:function(e,t,r,a){void 0===e&&(e=document.body),void 0===t&&(t=""),void 0===r&&(r=s),void 0===a&&(a="default");var l=(t=((l=document.createElement("div")).innerHTML='\n      <div class="'.concat(o,'" style="z-index: ').concat(r||s,'">\n       <span class="').concat(o,'-dot"></span>\n       ').concat(t&&'<div class="'.concat(o,'-text">').concat(t,"</div>"),"\n      </div>"),l.firstElementChild)).querySelector(".".concat(o,"-dot")),c=(a=new Map([["small",.1],["default",.2],["large",.3]]).get(a),document.documentElement.style.getPropertyValue("--adhere-color-primary"));return new n.y({lines:4,length:0,width:52,radius:29,scale:a,corners:1,speed:2.1,rotate:19,animation:"spinner-line-fade-quick",direction:1,color:c,fadeColor:"transparent",top:"46%",left:"50%",shadow:"0 0 1px transparent",zIndex:r,className:"".concat(o,"-spinner"),position:"absolute"}).spin(l),e===document.body&&(t.style.position="fixed"),e.appendChild(t),i.add(t),t},hide:function(e){var t,r;if(e)try{null!=(r=null==(t=null==e?void 0:e.parentElement)?void 0:t.removeChild)&&r.call(t,e),i.delete(e)}catch(e){}},hideAll:function(){Array.from(i.values()).forEach((function(e){var t,r;try{null!=(r=null==(t=null==e?void 0:e.parentElement)?void 0:t.removeChild)&&r.call(t,e)}catch(e){}})),i.clear()}}},3970:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var n=r(26322),a=r(96465),o=r(7847),s=r(80711);const i=new o.A("http://k007-pe.baifendian.com"),l=()=>n.createElement(s.Ay,{type:"primary",onClick:()=>{i.get({path:"/api/securitypolice/frontend/config/namespace?kw=k007.service_address@@resource@@gis@@application",loading:{show:!0}}).promise.then((e=>{e&&(200===e.data.code&&alert(JSON.stringify(e.data.data)),e.hideIndicator())}))}},"call"),c=new o.A("http://k007-pe.baifendian.com"),d=()=>n.createElement(s.Ay,{type:"primary",onClick:()=>{c.post({path:"/api/controlledObject/facade/fq/queryList",data:[{resource:"12345678",type:"101",uuid:"7419d8b2-76f8-11eb-ada5-b76f62efdb0c"},{resource:"",type:"103",uuid:"562096255732281344"}],loading:{show:!0}}).promise.then((e=>{e&&(200===e.data.code&&alert(JSON.stringify(e.data.data)),e.hideIndicator())}))}},"call");var p=r(32517),u=r(1025),m=r(7235);const f=new o.A("http://k007-pe.baifendian.com"),h=()=>{const e=(0,n.useRef)(),t=(0,n.useRef)(),[r,a]=(0,n.useState)(null),[o,s]=(0,n.useState)(0);return n.createElement("form",{encType:"multipart/form-data",method:"post",ref:e},n.createElement("div",null,n.createElement(u.A,{shape:"square",size:"large",icon:r?n.createElement("img",{src:r,alt:""}):null}),n.createElement(p.A,{direction:"vertical"}),n.createElement("input",{type:"file",ref:t,onChange:()=>{const r=t.current.files[0],{size:n}=r,o=new FileReader;o.onload=e=>{a(e.target.result)},o.readAsDataURL(r),f.post({path:"/api/personControl/monitorPerson/image/upload",data:{form:e.current,data:{file:r}},loading:{show:!0},onProgress:e=>{s(e.loaded/n*100)},onLoadend:()=>{s(100)}}).promise.then((e=>{s(100),e&&(200===e.data.code&&alert(JSON.stringify(e.data.data)),e.hideIndicator())}))}}),n.createElement(p.A,{direction:"vertical"}),n.createElement(m.A,{percent:o})))};var y=r(18647);const g=new o.A("http://k007-pe.baifendian.com"),E=()=>n.createElement(s.Ay,{type:"primary",onClick:()=>{const e=y.A.show();Promise.all([g.get({path:"/api/securitypolice/frontend/config/namespace?kw=k007.service_address@@resource@@gis@@application"}).promise,g.get({path:"/api/SystemManager/system/role/login/list?state=&kw=&pageNum=1&pageSize=10"}).promise,g.post({path:"/api/controlledObject/facade/fq/queryList",data:[{resource:"12345678",type:"101",uuid:"7419d8b2-76f8-11eb-ada5-b76f62efdb0c"},{resource:"",type:"103",uuid:"562096255732281344"}]}).promise]).then((t=>{y.A.hide(e),alert(JSON.stringify(t))})).catch((()=>{y.A.hide(e)}))}},"call"),T=()=>n.createElement(a.Ay,null,n.createElement(a.wn,{title:"Ajax"}),n.createElement(a.Wc,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"get",mode:"code",scope:{React:n},cardProps:{description:{title:"get",info:"get"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React from 'react';\r\n\r\nimport { Ajax } from '@baifendian/adhere';\r\n\r\nconst k007Ajax = new Ajax('http://k007-pe.baifendian.com');\r\n\r\nexport default () => {\r\n  return (\r\n    <Button\r\n      type=\"primary\"\r\n      onClick={() => {\r\n        k007Ajax\r\n          .get({\r\n            path: '/api/securitypolice/frontend/config/namespace?kw=k007.service_address@@resource@@gis@@application',\r\n            loading: {\r\n              show: true,\r\n            },\r\n          })\r\n          .promise.then((res) => {\r\n            if (res) {\r\n              if (res.data.code === 200) {\r\n                alert(JSON.stringify(res.data.data));\r\n              }\r\n\r\n              res.hideIndicator();\r\n            }\r\n          });\r\n      }}\r\n    >\r\n      call\r\n    </Button>\r\n  );\r\n};\r\n",renderChildren:()=>n.createElement(l,null)},{id:"p2",name:"post",mode:"code",scope:{React:n},cardProps:{description:{title:"post",info:"post"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React from 'react';\r\n\r\nimport { Ajax } from '@baifendian/adhere';\r\n\r\nconst k007Ajax = new Ajax('http://k007-pe.baifendian.com');\r\n\r\nexport default () => {\r\n  return (\r\n    <Button\r\n      type=\"primary\"\r\n      onClick={() => {\r\n        k007Ajax\r\n          .post({\r\n            path: '/api/controlledObject/facade/fq/queryList',\r\n            data: [\r\n              {\r\n                resource: '12345678',\r\n                type: '101',\r\n                uuid: '7419d8b2-76f8-11eb-ada5-b76f62efdb0c',\r\n              },\r\n              { resource: '', type: '103', uuid: '562096255732281344' },\r\n            ],\r\n            loading: {\r\n              show: true,\r\n            },\r\n            // customSendJSONStringify: (self, key, value) => {\r\n            //   return value;\r\n            // },\r\n          })\r\n          .promise.then((res) => {\r\n            if (res) {\r\n              if (res.data.code === 200) {\r\n                alert(JSON.stringify(res.data.data));\r\n              }\r\n\r\n              res.hideIndicator();\r\n            }\r\n          });\r\n      }}\r\n    >\r\n      call\r\n    </Button>\r\n  );\r\n};\r\n",renderChildren:()=>n.createElement(d,null)},{id:"p3",name:"upload",mode:"code",scope:{React:n},cardProps:{description:{title:"upload",info:"upload"}},type:"PlayGround",codeText:'import { Avatar, Progress } from \'antd\';\r\nimport React, { useRef, useState } from \'react\';\r\n\r\nimport { Ajax } from \'@baifendian/adhere\';\r\nimport { Space } from \'@baifendian/adhere\';\r\n\r\nconst k007Ajax = new Ajax(\'http://k007-pe.baifendian.com\');\r\n\r\nexport default () => {\r\n  const uploadFormFef = useRef();\r\n  const uploadRef = useRef();\r\n  const [img, setImg] = useState(null);\r\n  const [percent, setPercent] = useState(0);\r\n\r\n  return (\r\n    <form encType="multipart/form-data" method="post" ref={uploadFormFef}>\r\n      <div>\r\n        <Avatar shape="square" size="large" icon={img ? <img src={img} alt="" /> : null} />\r\n\r\n        <Space direction="vertical" />\r\n\r\n        <input\r\n          type="file"\r\n          ref={uploadRef}\r\n          onChange={() => {\r\n            const file = uploadRef.current.files[0];\r\n\r\n            const { size } = file;\r\n\r\n            const reader = new FileReader();\r\n            reader.onload = (e) => {\r\n              setImg(e.target.result);\r\n            };\r\n\r\n            reader.readAsDataURL(file);\r\n\r\n            k007Ajax\r\n              .post({\r\n                path: \'/api/personControl/monitorPerson/image/upload\',\r\n                data: {\r\n                  form: uploadFormFef.current,\r\n                  data: {\r\n                    file,\r\n                  },\r\n                },\r\n                loading: {\r\n                  show: true,\r\n                },\r\n                onProgress: (e) => {\r\n                  setPercent((e.loaded / size) * 100);\r\n                },\r\n                onLoadend: () => {\r\n                  setPercent(100);\r\n                },\r\n              })\r\n              .promise.then((res) => {\r\n                setPercent(100);\r\n\r\n                if (res) {\r\n                  if (res.data.code === 200) {\r\n                    alert(JSON.stringify(res.data.data));\r\n                  }\r\n\r\n                  res.hideIndicator();\r\n                }\r\n              });\r\n          }}\r\n        />\r\n\r\n        <Space direction="vertical" />\r\n\r\n        <Progress percent={percent} />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n',renderChildren:()=>n.createElement(h,null)},{id:"p4",name:"PromiseAll",mode:"code",scope:{React:n},cardProps:{description:{title:"PromiseAll",info:"PromiseAll"}},type:"PlayGround",codeText:"import { Button } from 'antd';\r\nimport React from 'react';\r\n\r\nimport { Ajax, GlobalIndicator } from '@baifendian/adhere';\r\n\r\nconst k007Ajax = new Ajax('http://k007-pe.baifendian.com');\r\n\r\nexport default () => {\r\n  return (\r\n    <Button\r\n      type=\"primary\"\r\n      onClick={() => {\r\n        const globalIndicator = GlobalIndicator.show();\r\n\r\n        Promise.all([\r\n          k007Ajax.get({\r\n            path: '/api/securitypolice/frontend/config/namespace?kw=k007.service_address@@resource@@gis@@application',\r\n          }).promise,\r\n          k007Ajax.get({\r\n            path: '/api/SystemManager/system/role/login/list?state=&kw=&pageNum=1&pageSize=10',\r\n          }).promise,\r\n          k007Ajax.post({\r\n            path: '/api/controlledObject/facade/fq/queryList',\r\n            data: [\r\n              {\r\n                resource: '12345678',\r\n                type: '101',\r\n                uuid: '7419d8b2-76f8-11eb-ada5-b76f62efdb0c',\r\n              },\r\n              { resource: '', type: '103', uuid: '562096255732281344' },\r\n            ],\r\n          }).promise,\r\n        ])\r\n          .then((res) => {\r\n            GlobalIndicator.hide(globalIndicator);\r\n            alert(JSON.stringify(res));\r\n          })\r\n          .catch(() => {\r\n            GlobalIndicator.hide(globalIndicator);\r\n          });\r\n      }}\r\n    >\r\n      call\r\n    </Button>\r\n  );\r\n};\r\n",renderChildren:()=>n.createElement(E,null)}]}),n.createElement(a.e6,{title:"Props",config:[{border:!0,title:"ISendArg",data:[{params:"path",desc:"请求的地址(相对的地址)",type:"string",defaultVal:""},{params:"headers",desc:"请求的头",type:"Object<key,value>",defaultVal:""},{params:"data",desc:"请求的数据",type:"{form?: HTMLFormElement;data: object;} | object",defaultVal:""},{params:"mock",desc:"是否支持mock数据",type:"boolean",defaultVal:"false"},{params:"loading",desc:"loading的配置",type:"{show:boolean;text:string;el:HtmlElement}",defaultVal:""},{params:"onBeforeResponse",desc:"和后端定义的三大业务key",type:"() => {}",defaultVal:""},{params:"dataKey",desc:"数据属性",type:"string",defaultVal:""},{params:"messageKey",desc:"消息属性",type:"string",defaultVal:""},{params:"codeKey",desc:"业务code属性",type:"number | string",defaultVal:""},{params:"codeSuccess",desc:"业务code成功属性",type:"number",defaultVal:""},{params:"showWarn",desc:"在code不等于200的时候是否使出message的warn",type:"boolean",defaultVal:""},{params:"onTimeout",desc:"超时函数",type:"Function",defaultVal:""},{params:"onLoadsStart",desc:"加载开始",type:"Function",defaultVal:""},{params:"onProgress",desc:"加载进度",type:"Function",defaultVal:""},{params:"onAbort",desc:"请求取消",type:"Function",defaultVal:""},{params:"onError",desc:"发生错误",type:"Function",defaultVal:""},{params:"onLoad",desc:"开始加载",type:"Function",defaultVal:""},{params:"onLoadend",desc:"加载完成",type:"Function",defaultVal:""},{params:"timeout",desc:"超时时间",type:"number",defaultVal:""},{params:"withCredentials",desc:"是否携带客户端信息",type:"boolean",defaultVal:"true"},{params:"interceptor",desc:"拦截器",type:"Function({status,statusText,response,responseText})",defaultVal:""}]},{border:!0,title:"IConfig",data:[{params:"onTimeout",desc:"在预设时间内没有接收到响应时触发",type:"Function",defaultVal:""},{params:"onLoadsStart",desc:"接收到响应数据时触发",type:"Function",defaultVal:""},{params:"onProgress",desc:"当请求接收到更多数据时，周期性地触发",type:"Function",defaultVal:""},{params:"onAbort",desc:"当 request 被停止时触发，例如当程序调用 XMLHttpRequest.abort() 时",type:"Function",defaultVal:""},{params:"onError",desc:"当 request 遭遇错误时触发",type:"Function",defaultVal:""},{params:"onLoad",desc:"XMLHttpRequest请求成功完成时触发",type:"Function",defaultVal:""},{params:"onLoadend",desc:"请求结束时触发, 无论请求成功 ( load) 还是失败 (abort 或 error)",type:"Function",defaultVal:""},{params:"timeout",desc:"超时时间",type:"number",defaultVal:""},{params:"withCredentials",desc:"是否携带客户端数据",type:"boolean",defaultVal:"true"},{params:"interceptor",desc:"拦截器接口定义",type:"Function({status,statusText,response,responseText})",defaultVal:""}]}]}),n.createElement(a.I7,{title:"Api",config:[{border:!0,title:"方法",data:[{name:"constructor",desc:"构造方法",modifier:"public",params:[{name:"baseURL",desc:"基础路径",type:"string",defaultVal:"",required:""},{name:"systemManagerBaseURL",desc:"系统管理BaseURL",type:"string",defaultVal:"",required:""},{name:"config",desc:"配置",type:"IConfig",defaultVal:"",required:""}],returnType:"Ajax",returnDesc:""},{name:"get",desc:"get请求",modifier:"public",params:[{name:"params",desc:"",type:"ISendArg",defaultVal:"",required:""}],returnType:"Promise",returnDesc:""},{name:"post",desc:"post请求",modifier:"public",params:[{name:"params",desc:"",type:"ISendArg",defaultVal:"",required:""}],returnType:"Promise",returnDesc:""},{name:"path",desc:"path请求",modifier:"public",params:[{name:"params",desc:"",type:"ISendArg",defaultVal:"",required:""}],returnType:"Promise",returnDesc:""},{name:"put",desc:"put请求",modifier:"public",params:[{name:"params",desc:"",type:"ISendArg",defaultVal:"",required:""}],returnType:"Promise",returnDesc:""},{name:"delete",desc:"delete请求",modifier:"public",params:[{name:"params",desc:"",type:"ISendArg",defaultVal:"",required:""}],returnType:"Promise",returnDesc:""}]}]}))},73376:(e,t,r)=>{r.d(t,{A:()=>m});var n=r(86662),a=r(86056),o=r(26322),s=r(90264),i=r(38948);const l="fdFKYQbTadYRAFXyIsyC",c="TGQfKkX166qX5wG5Oi6O",d="xoMDGjw3kWAGwRmDVR2l",p="juDjVuIAwAS6vlI_lwTq",u="s2U_wfx5rmRlV8iKcHg5",m=()=>o.createElement("ul",{className:l},o.createElement("li",{className:c},o.createElement("dl",null,o.createElement("dt",null,"相关资源"),o.createElement("dd",null,o.createElement("ul",{className:d},o.createElement("li",{className:p},"自主研发",o.createElement("ul",null,o.createElement("li",null,o.createElement("a",{href:"http://49.232.163.126:8084/",target:"_blank",rel:"noopener noreferrer"},"adherev")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-BUILD",target:"_blank",rel:"noopener noreferrer"},"CTSJ-BUILD")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-BUILDV",target:"_blank",rel:"noopener noreferrer"},"CTSJ-BUILDV")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-STATE",target:"_blank",rel:"noopener noreferrer"},"CTSJ-STATE")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-ROUTER",target:"_blank",rel:"noopener noreferrer"},"CTSJ-ROUTER")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-VuexGenerator",target:"_blank",rel:"noopener noreferrer"},"CTSJ-VuexGenerator")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-React-SSR",target:"_blank",rel:"noopener noreferrer"},"CTSJ-React-SSR")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-DOC",target:"_blank",rel:"noopener noreferrer"},"CTSJ-DOC")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-DvaGenerator",target:"_blank",rel:"noopener noreferrer"},"CTSJ-DvaGenerator")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/WebViewJavascriptBridge",target:"_blank",rel:"noopener noreferrer"},"WebViewJavascriptBridge")))),o.createElement("li",{className:p},"模板工程",o.createElement("ul",null,o.createElement("li",null,o.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/adhere",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)")),o.createElement("li",null,o.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/polyfill",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)(支持IE)")),o.createElement("li",null,o.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/adhere-webpack5-js-ssr",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)(SSR)")),o.createElement("li",null,o.createElement("a",{href:"https://gitee.com/playerljc/AntPro",target:"_blank",rel:"noopener noreferrer"},"AntPro(G1)")),o.createElement("li",null,o.createElement("a",{href:"http://git.baifendian.com/dongxu.guo/ReactWeb",target:"_blank",rel:"noopener noreferrer"},"ReactWeb(G3)")),o.createElement("li",null,o.createElement("a",{href:"http://git.baifendian.com/bo.li/Percent_Vue_Admin.git",target:"_blank",rel:"noopener noreferrer"},"PercentVue(G3)")),o.createElement("li",null,o.createElement("a",{href:"https://gitee.com/playerljc/VuePro",target:"_blank",rel:"noopener noreferrer"},"VuePro(G1)")))))))),o.createElement("li",{className:c},o.createElement("dl",null,o.createElement("dt",null,"帮助"),o.createElement("dd",null,o.createElement("ul",{className:d},o.createElement("li",{className:p},o.createElement("a",{href:i.Jk.O,target:"_blank",rel:"noopener noreferrer"},o.createElement(a.A,null),o.createElement("span",{className:u},"Gitlib"))),o.createElement("li",{className:p},o.createElement(s.N_,{to:"/adhere/changelog"},o.createElement(n.A,null),o.createElement("span",{className:u},"更新日志"))))))))},96465:(e,t,r)=>{r.d(t,{Wc:()=>u,I7:()=>f,e6:()=>m,wn:()=>p,Ay:()=>h});var n=r(71860),a=r(24370),o=r(26322),s=r(73376);const i="xpgSrI_YtLJ2DLwvO1Cq",l="KHCbMGLwqpj8TVQmsF1m",{PlayGroundPageContext:c,PlayGroundPage:d}=a.A,{Section:p,CodeBoxSection:u,PropsSection:m,FunctionPropsSection:f}=d;const h=function(e){let{children:t,onScrollBottom:r,distance:a=50,...p}=e;const[u,m]=(0,o.useState)(),f=(0,o.useRef)();return(0,o.useEffect)((()=>{m(f.current)}),[]),o.createElement(c.Provider,{value:{scrollEl:null!=u?u:document.body}},o.createElement(d,(0,n.A)({ref:f,className:i,anchorNavigationAutoClassName:l,anchorNavigationFixedClassName:l},p),t,o.createElement(s.A,null)))}},7847:(e,t,r)=>{r.d(t,{A:()=>O});var n=r(2897),a=r(65410);const o={show:function(e,t){return void 0===e&&(e=document.body),a.A.show({content:t=void 0===t?"":t,maskClickable:!1,icon:"loading",getContainer:null!=e?e:document.body,duration:0})},hide:function(e){e.close()},hideAll:function(){a.A.clear()}};var s,i,l=r(54763),c=r(88724),d=r(59418),p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=function(e,t){var r={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},m=!1,f=300,h=function(){function e(){this.requestInterceptors=new Set,this.responseInterceptors=new Set}return e.prototype.addRequest=function(e){var t=this;return Array.isArray(e)?(e.forEach((function(e){t.requestInterceptors.add(e)})),this.requestInterceptors):this.requestInterceptors.add(e)},e.prototype.addResponse=function(e){var t=this;return Array.isArray(e)?(e.forEach((function(e){t.responseInterceptors.add(e)})),this.responseInterceptors):this.responseInterceptors.add(e)},e.prototype.remove=function(e){this.requestInterceptors.has(e)?this.requestInterceptors.delete(e):this.responseInterceptors.has(e)&&this.responseInterceptors.delete(e)},e.prototype.requestReducer=function(e){return Array.from(this.requestInterceptors).reduce((function(e,t){return t(e)}),e)},e.prototype.responseReducer=function(e){return Array.from(this.responseInterceptors).reduce((function(e,t){return t(e)}),e)},e}(),y=function(){function e(e,t,r){this.baseURL=e||"",this.systemManagerBaseURL=t||"",this.config=null!=r?r:{}}return e.prototype.get=function(e){var t=this,r=(e.data,u(e,["data"])),n={};e=new Promise((function(e,a){(e=(n=w.call(t,p(p(p(p({},T.call(t)),t.config),{method:"get"}),r),{resolve:e,reject:a})).xhr)&&e.send(null)}));return p(p({},n),{promise:e})},e.prototype.post=function(e){return P.call(this,"post",e)},e.prototype.path=function(e){return P.call(this,"path",e)},e.prototype.put=function(e){return P.call(this,"put",e)},e.prototype.delete=function(e){return P.call(this,"delete",e)},e.TIMEOUT=1e6,e.STATUS_SUCCESS_CODES=[200,201,202,203,204,205,206,207,208,226],e.STATUS_REDIRECT_CODES=[300,301,302,303,304,305,306,307,308],e.READY_STATE_UNSENT=0,e.READY_STATE_OPENED=1,e.READY_STATE_HEADERS_RECEIVED=2,e.READY_STATE_LOADING=3,e.READY_STATE_DONE=4,e.CONTENT_TYPE_APPLICATION_JSON="application/json",e.CONTENT_TYPE_MULTIPART_FORM_DATA="multipart/form-data",e.CONTENT_TYPE_APPLICATION_X_WWW_FORM_URLENCODED="application/x-www-form-urlencoded",e.CONTENT_TYPE_TEXT_XML="text/xml",e.CONTENT_TYPE_APPLICATION_XML="application/xml",e.CONTENT_TYPE_TEXT_PLAIN="text/plain",e.interceptors=new h,e}();function g(e,t){s&&(clearTimeout(s),s=null),s=setTimeout((function(){n.Ay.error({message:e,description:t})}),f)}function E(e,t){i&&(clearTimeout(i),i=null),i=setTimeout((function(){n.Ay.warning({message:e,description:t})}),f)}function T(){var e=this;return{timeout:y.TIMEOUT,withCredentials:!0,onLoad:function(){},onLoadsStart:function(){},onLoadend:function(){},onProgress:function(){},onTimeout:function(){E(d.Ay.v("提示"),d.Ay.v("请求超时"))},onAbort:function(){E(d.Ay.v("提示"),d.Ay.v("请求终止"))},onError:function(){g(d.Ay.v("提示"),d.Ay.v("请求发生错误"))},interceptor:function(t){switch(t.status){case 401:C.call(e);break;case 402:N.call(e);break;default:g(d.Ay.v("提示"),d.Ay.v("已提出请求，但未收到任何回复"))}},mock:!1,loading:{show:!1,text:"",el:document.body,zIndex:19999,size:"default"},onBeforeResponse:function(){},dataKey:"data",messageKey:"message",codeKey:"code",codeSuccess:200,showWarn:!0,responseType:""}}function A(e){var t=(e=y.interceptors.responseReducer(e)).show,r=e.terminal,n=e.data,a=e.indicator,o=(e=e.xhr,S(r));return p({xhr:e,data:n},t?{hideIndicator:function(){return o.hide(a)}}:{})}function b(e){var t,r,n=e.xhr,a=e.interceptor,o=(i=e.loading).show,s=i.indicator,i=i.terminal,l=(u=e.business).messageKey,c=u.codeKey,p=u.codeSuccess,u=u.showWarn,m=e.resolve,f=(e=e.reject,S(i));n.readyState===y.READY_STATE_DONE&&(200<=n.status&&n.status<300||304===n.status?-1!==(t=n.getResponseHeader("Content-type")).indexOf(y.CONTENT_TYPE_APPLICATION_JSON)?(r=JSON.parse(n.responseText),u&&c in r&&r[c]!==p&&E(d.Ay.v("提示"),r[l]),m(A({show:o,terminal:i,data:r,indicator:s,xhr:n}))):[y.CONTENT_TYPE_TEXT_XML,y.CONTENT_TYPE_TEXT_XML].includes(t)?m(A({show:o,terminal:i,data:n.responseXML,indicator:s,xhr:n})):m(A({show:o,terminal:i,data:n.response,indicator:s,xhr:n})):(a({status:n.status,statusText:n.statusText,response:n.response,responseText:n.responseText}),e({status:n.status,statusText:n.statusText,response:n.response,responseText:n.responseText}),o&&s&&f.hide(s)))}function v(e){return e&&"form"in e&&"data"in e&&!c.A.isEmpty(e.form)&&!c.A.isEmpty(e.data)&&e.form instanceof HTMLFormElement}function S(e){return"pc"===e?l.A:o}function w(e,t){var r,n=e.method,a=(e=u(e,["method"]),t.resolve),o=(t=t.reject,(e=y.interceptors.requestReducer(e)).path),s=e.headers,i=e.data,l=e.mock,p=e.loading,m=void 0===(m=(e.onBeforeResponse,e.dataKey))?"data":m,f=void 0===(f=e.messageKey)?"message":f,h=void 0===(h=e.codeKey)?"code":h,g=void 0===(g=e.codeSuccess)?200:g,E=void 0===(E=e.showWarn)||E,A=(e=u(e,["path","headers","data","mock","loading","onBeforeResponse","dataKey","messageKey","codeKey","codeSuccess","showWarn"]),"".concat(d.Ay.v("加载中"),"...")),w=void 0!==(_=p.show)&&_,_=void 0===(_=p.text)?A:_,P=void 0===(P=p.el)?document.body:P,C=void 0===(C=p.zIndex)?19999:C,N=void 0===(N=p.size)?"default":N,O=S(p=void 0===(p=p.terminal)?"pc":p);if(w&&(r=O.show(P||document.body,_||A,C,N)),l)return setTimeout((function(){a(w?{data:o,hideIndicator:function(){O.hide(r)}}:o)}),200),{xhr:null,contentType:""};P=this.baseURL,_=this.config,C=(A=Object.assign(T.call(this),_,e)).timeout,N=A.withCredentials,l=A.responseType,_=A.interceptor,e=u(A,["timeout","withCredentials","responseType","interceptor"]);var R=new XMLHttpRequest;R.open(n,"".concat(P,"/").concat(o),!0),R.timeout=C,R.withCredentials=N,R.responseType=l||"",A="";if(!c.A.isEmpty(s)&&c.A.isObject(s))for(var x in"Content-Type"in s||v(i)||(s["Content-Type"]="".concat(y.CONTENT_TYPE_APPLICATION_JSON,";charset=utf-8")),A=null!=(P=s["Content-Type"])?P:"",s)R.setRequestHeader(x,s[x]);else!c.A.isEmpty(i)&&c.A.isRef(i)&&"get"!==n&&(v(i)?A=y.CONTENT_TYPE_MULTIPART_FORM_DATA:(A="".concat(y.CONTENT_TYPE_APPLICATION_JSON,";charset=utf-8"),R.setRequestHeader("Content-Type","".concat(y.CONTENT_TYPE_APPLICATION_JSON,";charset=utf-8"))));return function(e){var t=e.xhr,r=e.events,n=e.reject,a=r.onTimeout,o=(e=r.onLoadsStart,r.onProgress),s=r.onAbort,i=r.onError,l=r.onLoad;r=r.onLoadend,a&&t.addEventListener("timeout",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.apply(void 0,null!=e?e:{}),n.apply(void 0,null!=e?e:{})})),s&&t.addEventListener("abort",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.apply(void 0,null!=e?e:{}),n.apply(void 0,null!=e?e:{})})),i&&t.addEventListener("error",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.apply(void 0,null!=e?e:{}),n.apply(void 0,null!=e?e:{})})),e&&t.addEventListener("loadstart",e),o&&t.addEventListener("progress",o),l&&t.addEventListener("load",l),r&&t.addEventListener("loadend",r)}({xhr:R,events:e,reject:t}),R.onreadystatechange=b.bind(this,{xhr:R,interceptor:_,loading:{show:w,terminal:p,indicator:r},business:{dataKey:m,messageKey:f,codeKey:h,codeSuccess:g,showWarn:E},resolve:a,reject:t}),{xhr:R,contentType:A}}function _(e){var t,r=e.data,n=void 0===(n=e.contentType)?"":n;e=e.customSendJSONStringify;if(n.startsWith(y.CONTENT_TYPE_APPLICATION_JSON)&&c.A.isRef(r))return e?JSON.stringify(r,e):JSON.stringify(r);if(n.startsWith(y.CONTENT_TYPE_APPLICATION_X_WWW_FORM_URLENCODED)&&c.A.isObject(r))return Array.from(Object.keys(r)).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(r[e]))})).join("&");if(c.A.isObject(r)&&v(r))return t=new FormData(r.form),Array.from(Object.keys(r.data)).forEach((function(e){var n=r.data[e];n instanceof Function?t.append(e,n()):Array.isArray(n)?n.forEach((function(r){t.append(e,r)})):t.append(e,n)})),t;if(n.startsWith(y.CONTENT_TYPE_TEXT_PLAIN)){if(c.A.isString(r))return r;if(c.A.isObject(r))return e?JSON.stringify(r,e):JSON.stringify(r)}return null==(n=null==r?void 0:r.toString)?void 0:n.call(r)}function P(e,t){var r=this,n={},a=new Promise((function(a,o){a=(n=w.call(r,p(p(p(p({},T.call(r)),r.config),{method:e}),t),{resolve:a,reject:o})).xhr,o=n.contentType,a&&a.send(_.call(r,{data:t.data,contentType:o,customSendJSONStringify:t.customSendJSONStringify}))}));return p(p({},n),{promise:a})}function C(){if("undefined"!=typeof window){if(window.top&&window.top!==window&&window.top.postMessage("http_status_401","*"),m)return!1;window.location.href=c.A.casUrl({baseUrl:this.systemManagerBaseURL,enterUrl:window.location.href,defaultLocal:"zh_CN"})}}function N(){if(m=!0,"undefined"!=typeof window)return window.parent&&window.parent!==window?(window.parent.postMessage("http_status_402","*"),!1):void(window.location.href=c.A.casLogoutUrl({baseUrl:this.systemManagerBaseURL,enterUrl:window.location.href,params:"&code=402"}))}const O=y},18647:(e,t,r)=>{r.d(t,{A:()=>n});const n=r(54763).A},32517:(e,t,r)=>{r.d(t,{A:()=>n});const n=r(2382).A}}]);