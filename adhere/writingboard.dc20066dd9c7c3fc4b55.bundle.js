"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[1572],{770273:function(e,t){t.Z={Wrap:"ApTDwNCkWNLfTsJxSmwU"}},588404:function(e,t,n){var r=n(568789);t.Z=r.Z},824617:function(e,t,n){var r=n(5254),l=n(443011),u=n(739462),i=n(772099),o=n(668882),a=n(690171),c=n(209665),d=n(241887),s=n(355360),v=n(588404),f=n(230707),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},m=function(e,t){var n=e.wrapProps,m=e.toolProps,h=e.areaProps,y=e.defaultWidth,g=e.defaultColor,E=(e=(0,a.useState)(f.A.FREE))[0],P=e[1],S=(e=(0,a.useState)(null!=g?g:"#000"))[0],x=e[1],R=(e=(0,a.useState)(null!=y?y:2))[0],b=e[1],k=(0,a.useRef)(null),C=(e=(0,a.useMemo)((function(){return{gutter:20,wrapClassName:"".concat("adhere-ui-signature-core","-wrap")}}),[]),(0,a.useMemo)((function(){return{fit:!0}}),[])),w=(0,a.useMemo)((function(){return{autoFixed:!0}}),[]),L=(0,a.useMemo)((function(){return a.createElement(i.Z,null,a.createElement(u.Z,{direction:"vertical",size:20},a.createElement(l.Z,{style:{width:"100%"},value:R,precision:0,max:10,min:1,onChange:function(e){b(e),k.current&&k.current.setLineWidth(e)}}),a.createElement(c.Ie,{color:S,onChangeComplete:function(e){x(e.hex),k.current&&k.current.setStrokeStyle(e.hex)}}),a.createElement(r.ZP,{size:"large",block:!0,type:"primary",onClick:function(){var e;k.current&&(e=E===f.A.FREE?f.A.RUBBER:f.A.FREE,P(e),k.current.setMode(e))}},E===f.A.FREE?s.ZP.v("橡皮"):s.ZP.v("绘制")),a.createElement(r.ZP,{size:"large",block:!0,type:"primary",onClick:function(){k.current&&k.current.clear()}},s.ZP.v("清除"))))}),[E,R,S,m]),W=(0,a.useMemo)((function(){return a.createElement(i.Z,null,a.createElement(v.Z,{ref:k,defaultMode:E,defaultLineWidth:R,defaultStrokeStyle:S}))}),[h]);return(0,a.useImperativeHandle)(t,(function(){return{save:function(e,t,n){if(k.current)return k.current.toDataURL(null!=e?e:"#fff",null!=t?t:"image/png",null!=n?n:1)},isEmpty:function(){var e,t;return null==k||!k.current||(null==(t=null==(e=null==k?void 0:k.current)?void 0:e.isEmpty)?void 0:t.call(e))}}})),(0,o.Z)((function(){b(y)}),[y]),(0,o.Z)((function(){x(g)}),[g]),a.createElement(d.Z.TRBLC.LCLayout,p({},e,n,{lProps:p(p(p({},C),m),{children:L}),cProps:p(p(p({},w),h),{children:W})}))};t.Z=(0,a.memo)((0,a.forwardRef)(m))},924559:function(e,t,n){var r=n(5254),l=n(801821),u=n.n(l),i=n(690171),o=n(609613),a=n(355360),c=n(824617),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},s="adhere-ui-signature",v=function(e,t){var n=e.className,l=e.style,v=e.value,f=e.onChange,p=e.modalProps,m=e.coreProps,h=(0,i.useRef)(null),y=(e=(0,i.useCallback)((function(){return i.createElement("div",{className:u()("".concat(s,"-mask")),onClick:function(){var e=o.Z.Modal({config:d({title:a.ZP.v("编辑签名"),width:"60%",maskClosable:!1,footer:[i.createElement(r.ZP,{key:"submit",type:"primary",title:a.ZP.v("保存"),onClick:function(){var t;h.current&&(h.current.isEmpty()?f&&(f(""),e.close()):(t=h.current.save(),f&&(f(t),e.close())))}},a.ZP.v("保存"))]},null!=p?p:{}),children:i.createElement(c.Z,d({ref:h},m))})}},a.ZP.v("编辑签名"))}),[m,v,f]),(0,i.useCallback)((function(){return v?i.createElement("img",{src:v,alt:""}):null}),[v]));return(0,i.useImperativeHandle)(t,(function(){return{isEmpty:function(){return!v}}})),i.createElement("div",{className:u()(s,n),style:null!=l?l:{}},e(),y())},f=(0,i.memo)((0,i.forwardRef)(v));f.SignatureCore=c.Z,t.Z=f},230707:function(e,t,n){var r,l;n.d(t,{A:function(){return r}}),(l=r=r||{}).LINE="line",l.RECTANGLE="rectangle",l.CIRCLE="circle",l.TRIANGLE="triangle",l.FREE="free",l.RUBBER="rubber"},568789:function(e,t,n){var r=n(801821),l=n.n(r),u=n(63107),i=n.n(u),o=n(690171),a=n(460467),c=n(154805),d=n(924559),s=n(230707),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},f=function(e,t){var n=void 0===(n=e.defaultMode)?s.A.FREE:n,r=void 0===(r=e.defaultLineWidth)?2:r,u=void 0===(u=e.defaultStrokeStyle)?"#000":u,d=e.resizeTime,f=void 0===d?300:d,p=(0,o.useRef)(null),m=(0,o.useRef)(null),h=(0,o.useRef)(null),y=(0,o.useRef)(null),g=(0,o.useRef)(null),E=(0,o.useRef)(null),P=(0,o.useRef)(n),S=(0,o.useRef)(r),x=(0,o.useRef)(u),R=(0,o.useRef)([]),b=(0,o.useRef)(0),k=(0,o.useRef)(new Map([[s.A.FREE,{draw:function(e){var t,n=e.sourcePoint;e=e.targetPoint;null!=(t=null==h?void 0:h.current)&&t.beginPath(),null!=(t=null==h?void 0:h.current)&&t.moveTo(n.x,n.y),null!=(t=null==h?void 0:h.current)&&t.lineTo(e.x,e.y),R.current.push({shape:P.current,sourcePoint:n,targetPoint:e}),C({lineWidth:null==S?void 0:S.current,strokeStyle:null==x?void 0:x.current}),null!=(t=null==h?void 0:h.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==h?void 0:h.current)&&t.beginPath(),null!=(t=null==h?void 0:h.current)&&t.moveTo(e.sourcePoint.x,e.sourcePoint.y),null!=(t=null==h?void 0:h.current)&&t.lineTo(e.targetPoint.x,e.targetPoint.y),C({lineWidth:e.lineWidth,strokeStyle:e.strokeStyle}),null!=(t=null==h?void 0:h.current)&&t.stroke()},mouseup:function(e){B({sourcePoint:E.current,targetPoint:e})}}],[s.A.LINE,{draw:function(e){var t;e=e.targetPoint;null!=(t=null==h?void 0:h.current)&&t.clearRect(0,0,null==(t=null==m?void 0:m.current)?void 0:t.width,null==(t=null==m?void 0:m.current)?void 0:t.height),Z(),null!=(t=null==h?void 0:h.current)&&t.beginPath(),null!=(t=null==h?void 0:h.current)&&t.moveTo(null==(t=null==g?void 0:g.current)?void 0:t.x,null==(t=null==g?void 0:g.current)?void 0:t.y),null!=(t=null==h?void 0:h.current)&&t.lineTo(e.x,e.y),C({lineWidth:null==S?void 0:S.current,strokeStyle:null==x?void 0:x.current}),null!=(t=null==h?void 0:h.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==h?void 0:h.current)&&t.beginPath(),null!=(t=null==h?void 0:h.current)&&t.moveTo(e.sourcePoint.x,e.sourcePoint.y),null!=(t=null==h?void 0:h.current)&&t.lineTo(e.targetPoint.x,e.targetPoint.y),C({lineWidth:e.lineWidth,strokeStyle:e.strokeStyle}),null!=(t=null==h?void 0:h.current)&&t.stroke()},mouseup:function(e){var t;R.current.push({shape:P.current,lineWidth:null==(t=null==h?void 0:h.current)?void 0:t.lineWidth,strokeStyle:null==(t=null==h?void 0:h.current)?void 0:t.strokeStyle,sourcePoint:g.current,targetPoint:e})}}],[s.A.RECTANGLE,{draw:function(e){e=e.targetPoint;var t,n=(null!=(n=null==h?void 0:h.current)&&n.clearRect(0,0,null==(n=null==m?void 0:m.current)?void 0:n.width,null==(n=null==m?void 0:m.current)?void 0:n.height),Z(),null!=(n=null==h?void 0:h.current)&&n.beginPath(),T({startPoint:g.current,targetPoint:e}));null!=(t=null==h?void 0:h.current)&&t.rect(n.x,n.y,Math.abs(e.x-(null==(t=null==g?void 0:g.current)?void 0:t.x)),Math.abs(e.y-(null==(n=null==g?void 0:g.current)?void 0:n.y))),C({lineWidth:null==S?void 0:S.current,strokeStyle:null==x?void 0:x.current}),null!=(t=null==h?void 0:h.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==h?void 0:h.current)&&t.beginPath(),null!=(t=null==h?void 0:h.current)&&t.rect(e.x,e.y,e.width,e.height),C({lineWidth:e.lineWidth,strokeStyle:e.strokeStyle}),null!=(t=null==h?void 0:h.current)&&t.stroke()},mouseup:function(e){var t,n=T({startPoint:g.current,targetPoint:e});R.current.push({shape:P.current,lineWidth:null==(t=null==h?void 0:h.current)?void 0:t.lineWidth,strokeStyle:null==(t=null==h?void 0:h.current)?void 0:t.strokeStyle,x:n.x,y:n.y,width:Math.abs(e.x-(null==(t=null==g?void 0:g.current)?void 0:t.x)),height:Math.abs(e.y-(null==(n=null==g?void 0:g.current)?void 0:n.y))})}}],[s.A.CIRCLE,{draw:function(e){e=e.targetPoint;var t,n=(null!=(n=null==h?void 0:h.current)&&n.clearRect(0,0,null==(n=null==m?void 0:m.current)?void 0:n.width,null==(n=null==m?void 0:m.current)?void 0:n.height),Z(),null!=(n=null==h?void 0:h.current)&&n.beginPath(),T({startPoint:g.current,targetPoint:e}));e=W({p2:e,p1:g.current});null!=(t=null==h?void 0:h.current)&&t.ellipse(n.x,n.y,e,e,45*Math.PI/180,0,2*Math.PI),C({lineWidth:null==S?void 0:S.current,strokeStyle:null==x?void 0:x.current}),null!=(t=null==h?void 0:h.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==h?void 0:h.current)&&t.beginPath(),null!=(t=null==h?void 0:h.current)&&t.ellipse(e.x,e.y,e.radiusX,e.radiusY,e.rotation,e.startAngle,e.endAngle),C({lineWidth:e.lineWidth,strokeStyle:e.strokeStyle}),null!=(t=null==h?void 0:h.current)&&t.stroke()},mouseup:function(e){var t,n=T({startPoint:g.current,targetPoint:e});e=W({p2:e,p1:null==g?void 0:g.current});R.current.push({shape:P.current,lineWidth:null==(t=null==h?void 0:h.current)?void 0:t.lineWidth,strokeStyle:null==(t=null==h?void 0:h.current)?void 0:t.strokeStyle,x:n.x,y:n.y,radiusX:e,radiusY:e,rotation:45*Math.PI/180,startAngle:0,endAngle:2*Math.PI})}}],[s.A.TRIANGLE,{draw:function(e){e=e.targetPoint;var t=(null!=(t=null==h?void 0:h.current)&&t.clearRect(0,0,null==(t=null==m?void 0:m.current)?void 0:t.width,null==(t=null==m?void 0:m.current)?void 0:t.height),Z(),null!=(t=null==h?void 0:h.current)&&t.beginPath(),w({startPoint:g.current,targetPoint:e}));null!=(e=null==h?void 0:h.current)&&e.moveTo(t[0].x,t[0].y),null!=(e=null==h?void 0:h.current)&&e.lineTo(t[1].x,t[1].y),null!=(e=null==h?void 0:h.current)&&e.lineTo(t[2].x,t[2].y),null!=(e=null==h?void 0:h.current)&&e.closePath(),C({lineWidth:null==S?void 0:S.current,strokeStyle:null==x?void 0:x.current}),null!=(t=null==h?void 0:h.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==h?void 0:h.current)&&t.beginPath(),null!=(t=null==h?void 0:h.current)&&t.moveTo(e.points[0].x,e.points[0].y),null!=(t=null==h?void 0:h.current)&&t.lineTo(e.points[1].x,e.points[1].y),null!=(t=null==h?void 0:h.current)&&t.lineTo(e.points[2].x,e.points[2].y),null!=(t=null==h?void 0:h.current)&&t.closePath(),C({lineWidth:e.lineWidth,strokeStyle:e.strokeStyle}),null!=(t=null==h?void 0:h.current)&&t.stroke()},mouseup:function(e){var t;e=w({startPoint:g.current,targetPoint:e});R.current.push({shape:P.current,lineWidth:null==(t=null==h?void 0:h.current)?void 0:t.lineWidth,strokeStyle:null==(t=null==h?void 0:h.current)?void 0:t.strokeStyle,points:e})}}],[s.A.RUBBER,{draw:function(e){var t,n=e.sourcePoint;e=e.targetPoint;null!=(t=null==h?void 0:h.current)&&t.beginPath(),null!=(t=null==h?void 0:h.current)&&t.moveTo(n.x,n.y),null!=(t=null==h?void 0:h.current)&&t.lineTo(e.x,e.y),R.current.push({shape:P.current,sourcePoint:n,targetPoint:e}),h.current.lineWidth=15,h.current.strokeStyle="#fff",h.current.lineCap="round",h.current.lineJoin="round",null!=(t=null==h?void 0:h.current)&&t.stroke()},drawStack:function(e){var t;null!=(t=null==h?void 0:h.current)&&t.beginPath(),null!=(t=null==h?void 0:h.current)&&t.moveTo(e.sourcePoint.x,e.sourcePoint.y),null!=(t=null==h?void 0:h.current)&&t.lineTo(e.targetPoint.x,e.targetPoint.y),h.current.lineWidth=15,h.current.strokeStyle="#fff",h.current.lineCap="round",h.current.lineJoin="round",null!=(t=null==h?void 0:h.current)&&t.stroke()},mouseup:function(e){B({sourcePoint:E.current,targetPoint:e})}}]]));function C(e){var t=e.lineWidth;e=e.strokeStyle;h.current.lineWidth=t,h.current.strokeStyle=e,h.current.lineCap="round",h.current.lineJoin="round"}function w(e){var t=e.startPoint,n=T({startPoint:t,targetPoint:e=e.targetPoint}),r=Math.abs(e.x-t.x);e=Math.abs(e.y-t.y);return[{x:n.x,y:n.y+e},{x:n.x+r/2,y:n.y},{x:n.x+r,y:n.y+e}]}function L(e){var t=e.clientX,n=(e=e.clientY,null==(n=null==m?void 0:m.current)?void 0:n.getBoundingClientRect());return{x:t-n.x,y:e-n.y}}function W(e){var t=e.p1,n=(e=e.p2,t.x),r=(t=t.y,e.x);e=e.y;return Math.sqrt(Math.pow(r-n,2)+Math.pow(e-t,2))}function Z(){for(var e=0;e<R.current.length;e++){var t=R.current[e];k.current.get(t.shape).drawStack(t)}}function T(e){var t=e.startPoint;return(e=e.targetPoint).x<=t.x&&e.y<=t.y?e:e.x<=t.x&&e.y>=t.y?{x:e.x,y:t.y}:e.x>=t.x&&e.y<=t.y?{x:t.x,y:e.y}:e.x>=t.x&&e.y>=t.y?t:void 0}function B(e){var t,n=e.sourcePoint;e=e.targetPoint;(null==(t=null==k?void 0:k.current)?void 0:t.get(P.current)).draw({sourcePoint:n,targetPoint:e})}function M(e){D(e)}function A(e){D(v(v({},e),{clientX:e.targetTouches[0].clientX,clientY:e.targetTouches[0].clientY}))}function V(e){F(e)}function I(e){F(v(v({},e),{clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY}))}function N(e){var t=e.clientX;e=e.clientY;g.current=E.current=L({clientX:t,clientY:e}),null!=(t=null==p?void 0:p.current)&&t.addEventListener("mousemove",M),null!=(e=null==p?void 0:p.current)&&e.addEventListener("mouseup",V),null!=(t=null==p?void 0:p.current)&&t.addEventListener("touchmove",A),null!=(e=null==p?void 0:p.current)&&e.addEventListener("touchend",I)}function D(e){e=L({clientX:e.clientX,clientY:e.clientY}),B({sourcePoint:E.current,targetPoint:e}),E.current=e}function F(e){var t;e=L({clientX:e.clientX,clientY:e.clientY});null!=(t=null==k?void 0:k.current.get(P.current))&&t.mouseup(e),g.current=null,(E.current=null)!=(t=null==p?void 0:p.current)&&t.removeEventListener("mousemove",M),null!=(e=null==p?void 0:p.current)&&e.removeEventListener("mouseup",V),null!=(t=null==p?void 0:p.current)&&t.removeEventListener("touchmove",A),null!=(e=null==p?void 0:p.current)&&e.removeEventListener("touchend",I)}function O(){var e;null!=(e=null==h?void 0:h.current)&&e.clearRect(0,0,null==(e=null==m?void 0:m.current)?void 0:e.width,null==(e=null==m?void 0:m.current)?void 0:e.height),E.current=g.current=null,R.current=[],b.current=0}function Y(e,t,n){var r,l;if(e){for(var u=(e=a.Z.colorToRgb(e))[0],i=e[1],o=e[2],c=[],d=null==(e=null==h?void 0:h.current)?void 0:e.getImageData(0,0,null==(e=null==m?void 0:m.current)?void 0:e.width,null==(e=null==m?void 0:m.current)?void 0:e.height),s=0;s<(null==(r=null==d?void 0:d.data)?void 0:r.length);s+=4)0===d.data[s+3]&&(d.data[s]=u,d.data[s+1]=i,d.data[s+2]=o,d.data[s+3]=255,c.push(s),c.push(s+1),c.push(s+2),c.push(s+3));return null!=(e=null==h?void 0:h.current)&&e.putImageData(d,0,0),e=null==(e=null==m?void 0:m.current)?void 0:e.toDataURL(t||"image/png",n),d=null==(l=null==h?void 0:h.current)?void 0:l.getImageData(0,0,null==(l=null==m?void 0:m.current)?void 0:l.width,null==(l=null==m?void 0:m.current)?void 0:l.height),c.forEach((function(e){d.data[e]=0})),null!=(l=null==h?void 0:h.current)&&l.putImageData(d,0,0),e}return null==(l=null==m?void 0:m.current)?void 0:l.toDataURL(t||"image/png",n)}function G(){var e,t=null==(e=null==h?void 0:h.current)?void 0:e.getImageData(0,0,null==(e=null==m?void 0:m.current)?void 0:e.width,null==(e=null==m?void 0:m.current)?void 0:e.height);return!t.data.length||!t.data.some((function(e){return e!==t.data[0]}))}return(0,o.useImperativeHandle)(t,(function(){return{setMode:function(e){P.current=e},setStrokeStyle:function(e){x.current=e},setLineWidth:function(e){S.current=e},clear:O,toDataURL:Y,isEmpty:G}})),(0,o.useLayoutEffect)((function(){h.current=null==(t=null==m?void 0:m.current)?void 0:t.getContext("2d");var e,t=i()((function(){var e;m.current.width=null==(e=null==p?void 0:p.current)?void 0:e.offsetWidth,m.current.height=null==(e=null==p?void 0:p.current)?void 0:e.offsetHeight,null!=(e=null==h?void 0:h.current)&&e.clearRect(0,0,null==(e=null==m?void 0:m.current)?void 0:e.width,null==(e=null==m?void 0:m.current)?void 0:e.height),Z()}),f);return y.current=new c.do(t),null!=(e=null==(t=null==y?void 0:y.current)?void 0:t.observe)&&e.call(t,document.body),function(){var e;return null==(e=null==y?void 0:y.current)?void 0:e.disconnect()}}),[]),(0,o.useLayoutEffect)((function(){var e;function t(e){N(e)}function n(e){N(v(v({},e),{clientX:e.targetTouches[0].clientX,clientY:e.targetTouches[0].clientY}))}return null!=(e=null==p?void 0:p.current)&&e.addEventListener("mousedown",t),null!=(e=null==p?void 0:p.current)&&e.addEventListener("touchstart",n),function(){var e;null!=(e=null==p?void 0:p.current)&&e.removeEventListener("mousedown",t),null!=(e=null==p?void 0:p.current)&&e.removeEventListener("touchstart",n)}}),[]),o.createElement("div",{ref:p,className:l()("adhere-ui-writingboard",null!=(d=e.className)?d:""),style:null!=(n=e.style)?n:{}},o.createElement("canvas",{ref:m}))},p=(0,o.memo)((0,o.forwardRef)(f));p.Signature=d.Z,t.Z=p},573509:function(e,t,n){n.r(t);var r=n(915413),l=n(690171),u=n(296032),i=n(851830);t.default=()=>{const e=l.createRef(),[t,n]=(0,l.useState)("");return l.createElement(u.ZP,null,l.createElement(u.$0,{title:"WritingBoard"},l.createElement("p",null,"写字板")),l.createElement(u.e0,{title:"代码演示",config:[{id:"p1",name:"基本使用",mode:"code",scope:{React:l},cardProps:{description:{title:"基本使用",info:"基本使用"}},codeText:"\n  import React from 'react';\n  import { WritingBoard } from '@baifendian/adhere';\n\n  export default () => (\n    <div\n      style={{\n        position: 'relative',\n        height: 300,\n        overflowY: 'hidden',\n        border: '1px solid #ccc',\n      }}\n    >\n      <div style={{ height: '100%' }} ref={ref1}>\n        <WritingBoard />\n      </div>\n    </div>\n  )\n            ",type:"PlayGround",renderChildren:()=>l.createElement("div",{style:{position:"relative",height:300,overflowY:"hidden",border:"1px solid #ccc"}},l.createElement("div",{style:{height:"100%"},ref:e},l.createElement(r.Z,null)))},{id:"p2",name:"简易写字板",cardProps:{description:{title:"简易写字板",info:"切换类型、颜色和粗细"}},type:"PlayGroundMulit",config:[{title:"index.jsx",mode:"code",scope:{React:l},codeText:"\n  import React from 'react';\n  import Simple from './simple';\n\n  export default () => <Simple />\n                "},{title:"simple.jsx",mode:"code",scope:{React:l},codeText:'\n  import React, { useState, useRef } from \'react\';\n  import { Button, Card, Radio, Select, Space } from \'antd\';\n  import { SketchPicker } from \'react-color\';\n  import { FlexLayout, WritingBoard } from \'@baifendian/adhere\';\n\n  import styles from \'./index.less\';\n\n  const { Option } = Select;\n\n  export default () => {\n    const ref = useRef();\n    const [mode, setMode] = useState(\'line\');\n    const [color, setColor] = useState(\'#000\');\n    const [width, setWidth] = useState(2);\n\n    return (\n      <FlexLayout direction="horizontal" className={styles.Wrap}>\n        <FlexLayout.Fixed style={{ width: 300 }}>\n          <Space direction="vertical">\n            <Card title="绘制模式">\n              <Radio.Group\n                defaultValue="line"\n                value={mode}\n                onChange={(e) => {\n                  setMode(e.target.value);\n                  ref.current.setMode(e.target.value);\n                }}\n                buttonStyle="solid"\n              >\n                <Space direction="horizontal" wrap>\n                  <Radio.Button value="line">直线</Radio.Button>\n                  <Radio.Button value="rectangle">矩形</Radio.Button>\n                  <Radio.Button value="circle">圆形</Radio.Button>\n                  <Radio.Button value="triangle">三角形</Radio.Button>\n                  <Radio.Button value="free">自由绘制</Radio.Button>\n                  <Radio.Button value="rubber">橡皮</Radio.Button>\n                </Space>\n              </Radio.Group>\n            </Card>\n\n            <Card title="线条颜色">\n              <SketchPicker\n                color={color}\n                onChangeComplete={(c) => {\n                  setColor(c.hex);\n                  ref.current.setStrokeStyle(c.hex);\n                }}\n              />\n            </Card>\n\n            <Card title="线条宽度">\n              <Select\n                value={width}\n                onChange={(v) => {\n                  setWidth(v);\n                  ref.current.setLineWidth(v);\n                }}\n              >\n                <Option value={2}>2</Option>\n                <Option value={3}>3</Option>\n                <Option value={4}>4</Option>\n                <Option value={5}>5</Option>\n                <Option value={6}>6</Option>\n              </Select>\n            </Card>\n\n            <Card title="操作">\n              <Space direction="horizontal" wrap>\n                <Button\n                  type="primary"\n                  onClick={() => {\n                    ref.current.clear();\n                  }}\n                >\n                  清空\n                </Button>\n\n                <Button\n                  type="primary"\n                  onClick={() => {\n                    const base64 = ref.current.toDataURL();\n\n                    debugger;\n\n                    const save_link = document.createElement(\'a\');\n                    save_link.href = base64;\n                    save_link.download = \'img\';\n\n                    const event = document.createEvent(\'MouseEvents\');\n                    event.initMouseEvent(\n                      \'click\',\n                      true,\n                      false,\n                      window,\n                      0,\n                      0,\n                      0,\n                      0,\n                      0,\n                      false,\n                      false,\n                      false,\n                      false,\n                      0,\n                      null,\n                    );\n                    save_link.dispatchEvent(event);\n                  }}\n                >\n                  保存图片\n                </Button>\n              </Space>\n            </Card>\n          </Space>\n        </FlexLayout.Fixed>\n\n        <FlexLayout.Auto fit style={{ border: \'1px solid #ccc\' }}>\n          <WritingBoard\n            ref={ref}\n            defaultMode={mode}\n            defaultLineWidth={width}\n            defaultStrokeStyle={color}\n          />\n        </FlexLayout.Auto>\n      </FlexLayout>\n    );\n  };\n                '}],renderChildren:()=>l.createElement(i.Z,null)},{id:"p3",name:"签名",mode:"code",scope:{React:l},cardProps:{description:{title:"签名",info:"签名"}},codeText:"\n  import React, { useState } from 'react';\n  import { WritingBoard } from '@baifendian/adhere';\n\n  export default () => {\n    const [value, setValue] = useState('');\n\n    return (\n      <div>\n        <p>签名</p>\n        <div style={{ width: 200, height: 300, border: '1px solid #ccc' }}>\n          <WritingBoard.Signature value={value} onChange={(v) => setValue(v)} />\n        </div>\n      </div>\n    )\n  };\n            ",type:"PlayGround",renderChildren:()=>l.createElement("div",null,l.createElement("p",null,"签名"),l.createElement("div",{style:{width:200,height:300,border:"1px solid #ccc"}},l.createElement(r.Z.Signature,{value:t,onChange:e=>n(e)})))}]}),l.createElement(u.sB,{title:"WritingBoard",config:[{border:!0,title:"属性",data:[{params:"className",desc:"附加的样式表",type:"string",defaultVal:""},{params:"style",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"defaultMode",desc:"绘制模式",type:"\n                  {\n                    // 直线\n                    LINE = 'line',\n                    // 矩形\n                    RECTANGLE = 'rectangle',\n                    // 圆形\n                    CIRCLE = 'circle',\n                    // 三角形\n                    TRIANGLE = 'triangle',\n                    // 自由绘制\n                    FREE = 'free',\n                    // 橡皮\n                    RUBBER = 'rubber',\n                  }\n                ",defaultVal:"line"},{params:"defaultStrokeStyle",desc:"线条颜色",type:"string",defaultVal:"#000"},{params:"defaultLineWidth",desc:"线条宽度",type:"number",defaultVal:"1"},{params:"resizeTime",desc:"防抖的事件",type:"number",defaultVal:"300"}]}]}),l.createElement(u.sB,{title:"Signature",config:[{border:!0,title:"属性",data:[{params:"className",desc:"附加的样式表",type:"string",defaultVal:""},{params:"style",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"modalProps",desc:"弹出窗口设置",type:"ModalProps",defaultVal:""},{params:"coreProps",desc:"SignatureCore设置",type:"SignatureCoreProps",defaultVal:""},{params:"value",desc:"base64",type:"string",defaultVal:""},{params:"onChange",desc:"获取base64",type:"(base64?: string) => void",defaultVal:""}]}]}),l.createElement(u.sB,{title:"SignatureCore",config:[{border:!0,title:"属性",data:[{params:"defaultWidth",desc:"线条默认宽度",type:"number",defaultVal:"2"},{params:"defaultColor",desc:"默认颜色",type:"string",defaultVal:"#000"},{params:"wrapProps",desc:"最外层配置",type:"SignatureCoreWrapProps",defaultVal:""},{params:"toolProps",desc:"工具栏设置",type:"SignatureCoreToolProps",defaultVal:""},{params:"areaProps",desc:"编辑区设置",type:"SignatureCoreAreaProps",defaultVal:""}]}]}),l.createElement(u.ae,{title:"WritingBoard",config:[{border:!0,title:"WritingBoard",data:[{name:"setMode",desc:"设置模式",modifier:"public",params:[{name:"mode",desc:"模式",type:"\n                      {\n                        // 直线\n                        LINE = 'line',\n                        // 矩形\n                        RECTANGLE = 'rectangle',\n                        // 圆形\n                        CIRCLE = 'circle',\n                        // 三角形\n                        TRIANGLE = 'triangle',\n                        // 自由绘制\n                        FREE = 'free',\n                        // 橡皮\n                        RUBBER = 'rubber',\n                      }\n                    ",defaultVal:"",required:""}],returnType:"",returnDesc:""},{name:"setStrokeStyle",desc:"设置描边样式",modifier:"public",params:[{name:"style",desc:"样式",type:"style",defaultVal:"",required:""}],returnType:"",returnDesc:""},{name:"setLineWidth",desc:"设置线条样式",modifier:"public",params:[{name:"width",desc:"样式",type:"number",defaultVal:"",required:""}],returnType:"",returnDesc:""},{name:"clear",desc:"清空画布",modifier:"public",params:[],returnType:"",returnDesc:""},{name:"isEmpty",desc:"判断是否为空",modifier:"public",params:[],returnType:"boolean",returnDesc:""},{name:"toDataURL",desc:"获取画布数据",modifier:"public",params:[{name:"backgroundColor",desc:"背景颜色",type:"string",defaultVal:"#fff",required:""},{name:"type",desc:"mimeType",type:"string",defaultVal:"image/png",required:""},{name:"quality",desc:"图片质量",type:"number",defaultVal:"1.0",required:""}],returnType:"",returnDesc:""}]}]}),l.createElement(u.ae,{title:"SignatureCore",config:[{border:!0,title:"SignatureCore",data:[{name:"save",desc:"保存",modifier:"public",params:[{name:"backgroundColor",desc:"背景颜色",type:"string",defaultVal:"#fff",required:""},{name:"type",desc:"mimeType",type:"string",defaultVal:"image/png",required:""},{name:"quality",desc:"图片质量",type:"number",defaultVal:"1.0",required:""}],returnType:"",returnDesc:""},{name:"isEmpty",desc:"判断是否为空",modifier:"public",params:[],returnType:"boolean",returnDesc:""}]}]}),l.createElement(u.ae,{title:"Signature",config:[{border:!0,title:"Signature",data:[{name:"isEmpty",desc:"判断是否为空",modifier:"public",params:[],returnType:"boolean",returnDesc:""}]}]}))}},851830:function(e,t,n){var r=n(915413),l=n(270951),u=n(622613),i=n(739462),o=n(772099),a=n(267081),c=n(5254),d=n(690171),s=n(209665),v=n(770273);const{Option:f}=u.default;t.Z=()=>{const e=(0,d.useRef)(),[t,n]=(0,d.useState)("line"),[p,m]=(0,d.useState)("#000"),[h,y]=(0,d.useState)(2);return d.createElement(l.default,{direction:"horizontal",className:v.Z.Wrap},d.createElement(l.default.Fixed,{style:{width:300}},d.createElement(i.Z,{direction:"vertical"},d.createElement(o.Z,{title:"绘制模式"},d.createElement(a.ZP.Group,{defaultValue:"line",value:t,onChange:t=>{n(t.target.value),e.current.setMode(t.target.value)},buttonStyle:"solid"},d.createElement(i.Z,{direction:"horizontal",wrap:!0},d.createElement(a.ZP.Button,{value:"line"},"直线"),d.createElement(a.ZP.Button,{value:"rectangle"},"矩形"),d.createElement(a.ZP.Button,{value:"circle"},"圆形"),d.createElement(a.ZP.Button,{value:"triangle"},"三角形"),d.createElement(a.ZP.Button,{value:"free"},"自由绘制"),d.createElement(a.ZP.Button,{value:"rubber"},"橡皮")))),d.createElement(o.Z,{title:"线条颜色"},d.createElement(s.xS,{color:p,onChangeComplete:t=>{m(t.hex),e.current.setStrokeStyle(t.hex)}})),d.createElement(o.Z,{title:"线条宽度"},d.createElement(u.default,{value:h,onChange:t=>{y(t),e.current.setLineWidth(t)}},d.createElement(f,{value:2},"2"),d.createElement(f,{value:3},"3"),d.createElement(f,{value:4},"4"),d.createElement(f,{value:5},"5"),d.createElement(f,{value:6},"6"))),d.createElement(o.Z,{title:"操作"},d.createElement(i.Z,{direction:"horizontal",wrap:!0},d.createElement(c.ZP,{type:"primary",onClick:()=>{e.current.clear()}},"清空"),d.createElement(c.ZP,{type:"primary",onClick:()=>{const t=e.current.toDataURL("#fff","image/png",1),n=document.createElement("a");n.href=t,n.download="img";const r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}},"保存图片"))))),d.createElement(l.default.Auto,{fit:!0,style:{border:"1px solid #ccc"}},d.createElement(r.Z,{ref:e,defaultMode:t,defaultLineWidth:h,defaultStrokeStyle:p})))}},296032:function(e,t,n){n.d(t,{$0:function(){return a},ae:function(){return s},e0:function(){return c},sB:function(){return d}});var r=n(570517),l=n(153757),u=n(690171);const{PlayGroundPageContext:i,PlayGroundPage:o}=l.default,{Section:a,CodeBoxSection:c,PropsSection:d,FunctionPropsSection:s}=o;t.ZP=function(e){let{children:t,...n}=e;const[l,a]=(0,u.useState)(),c=(0,u.useRef)();return(0,u.useEffect)((()=>{a(c.current.parentElement.parentElement)}),[]),u.createElement(i.Provider,{value:{scrollEl:l}},u.createElement(o,(0,r.Z)({ref:c},n),t))}},270951:function(e,t,n){var r=n(241887);t.default=r.Z},915413:function(e,t,n){var r=n(588404);t.Z=r.Z}}]);