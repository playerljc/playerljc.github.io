"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[1309],{14777:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var r=t(26322),o=t(19994),a=t(32517),c=t(31934),l=t.n(c),i=t(88724),d="adhere-ui-surnames",u=(0,r.memo)((0,r.forwardRef)((function(e,n){var t=void 0===(o=e.position)?"right":o,o=void 0===(o=e.className)?"":o,a=void 0===(a=e.style)?{}:a,c=void 0===(h=e.indexes)?[]:h,u=void 0===(h=e.dataSource)?[]:h,s=e.onScroll,m=e.onBeforeScroll,f=(0,r.useRef)(null),p=(0,r.useRef)(null),x=(0,r.useRef)(null),h=(0,r.useRef)(null),v=(0,r.useRef)(null),C=(0,r.useRef)(null),y=(0,r.useRef)(!1),g=(0,r.useRef)(!1),S=(0,r.useRef)(!1),A=(0,r.useRef)(0),E=(0,r.useRef)(0),b=(0,r.useRef)(""),T=(0,r.useRef)([]);function k(){return"left"===t||"right"===t?"vertical":"horizontal"}function w(){"vertical"===k()?(f.current.style.height="".concat(v.current.offsetHeight+50,"px"),f.current.style.width="100%"):f.current.style.height="100%"}e=(0,r.useCallback)((function(){return u.map((function(e){var n=c.find((function(n){return n.index===e.index}));return r.createElement("div",{key:e.index,className:"".concat(d,"-group")},r.createElement("a",{className:"".concat(d,"-group-title"),"data-name":e.index},null!=n&&n.renderTitle?n.renderTitle(e):null==n?void 0:n.index),r.createElement("div",{className:"".concat(d,"-group-inner")},null!=n&&n.renderContent?null==n?void 0:n.renderContent(e):null))}))}),[u,c]);var R=(0,r.useCallback)((function(){return c.map((function(e){return r.createElement("a",{key:e.index,className:"".concat(d,"-index-item"),"data-name":e.index},e.renderIndex?e.renderIndex(e):e.index)}))}),[c]);function L(){var e,n,t=null==(n=null==(e=v.current)?void 0:e.querySelectorAll)?void 0:n.call(e,".".concat(d,"-index-item"));T.current=[];for(var r=0;r<t.length;r++){var o=t[r],a=o.dataset.name,c=o.getBoundingClientRect();T.current.push({name:a,top:c.top,bottom:c.bottom,left:c.left,right:c.right,offsetTop:o.offsetTop,offsetLeft:o.offsetLeft,width:o.offsetWidth,height:o.offsetHeight})}}function P(e){var n=e.target;e.preventDefault(),y.current||(y.current=!0,C.current.style.display="block",I(n.dataset.name))}function N(e,n){e=function(e,n){for(var t,r=k(),o="vertical"===r?n-A.current:e-E.current,a=T.current.find((function(e){return e.name===b.current})),c=0,l=T.current.length-1;c<=l&&c<=T.current.length-1&&l<=T.current.length-1;){var i,d=T.current[i=l+c>>1],u=void 0,s=void 0,m="vertical"===r?(u=a.top+o,a.bottom,s=d.top,d.bottom):(u=a.left+o,a.right,s=d.left,d.right);if(s<=u&&u<=m){t=d;break}u<s?l=i-1:c=1+i}return t||null}(e,n),e&&(p.current.innerText=e.name,p.current.style.display="block","vertical"===k()?(n=e.offsetTop+Math.floor(e.height/2),p.current.style.transform="translate3d(0,".concat(n,"px,0)")):(n=e.offsetLeft+e.width,p.current.style.transform="translate3d(".concat(n,"px,0,0)")),D(e.name))}function I(e,n){void 0===n&&(n=100);var t=null==(t=null==(c=x.current)?void 0:c.querySelector)?void 0:t.call(c,".".concat(d,"-group-title[data-name='").concat(e,"']")),r=null==(c=x.current)?void 0:c.scrollTop,o=r,a=t.offsetTop,c=screen.updateInterval,l=f.current.scrollHeight/((100|n)/(c||16.7)+((100|n)%(c||16.7)!=0?1:0));m&&m(e),"undefined"!=typeof window&&window.requestAnimationFrame((function n(){function t(){y.current=!1,g.current=!1,C.current.style.display="none",s&&s(e)}r<a?a<o+l?o=a:o+=l:o-l<a?o=a:o-=l,x.current.scrollTop=o,r<a?a<=o?t():"undefined"!=typeof window&&window.requestAnimationFrame(n):o<=a?t():"undefined"!=typeof window&&window.requestAnimationFrame(n)}))}function D(e){var n,t;x.current.scrollTop=(null==(t=null==(n=x.current)?void 0:n.querySelector)?void 0:t.call(n,".".concat(d,"-group-title[data-name='").concat(e,"']"))).offsetTop,s&&s(e)}function V(e){e.preventDefault(),e.stopPropagation(),P(e)}function G(e){e.preventDefault();var n=e.changedTouches[0].pageY,t=e.changedTouches[0].pageX;e=e.target,e=i.A.getTopDom(e,"".concat(d,"-index-item"));b.current=e.dataset.name,N(t,n)}function Z(){p.current.style.display="none",p.current.innerText="",p.current.style.transform="translate3d(0,0,0)"}function q(e){e.preventDefault(),A.current=e.pageY,E.current=e.pageX,e=e.target,e=i.A.getTopDom(e,"".concat(d,"-index-item")),b.current=null==e?void 0:e.dataset.name,g.current=!0}function B(e){if(!g.current)return!1;S.current=!0,e.preventDefault();var n=e.pageY;N(e.pageX,n)}function F(){g.current=!1,S.current=!1,p.current.style.display="none",p.current.innerText="",p.current.style.transform="translate3d(0,0,0)"}function z(e){if(S.current)return g.current=!1,S.current=!1,p.current.style.display="none",p.current.innerText="",!(p.current.style.transform="translate3d(0,0,0)");e.preventDefault(),P(e)}function W(){w(),L()}return(0,r.useImperativeHandle)(n,(function(){return{scrollToAnimation:I,scrollTo:D}})),(0,r.useLayoutEffect)((function(){var e;return(e=document.createElement("div")).innerHTML="<div class='".concat(d,"-mask'></div>"),C.current=e.firstElementChild,document.body.appendChild(C.current),w(),L(),function(){var e,n;null!=(n=null==(e=null==(e=C.current)?void 0:e.parentElement)?void 0:e.removeChild)&&n.call(e,C.current)}}),[]),(0,r.useLayoutEffect)((function(){var e,n;return i.A.isTouch()?(null!=(n=null==(e=v.current)?void 0:e.addEventListener)&&n.call(e,"click",V),null!=(e=null==(n=v.current)?void 0:n.addEventListener)&&e.call(n,"touchmove",G),null!=(n=null==(e=v.current)?void 0:e.addEventListener)&&n.call(e,"touchend",Z)):(null!=(e=null==(n=v.current)?void 0:n.addEventListener)&&e.call(n,"mousedown",q),null!=(n=null==(e=v.current)?void 0:e.addEventListener)&&n.call(e,"mousemove",B),null!=(e=null==(n=v.current)?void 0:n.addEventListener)&&e.call(n,"mouseleave",F),null!=(n=null==(e=v.current)?void 0:e.addEventListener)&&n.call(e,"mouseup",z),"undefined"!=typeof window&&window.addEventListener("resize",W)),w(),L(),function(){var e,n;null!=(n=null==(e=v.current)?void 0:e.removeEventListener)&&n.call(e,"click",V),null!=(e=null==(n=v.current)?void 0:n.removeEventListener)&&e.call(n,"touchmove",G),null!=(n=null==(e=v.current)?void 0:e.removeEventListener)&&n.call(e,"touchend",Z),null!=(e=null==(n=v.current)?void 0:n.removeEventListener)&&e.call(n,"mousedown",q),null!=(n=null==(e=v.current)?void 0:e.removeEventListener)&&n.call(e,"mousemove",B),null!=(e=null==(n=v.current)?void 0:n.removeEventListener)&&e.call(n,"mouseleave",F),null!=(n=null==(e=v.current)?void 0:e.removeEventListener)&&n.call(e,"mouseup",z),"undefined"!=typeof window&&window.removeEventListener("resize",W)}})),r.createElement("div",{className:l()(d,"".concat(d,"-config-position-").concat(t),null!=o?o:""),style:null!=a?a:{},ref:f},r.createElement("div",{className:"".concat(d,"-highlighted"),ref:p}),r.createElement("div",{className:"".concat(d,"-content"),ref:x},e()),r.createElement("div",{className:"".concat(d,"-index"),ref:h},r.createElement("div",{className:"".concat(d,"-index-inner"),ref:v},R())))})));u.displayName="Surnames";const s=u,m="tcRxr7RaVAwM4DCAktAp",f="C3AGVgf0qAKQWDgRuM7w";function p(){const e="A".charCodeAt(),n="Z".charCodeAt(),t=[],o=[];o.length=10,o.fill(1);for(let a=e;a<=n;a++)t.push({index:String.fromCharCode(a),renderIndex:e=>e.index,renderTitle:e=>e.index,renderContent:e=>r.createElement("ul",{key:e.index},o.map(((n,t)=>r.createElement("li",{key:t+1},"".concat(e.index).concat(t+1)))))});return t}function x(){const e="A".charCodeAt(),n="Z".charCodeAt(),t=[];for(let r=e;r<=n;r++)t.push({index:String.fromCharCode(r),data:[]});return t}const h=()=>r.createElement("div",{style:{display:"flex"}},r.createElement(a.A.Group,{direction:"horizontal"},r.createElement("div",{className:m},r.createElement(s,{style:{border:"1px solid #ccc"},indexes:p(),dataSource:x()})),r.createElement("div",{className:m},r.createElement(s,{position:"left",style:{border:"1px solid #ccc"},indexes:p(),dataSource:x()}))));function v(){const e="A".charCodeAt(),n="Z".charCodeAt(),t=[],o=[];o.length=10,o.fill(1);for(let a=e;a<=n;a++)t.push({index:String.fromCharCode(a),renderIndex:e=>e.index,renderTitle:e=>e.index,renderContent:e=>r.createElement("ul",{key:e.index},o.map(((n,t)=>r.createElement("li",{key:t+1},"".concat(e.index).concat(t+1)))))});return t}function C(){const e="A".charCodeAt(),n="Z".charCodeAt(),t=[];for(let r=e;r<=n;r++)t.push({index:String.fromCharCode(r),data:[]});return t}const y=()=>r.createElement("div",{style:{display:"flex"}},r.createElement(a.A.Group,{direction:"horizontal"},r.createElement("div",{className:f},r.createElement(s,{position:"top",style:{border:"1px solid #ccc"},indexes:v(),dataSource:C()})),r.createElement("div",{className:f},r.createElement(s,{position:"bottom",style:{border:"1px solid #ccc"},indexes:v(),dataSource:C()}))));var g=t(80711);function S(){const e="A".charCodeAt(),n="Z".charCodeAt(),t=[],o=[];o.length=10,o.fill(1);for(let a=e;a<=n;a++)t.push({index:String.fromCharCode(a),renderIndex:e=>e.index,renderTitle:e=>e.index,renderContent:e=>r.createElement("ul",{key:e.index},o.map(((n,t)=>r.createElement("li",{key:t+1},"".concat(e.index).concat(t+1)))))});return t}function A(){const e="A".charCodeAt(),n="Z".charCodeAt(),t=[];for(let r=e;r<=n;r++)t.push({index:String.fromCharCode(r),data:[]});return t}const E=()=>{const e=(0,r.useRef)();return r.createElement(r.Fragment,null,r.createElement(a.A.Group,{direction:"horizontal"},r.createElement(g.Ay,{type:"primary",onClick:()=>{e.current.scrollToAnimation("Z")}},"滚动到底部"),r.createElement(g.Ay,{onClick:()=>{e.current.scrollToAnimation("A")}},"滚动到顶部")),r.createElement(a.A,{direction:"vertical"}),r.createElement("div",{className:m},r.createElement(s,{ref:e,style:{border:"1px solid #ccc"},indexes:S(),dataSource:A()})))},b=()=>r.createElement(o.Ay,{className:"Surnames"},r.createElement(o.wn,{title:"Surnames"},r.createElement("p",null,"姓名面板")),r.createElement(o.Wc,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"基本使用",mode:"code",scope:{React:r},cardProps:{description:{title:"基本使用",info:"基本使用"}},type:"PlayGround",codeText:"import React from 'react';\n\nimport { Space, Surnames } from '@baifendian/adhere';\n\nimport styles from './examples.less';\n\nfunction getIndexesProps() {\n  const startCharCode = 'A'.charCodeAt();\n  const endCharCode = 'Z'.charCodeAt();\n\n  const indexes = [];\n\n  const count = [];\n  count.length = 10;\n  count.fill(1);\n\n  for (let i = startCharCode; i <= endCharCode; i++) {\n    indexes.push({\n      index: String.fromCharCode(i),\n      renderIndex: (index) => index.index,\n      renderTitle: (record) => record.index,\n      renderContent: (record) => (\n        <ul key={record.index}>\n          {count.map((t, index) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <li key={index + 1}>{`${record.index}${index + 1}`}</li>\n          ))}\n        </ul>\n      ),\n    });\n  }\n\n  return indexes;\n}\n\nfunction getDataSource() {\n  const startCharCode = 'A'.charCodeAt();\n  const endCharCode = 'Z'.charCodeAt();\n\n  const dataSource = [];\n\n  for (let i = startCharCode; i <= endCharCode; i++) {\n    dataSource.push({\n      index: String.fromCharCode(i),\n      data: [],\n    });\n  }\n\n  return dataSource;\n}\n\nexport default () => (\n  <div style={{ display: 'flex' }}>\n    <Space.Group direction=\"horizontal\">\n      <div className={styles.Wrapper}>\n        <Surnames\n          style={{ border: '1px solid #ccc' }}\n          indexes={getIndexesProps()}\n          dataSource={getDataSource()}\n        />\n      </div>\n\n      <div className={styles.Wrapper}>\n        <Surnames\n          position=\"left\"\n          style={{ border: '1px solid #ccc' }}\n          indexes={getIndexesProps()}\n          dataSource={getDataSource()}\n        />\n      </div>\n    </Space.Group>\n  </div>\n);\n",renderChildren:()=>r.createElement(h,null)},{id:"p2",name:"上下结构",mode:"code",scope:{React:r},cardProps:{description:{title:"上下结构",info:"上下结构"}},type:"PlayGround",codeText:"import React from 'react';\n\nimport { Space, Surnames } from '@baifendian/adhere';\n\nimport styles from './examples.less';\n\nfunction getIndexesProps() {\n  const startCharCode = 'A'.charCodeAt();\n  const endCharCode = 'Z'.charCodeAt();\n\n  const indexes = [];\n\n  const count = [];\n  count.length = 10;\n  count.fill(1);\n\n  for (let i = startCharCode; i <= endCharCode; i++) {\n    indexes.push({\n      index: String.fromCharCode(i),\n      renderIndex: (index) => index.index,\n      renderTitle: (record) => record.index,\n      renderContent: (record) => (\n        <ul key={record.index}>\n          {count.map((t, index) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <li key={index + 1}>{`${record.index}${index + 1}`}</li>\n          ))}\n        </ul>\n      ),\n    });\n  }\n\n  return indexes;\n}\n\nfunction getDataSource() {\n  const startCharCode = 'A'.charCodeAt();\n  const endCharCode = 'Z'.charCodeAt();\n\n  const dataSource = [];\n\n  for (let i = startCharCode; i <= endCharCode; i++) {\n    dataSource.push({\n      index: String.fromCharCode(i),\n      data: [],\n    });\n  }\n\n  return dataSource;\n}\n\nexport default () => (\n  <div style={{ display: 'flex' }}>\n    <Space.Group direction=\"horizontal\">\n      <div className={styles.Wrapper1}>\n        <Surnames\n          position=\"top\"\n          style={{ border: '1px solid #ccc' }}\n          indexes={getIndexesProps()}\n          dataSource={getDataSource()}\n        />\n      </div>\n\n      <div className={styles.Wrapper1}>\n        <Surnames\n          position=\"bottom\"\n          style={{ border: '1px solid #ccc' }}\n          indexes={getIndexesProps()}\n          dataSource={getDataSource()}\n        />\n      </div>\n    </Space.Group>\n  </div>\n);\n",renderChildren:()=>r.createElement(y,null)},{id:"p3",name:"使用api",mode:"code",scope:{React:r},cardProps:{description:{title:"使用api",info:"使用api"}},type:"PlayGround",codeText:"import { Button } from 'antd';\nimport React, { useRef } from 'react';\n\nimport { Space, Surnames } from '@baifendian/adhere';\n\nimport styles from './examples.less';\n\nfunction getIndexesProps() {\n  const startCharCode = 'A'.charCodeAt();\n  const endCharCode = 'Z'.charCodeAt();\n\n  const indexes = [];\n\n  const count = [];\n  count.length = 10;\n  count.fill(1);\n\n  for (let i = startCharCode; i <= endCharCode; i++) {\n    indexes.push({\n      index: String.fromCharCode(i),\n      renderIndex: (index) => index.index,\n      renderTitle: (record) => record.index,\n      renderContent: (record) => (\n        <ul key={record.index}>\n          {count.map((t, index) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <li key={index + 1}>{`${record.index}${index + 1}`}</li>\n          ))}\n        </ul>\n      ),\n    });\n  }\n\n  return indexes;\n}\n\nfunction getDataSource() {\n  const startCharCode = 'A'.charCodeAt();\n  const endCharCode = 'Z'.charCodeAt();\n\n  const dataSource = [];\n\n  for (let i = startCharCode; i <= endCharCode; i++) {\n    dataSource.push({\n      index: String.fromCharCode(i),\n      data: [],\n    });\n  }\n\n  return dataSource;\n}\n\nexport default () => {\n  const ref = useRef();\n\n  return (\n    <>\n      <Space.Group direction=\"horizontal\">\n        <Button\n          type=\"primary\"\n          onClick={() => {\n            ref.current.scrollToAnimation('Z');\n          }}\n        >\n          滚动到底部\n        </Button>\n        <Button\n          onClick={() => {\n            ref.current.scrollToAnimation('A');\n          }}\n        >\n          滚动到顶部\n        </Button>\n      </Space.Group>\n\n      <Space direction=\"vertical\" />\n\n      <div className={styles.Wrapper}>\n        <Surnames\n          ref={ref}\n          style={{ border: '1px solid #ccc' }}\n          indexes={getIndexesProps()}\n          dataSource={getDataSource()}\n        />\n      </div>\n    </>\n  );\n};\n",renderChildren:()=>r.createElement(E,null)}]}),r.createElement(o.e6,{title:"Props",config:[{border:!0,title:"Surnames",data:[{params:"className",desc:"附加的样式表",type:"string",defaultVal:""},{params:"style",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"position",desc:"显示的位置 'top', 'right', 'bottom', 'left'",type:"string",defaultVal:"right"},{params:"indexes",desc:"索引的信息",type:"Array",defaultVal:"[]"},{params:"dataSource",desc:"数据",type:"Array",defaultVal:"[]"},{params:"onBeforeScroll",desc:"滚动之前的钩子",type:"Function",defaultVal:""},{params:"onScroll",desc:"滚动",type:"Function",defaultVal:""}]},{border:!0,title:"indexes",data:[{params:"index",desc:"索引值",type:"string",defaultVal:""},{params:"renderIndex",desc:"渲染索引的方法",type:"Function",defaultVal:""},{params:"renderTitle",desc:"渲染title的方法",type:"Function",defaultVal:""},{params:"renderContent",desc:"渲染Content的方法",type:"Function",defaultVal:""}]},{border:!0,title:"dataSource",data:[{params:"index",desc:"索引值",type:"string",defaultVal:""},{params:"data",desc:"数据",type:"Array<Object>",defaultVal:""}]}]}),r.createElement(o.I7,{title:"Api",config:[{border:!0,title:"方法",data:[{name:"scrollToAnimation",desc:"动画的滚动到指定所引处",modifier:"public",params:[{name:"name",desc:"索引名称",type:"string",defaultVal:"",required:"true"},{name:"duration",desc:"动画的完成时间",type:"number",defaultVal:"100",required:"false"}],returnType:"",returnDesc:""},{name:"scrollTo",desc:"滚动到指定所引处",modifier:"public",params:[{name:"name",desc:"索引名称",type:"string",defaultVal:"",required:"true"}],returnType:"",returnDesc:""}]}]}))},19994:(e,n,t)=>{t.d(n,{Ay:()=>m,I7:()=>s,Wc:()=>d,e6:()=>u,wn:()=>i});var r=t(71860),o=t(24370),a=t(26322);const{PlayGroundPageContext:c,PlayGroundPage:l}=o.A,{Section:i,CodeBoxSection:d,PropsSection:u,FunctionPropsSection:s}=l;const m=function(e){let{children:n,onScrollBottom:t,distance:o=50,...i}=e;const[d,u]=(0,a.useState)(),s=(0,a.useRef)(),m=(0,a.useRef)(!1);return(0,a.useEffect)((()=>{function e(){const e=n.scrollHeight-n.offsetHeight,r=n.scrollTop;if(t&&Math.abs(r-e)<=o){if(m.current)return;m.current=!0,null==t||t().then((()=>{m.current=!1}))}}const n=s.current.parentElement.parentElement;return n.addEventListener("scroll",e),u(n),()=>{n.removeEventListener("scroll",e)}}),[]),a.createElement(c.Provider,{value:{scrollEl:d}},a.createElement(l,(0,r.A)({ref:s},i),n))}},32517:(e,n,t)=>{t.d(n,{A:()=>r});const r=t(2382).A}}]);