"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[2394],{81051:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(31934),a=t.n(r),l=t(26322),o=t(85820),i=function(){return(i=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},c="adhere-ui-back-top-animation",u=(0,l.memo)((function(e){var n,t=e.className,r=e.style,u=void 0===(n=e.zIndex)?o.A.Dict.value.ResourceNormalMaxZIndex.value:n,s=e.getContainer,d=e.onScrollTop,m=void 0===(n=e.duration)?300:n,p=(0,l.useRef)(null),f=(0,l.useRef)(null),y=(0,l.useRef)(!1);function v(){return"updateInterval"in screen?screen.updateInterval:16.7}return(0,l.useLayoutEffect)((function(){f.current=document.body.querySelector(".".concat(c,"-mask")),f.current||(f.current=document.createElement("div"),f.current.className="".concat(c,"-mask"),f.current.style.zIndex="".concat(u),document.body.appendChild(f.current))}),[]),(0,l.useLayoutEffect)((function(){var e=s();function n(){0!==e.scrollTop?p.current.style.display="block":p.current.style.display="none"}return e.addEventListener("scroll",n),function(){return e.removeEventListener("scroll",n)}})),l.createElement("div",{ref:p,className:a()(c,null!=t?t:""),style:i({zIndex:u},null!=r?r:{}),onClick:function(){y.current||e.onTrigger&&e.onTrigger().then((function(){y.current=!0,f.current.style.display="block";var e=s(),n=e.scrollTop,t=n,r=e.scrollHeight/(m/v()+(m%v()!=0?1:0));"undefined"!=typeof window&&window.requestAnimationFrame((function a(){function l(){f.current.style.display="none",y.current=!1}n<0?0<t+r?t=0:t+=r:t-r<0?t=0:t-=r,e.scrollTop=t,d&&d(t),n<0?0<=t?l():"undefined"!=typeof window&&window.requestAnimationFrame(a):t<=0?l():"undefined"!=typeof window&&window.requestAnimationFrame(a)}))}))}})}));u.displayName="BackTopAnimation";const s=u},54763:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(75745),a=t(85820),l="adhere-ui-global-indicator",o=a.A.Dict.value.ResourceNormalMaxZIndex.value,i=new Set;const c={show:function(e,n,t,a){void 0===e&&(e=document.body),void 0===n&&(n=""),void 0===t&&(t=o),void 0===a&&(a="default");var c=(n=((c=document.createElement("div")).innerHTML='\n      <div class="'.concat(l,'" style="z-index: ').concat(t||o,'">\n       <span class="').concat(l,'-dot"></span>\n       ').concat(n&&'<div class="'.concat(l,'-text">').concat(n,"</div>"),"\n      </div>"),c.firstElementChild)).querySelector(".".concat(l,"-dot")),u=(a=new Map([["small",.1],["default",.2],["large",.3]]).get(a),document.documentElement.style.getPropertyValue("--adhere-color-primary"));return new r.y({lines:4,length:0,width:52,radius:29,scale:a,corners:1,speed:2.1,rotate:19,animation:"spinner-line-fade-quick",direction:1,color:u,fadeColor:"transparent",top:"46%",left:"50%",shadow:"0 0 1px transparent",zIndex:t,className:"".concat(l,"-spinner"),position:"absolute"}).spin(c),e===document.body&&(n.style.position="fixed"),e.appendChild(n),i.add(n),n},hide:function(e){var n,t;if(e)try{null!=(t=null==(n=null==e?void 0:e.parentElement)?void 0:n.removeChild)&&t.call(n,e),i.delete(e)}catch(e){}},hideAll:function(){Array.from(i.values()).forEach((function(e){var n,t;try{null!=(t=null==(n=null==e?void 0:e.parentElement)?void 0:n.removeChild)&&t.call(n,e)}catch(e){}})),i.clear()}}},70658:(e,n,t)=>{t.d(n,{A:()=>v});var r=t(59223),a=t(31934),l=t.n(a),o=t(26322),i=t(59418),c=function(){return(c=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},u=function(e,n){var t={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},s="adhere-ui-scroll-load",d="empty",m="hide_empty",p="error",f="normal",y=(0,o.memo)((0,o.forwardRef)((function(e,n){var t=void 0===(t=e.className)?"":t,a=void 0===(a=e.style)?{}:a,y=void 0===(w=e.loadClassName)?"":w,v=void 0===(w=e.loadStyle)?{}:w,h=void 0===(w=e.emptyClassName)?"":w,g=void 0===(w=e.emptyStyle)?{}:w,E=void 0===(w=e.errorClassName)?"":w,C=void 0===(w=e.errorStyle)?{}:w,k=e.getScrollContainer,A=void 0===(w=e.distance)?50:w,R=e.renderLoading,b=e.renderEmpty,P=e.renderError,N=e.onScrollBottom,T=e.onEmptyClick,x=e.onErrorClick,L=void 0!==(w=e.disabled)&&w,w=e.children,D=(e=u(e,["className","style","loadClassName","loadStyle","emptyClassName","emptyStyle","errorClassName","errorStyle","getScrollContainer","distance","renderLoading","renderEmpty","renderError","onScrollBottom","onEmptyClick","onErrorClick","disabled","children"]),(0,o.useRef)(f)),M=(0,o.useRef)(!1),S=(0,o.useRef)(null),F=(0,o.useRef)(null),O=(0,o.useRef)(null),j=(0,o.useRef)(null);function V(){return k?k():S.current}function I(){var e=(n=V()).scrollHeight-n.offsetHeight,n=n.scrollTop;N&&Math.abs(n-e)<=A&&([d,m].includes(D.current)||M.current||(M.current=!0,F.current.style.display="flex",N((function(e){D.current=e,F.current.style.display="none",D.current===d?O.current.style.display="block":D.current===p?j.current.style.display="block":D.current===m&&(O.current.style.display="none"),M.current=!1}))))}function K(){T&&T()}function z(){x&&x()}function q(){D.current=f,F.current.style.display="none",j.current.style.display="none",O.current.style.display="none"}var H=(0,o.useCallback)((function(){return R?o.createElement("div",{className:l()("".concat(s,"-load"),y),style:null!=v?v:{},ref:F},R()):o.createElement("div",{className:l()("".concat(s,"-load"),"standard",y),style:null!=v?v:{},ref:F},i.Ay.v("数据加载中"))}),[R,y,v]),W=(0,o.useCallback)((function(){return b?o.createElement("div",{className:l()("".concat(s,"-empty"),h),style:null!=g?g:{},ref:O},b()):o.createElement("div",{className:l()("".concat(s,"-empty"),h),style:null!=g?g:{},ref:O},"~",i.Ay.v("没有更多"))}),[b,h,g]),Z=(0,o.useCallback)((function(){return P?o.createElement("div",{className:l()("".concat(s,"-error"),E),style:null!=C?C:{},ref:j},P()):o.createElement("div",{className:l()("".concat(s,"-error"),E),style:null!=C?C:{},ref:j},i.Ay.v("出现错误"))}),[P,E,C]);return(0,o.useImperativeHandle)(n,(function(){return{hideAll:q,getScrollContainer:V}})),(0,o.useLayoutEffect)((function(){var e;return L||null!=(e=V())&&e.addEventListener("scroll",I),null!=(e=O.current)&&e.addEventListener("click",K),null!=(e=j.current)&&e.addEventListener("click",z),function(){var e;L||null!=(e=V())&&e.removeEventListener("scroll",I),null!=(e=O.current)&&e.removeEventListener("click",K),null!=(e=j.current)&&e.removeEventListener("click",z)}})),(0,r.A)((function(){var e;return L?null!=(e=V())&&e.removeEventListener("scroll",I):(null!=(e=V())&&e.removeEventListener("scroll",I),null!=(e=V())&&e.addEventListener("scroll",I)),function(){var e;null!=(e=V())&&e.removeEventListener("scroll",I)}}),[L]),o.createElement("div",c({},e,{className:l()(s,t),style:c(c({},null!=a?a:{}),{overflowY:V()===S.current?"auto":"initial"}),ref:S}),w,H(),W(),Z())})));y.displayName="ScrollLoad",y.EMPTY=d,y.ERROR=p,y.NORMAL=f,y.HIDE_EMPTY=m;const v=y},68669:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Fe});var r=t(26322),a=t(19994),l=t(70821),o=t(70929),i=t(53109),c=t(77262),u=t(95263),s=t(59418),d=t(31934),m=t.n(d),p=t(40892),f=t(24902),y=t(88724),v=t(80711),h=t(59673),g=t(48305),E=t(45240),C=t(30900),k=t(74052),A=t(22192),R=t(12908),b=t(75611),P=t(31238),N=t(39255),T=t(24210),x=t(68762),L=t(75365),w=t(67631),D=t(42583),M=t(93918),S=t(54563),F=t(86397),O=t(85057),j=function(){return(j=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};function V(e){return r.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"1em",height:"1em",viewBox:"0 0 20 20"},e),r.createElement("path",{fill:"#888888",d:"M6.494 8.075c.045-.295.339-.575.754-.575s.709.28.754.575a.5.5 0 1 0 .988-.15C8.863 7.09 8.104 6.5 7.248 6.5s-1.615.59-1.742 1.425a.5.5 0 1 0 .988.15Zm6.254-.575c-.415 0-.708.28-.754.575a.5.5 0 0 1-.988-.15c.127-.835.886-1.425 1.742-1.425s1.615.59 1.742 1.425a.5.5 0 0 1-.988.15c-.046-.295-.339-.575-.754-.575ZM5.495 10a.5.5 0 0 0-.497.549C5.236 12.992 7.154 15 9.995 15c2.841 0 4.76-2.008 4.998-4.451a.5.5 0 0 0-.498-.549h-9Zm4.5 4c-2.081 0-3.516-1.303-3.912-3h7.825c-.397 1.697-1.831 3-3.913 3ZM10 2a8 8 0 1 0 0 16a8 8 0 0 0 0-16Zm-7 8a7 7 0 1 1 14 0a7 7 0 0 1-14 0Z"}))}var I=function(){return(I=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},K=g.A.TextArea,z=E.A.useSetState,q="adhere-ui-comment-reply",H=new Map([["ar",k],["de",A],["en",R],["es",b],["fa",P],["fr",N],["it",T],["ja",x],["nl",L],["pl",w],["pt",D],["ru",M],["uk",S],["zh",F]]),W=(0,r.memo)((function(e){var n=void 0===(d=e.local)?"zh":d,t=void 0===(d=e.emojiPickerProps)?{}:d,a=e.onResult,l=e.onCancel,o=(d=z(""))[0],i=d[1],c=(0,r.useRef)(null),u=(0,r.useRef)(null),d=(e=(0,r.useState)(!1))[0],m=e[1],p=(0,r.useCallback)((function(e){var n=e.native,t=null==(e=null==c?void 0:c.current)?void 0:e.querySelector("textarea"),r=t.selectionStart;i("".concat(o.substring(0,r)).concat(n).concat(o.substring(r)),(function(){t.focus(),t.setSelectionRange(r+n.length,r+n.length)}))}),[o]);e=(0,r.useMemo)((function(){return r.createElement(O.A,I({data:C,i18n:H.get(n||"zh"),onEmojiSelect:p},null!=t?t:{}))}),[C,n,p,t]);return(0,r.useLayoutEffect)((function(){var e,n;function t(e){e=e.target,[(null==c?void 0:c.current).querySelector("textarea")].includes(e)||m(!1)}function r(e){e.stopPropagation()}return document.body.addEventListener("click",t),null!=(n=null==(e=null==u?void 0:u.current)?void 0:e.addEventListener)&&n.call(e,"click",r),function(){var e,n;document.body.removeEventListener("click",t),null!=(n=null==(e=null==u?void 0:u.current)?void 0:e.removeEventListener)&&n.call(e,"click",r)}})),r.createElement("div",{className:"".concat(q)},r.createElement("div",{className:"".concat(q,"-textarea-wrap"),ref:c},r.createElement(K,{className:"".concat(q,"-textarea"),placeholder:s.Ay.v("请输入回复内容"),autoFocus:!0,value:o,onChange:function(e){return i(e.target.value)},showCount:!0,maxLength:100})),r.createElement("div",{ref:u,className:"".concat(q,"-toolbar-emoji-wrap")}),r.createElement("div",{className:"".concat(q,"-toolbar")},r.createElement(h.A,{placement:"bottomLeft",getPopupContainer:function(){return u.current},content:e,open:d},r.createElement("div",{onClick:function(e){e.stopPropagation(),m((function(e){return!e}))}},r.createElement(V,{className:"".concat(q,"-toolbar-item-emoji")}))),r.createElement("div",{className:"".concat(q,"-toolbar-inner")},r.createElement(v.Ay,{type:"primary",className:"".concat(q,"-toolbar-item"),disabled:!o,onClick:function(){return null==a?void 0:a(o.trim())}},s.Ay.v("添加")),r.createElement(v.Ay,{className:"".concat(q,"-toolbar-item"),onClick:function(){return null==l?void 0:l()}},s.Ay.v("取消")))))}));W.displayName="Reply";const Z=W;var B=function(){return(B=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},G=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,l=n.length;a<l;a++)!r&&a in n||((r=r||Array.prototype.slice.call(n,0,a))[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},_="adhere-ui-comment-node",Y={current:"current",totalPage:"totalPage",list:"list",totalCount:"totalCount"},Q=(0,r.memo)((function(e){var n,t=void 0!==(t=e.isReply)&&t,a=void 0===(K=e.dataKeys)?Y:K,l=void 0===(K=e.limit)?10:K,o=e.keyProp,i=e.children,c=e.isMoreProp,u=e.renderAuthor,d=e.renderAvatar,v=e.renderContent,h=e.renderDateTime,g=e.renderLoading,E=e.showReplyText,C=e.hideReplyText,k=e.loadMoreReplyText,A=e.showReplyTextIcon,R=e.loadMoreCollapseTextIcon,b=e.hideReplyTextIcon,P=e.fetchReply,N=e.emojiPickerProps,T=void 0===(K=e.local)?"zh":K,x=(K=(0,r.useState)(((K={})[a.current]=1,K[a.list]=[],K[a.totalCount]=0,K[a.totalPage]=0,K)))[0],L=K[1],w=(K=(0,r.useState)(null==e?void 0:e.data))[0],D=K[1],M=(K=(0,r.useState)(!1))[0],S=K[1],F=(K=(0,r.useState)(!1))[0],O=K[1],j=(K=(0,r.useState)(!1))[0],V=K[1],I=(0,r.useRef)({page:1,limit:l}),K=(0,r.useCallback)((function(){var n=G([],((null==(n=null==e?void 0:e.renderActions)?void 0:n.call(e,B({},w),(function(e){return D(e)})))||[]).map((function(e,n){var t;return p.A.conditionalRender({conditional:!(null!=(t=null==(t=null==e?void 0:e.props)?void 0:t.className)&&t.endsWith("-actions-action")),noMatch:e,match:r.createElement("li",{key:n,className:"".concat(_,"-actions-action")},e)})})),!0);return n.find((function(e){return"reply"===(null==(e=null==(e=null==e?void 0:e.props)?void 0:e.children)?void 0:e.key)}))||n.push(r.createElement("li",{key:"reply",className:m()("".concat(_,"-actions-action"),"".concat(_,"-actions-action-reply-btn")),onClick:function(){return V(!0)}},s.Ay.v("回复"))),n}),[null==e?void 0:e.renderActions,w,j]),z=(0,r.useCallback)((function(){var n,t;return r.createElement("ul",{className:"".concat(_,"-children")},null==(t=null===(n=x[a.list]||[])?void 0:n.map)?void 0:t.call(n,(function(n){return r.createElement("li",{className:"".concat(_,"-children-item"),key:n[o]},r.createElement(p.A,{conditional:!i,noMatch:function(){return null==i?void 0:i(n)}},(function(){return r.createElement($,{isReply:!0,data:n,dataKeys:a,limit:l,keyProp:o,isMoreProp:c,fetchData:null==e?void 0:e.fetchData,fetchReply:null==e?void 0:e.fetchReply,renderActions:null==e?void 0:e.renderActions,renderAuthor:u,renderAvatar:d,renderContent:v,renderDateTime:h,renderLoading:g,showReplyText:E,hideReplyText:C,loadMoreReplyText:k,showReplyTextIcon:A,hideReplyTextIcon:b,loadMoreCollapseTextIcon:R,local:T,emojiPickerProps:N})})))})),r.createElement(p.A,{conditional:!F&&H()},(function(){return r.createElement("li",{className:m()("".concat(_,"-children-item"),"more")},r.createElement("a",{onClick:U},r.createElement("span",null,r.createElement(p.A,{conditional:y.A.isFunction(R),noMatch:function(){return R}},(function(){return R instanceof Function?R():R}))),r.createElement("span",null,r.createElement(p.A,{conditional:y.A.isFunction(k),noMatch:function(){return k}},(function(){return k instanceof Function?k():k})))))})))}),[x,a.list,o,c,K,u,d,v,h,g,E,C,k,A,b,R,F]),q=(0,r.useCallback)((function(){return r.createElement(p.A,{conditional:!M,noMatch:function(){return r.createElement("a",{className:"".concat(_,"-collapse"),onClick:function(){return S(!1)}},r.createElement("span",null,r.createElement(p.A,{conditional:y.A.isFunction(b),noMatch:function(){return b}},(function(){return b instanceof Function?b():b}))),r.createElement("span",null,r.createElement(p.A,{conditional:y.A.isFunction(C),noMatch:function(){return C}},(function(){return C instanceof Function?C():C}))))}},(function(){return r.createElement("a",{className:"".concat(_,"-collapse"),onClick:function(){var e;x[a.list].length?S(!0):null!=(e=Q())&&e.then((function(){return S(!0)}))}},r.createElement("span",null,r.createElement(p.A,{conditional:y.A.isFunction(A),noMatch:function(){return A}},(function(){return A instanceof Function?A():A}))),r.createElement("span",null,r.createElement(p.A,{conditional:y.A.isFunction(E),noMatch:function(){return E}},(function(){return E instanceof Function?E():E}))))}))}),[M,x,a.list,C,b,E,A]),H=(0,r.useCallback)((function(){return x[a.list].length<=x[a.totalCount]}),[x,a.list,a.totalCount]),W=(0,r.useCallback)((function(){var n;return null==(n=null==(n=null==(n=null==e?void 0:e.fetchData)?void 0:n.call(e,B(B({},I.current),{record:B({},w)})))?void 0:n.then((function(e){return O(!1),e})))?void 0:n.catch((function(e){return O(!1),e}))}),[null==e?void 0:e.fetchData,I.current.page,I.current.limit,w]);function Q(){var e;return O(!0),I.current={page:1,limit:l},null==(e=W())?void 0:e.then((function(e){L(e)}))}function U(){O(!0),I.current.page=I.current.page+1;var e,n=a.list;return null==(e=W())?void 0:e.then((function(e){L((function(t){var r;return B(B({},e),((r={})[a.list]=G(G([],t[n],!0),e[n],!0),r))}))}))}return(0,r.useEffect)((function(){D(e.data)}),[null==e?void 0:e.data]),r.createElement(f.A,{direction:"horizontal",className:m()(_,((n={})["".concat(_,"-reply")]=t,n))},r.createElement(f.A.Fixed,{className:"".concat(_,"-avatar-wrap")},null==d?void 0:d(B({},w))),r.createElement(f.A.Auto,{autoFixed:!0,fit:!0},r.createElement(f.A,{direction:"vertical"},r.createElement(f.A.Fixed,{className:"".concat(_,"-title-row"),fit:!1},r.createElement("div",{className:"".concat(_,"-title-row-author")},null==u?void 0:u(B({},w))),r.createElement("div",{className:"".concat(_,"-title-row-date-time")},null==h?void 0:h(B({},w)))),r.createElement(f.A.Auto,{className:"".concat(_,"-content-wrap")},null==v?void 0:v(B({},w))),r.createElement(f.A.Fixed,null,r.createElement("ul",{className:"".concat(_,"-actions")},K())),r.createElement(p.A,{conditional:j},(function(){return r.createElement(f.A.Fixed,{style:{marginTop:15}},r.createElement(Z,{onCancel:function(){return V(!1)},onResult:function(e){null!=(e=null==P?void 0:P({id:null==w?void 0:w[o],record:B({},w),reply:e}))&&e.then((function(){V(!1),Q()}))},local:T,emojiPickerProps:N}))})),r.createElement(p.A,{conditional:null==w?void 0:w[c]},(function(){return r.createElement(r.Fragment,null,r.createElement(p.A,{conditional:!F},(function(){return q()})),r.createElement(p.A.Show,{conditional:M},z()),r.createElement(p.A,{conditional:F},(function(){return null==g?void 0:g()})))})))))}));Q.displayName="Node";const U=Q;var X=function(){return(X=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},J=(0,r.memo)((function(e){return r.createElement(U,X({},e,{isReply:!0}))}));J.displayName="Node";const $=J;var ee=function(){return(ee=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},ne=(0,r.memo)((function(e){return r.createElement(U,ee({},e,{isReply:!1}),(function(n){var t;return null==(t=null==e?void 0:e.children)?void 0:t.call(e,n)}))}));ne.displayName="CommentInfo";const te=ne;var re=t(2438),ae=t(70658),le=t(42438),oe=t(81051),ie=function(){return(ie=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},ce="adhere-ui-comment-inner-list",ue=(0,r.memo)((function(e){var n=void 0===(n=e.className)?"":n,t=e.style,a=void 0!==(v=e.isLoading)&&v,l=void 0!==(v=e.hasMore)&&v,o=e.onLoadMore,i=e.scrollLoadProps,c=e.renderFirstLoading,u=e.pages,s=e.children,d=(0,r.useRef)(null),f=(0,r.useRef)(!0),y=(0,r.useRef)(!1),v=(0,r.useRef)(null);return r.createElement("div",{className:m()(ce,null!=n?n:""),style:null!=t?t:{},ref:v},function(){var e,n=a;if(f.current&&!y.current&&n&&(y.current=!0),f.current&&y.current&&!n&&(f.current=!1,y.current=!1),f.current){if(c)return c();for(var t=[],m=0;m<7;m++)t.push(r.createElement(le.A,{key:m+1,loading:!0,avatar:!0}));return r.createElement("div",{className:"".concat(ce,"-first-loading-wrap")},t)}return e={onScrollBottom:o},r.createElement(p.A,{conditional:l},(function(){return r.createElement("div",{className:"".concat(ce,"-normal-wrap")},r.createElement(ae.A,ie({ref:d},e,null!=i?i:{},{distance:(null==i?void 0:i.distance)||50,disabled:u<=1}),s),r.createElement(oe.A,{getContainer:function(){var e,n;return null==(n=null==(e=null==d?void 0:d.current)?void 0:e.getScrollContainer)?void 0:n.call(e)},onTrigger:function(){return Promise.resolve()}}))}))}())}));ue.displayName="CommentList";const se=ue;var de=function(){return(de=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},me=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,l=n.length;a<l;a++)!r&&a in n||((r=r||Array.prototype.slice.call(n,0,a))[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},pe=f.A.VerticalFlexLayout,fe="adhere-ui-comment-list-standard",ye={current:"current",totalPage:"totalPage",list:"list",totalCount:"totalCount"},ve=function(){return r.createElement(re.A,null)},he=(0,r.memo)((function(e){var n=void 0===(l=e.limit)?10:l,t=void 0===(l=e.dataKeys)?ye:l,a=void 0===(l=e.listProps)?{}:l,l=void 0===(l=e.flexLayoutProps)?{}:l,o=e.renderFirstLoading,i=void 0===(m=e.renderEmpty)?ve:m,c=e.renderList,u=(0,r.useRef)({page:1,limit:n}),s=(0,r.useRef)(),d=(0,r.useRef)(ae.A.NORMAL),m=(0,r.useRef)(null),f=(k=(0,r.useState)(((k={})[t.current]=1,k[t.totalPage]=0,k[t.list]=[],k[t.totalCount]=0,k)))[0],y=k[1],v=(k=(0,r.useState)(!0))[0],h=k[1];function g(n){var t;return null==(t=null==e?void 0:e.fetchData)?void 0:t.call(e,null==u?void 0:u.current).then((function(e){return n(e),h(!1),e})).catch((function(e){var n;return h(!1),s.current&&(d.current=ae.A.ERROR,null!=(n=null==s?void 0:s.current))&&n.call(s,d.current),e}))}var E=(0,r.useCallback)((function(e){s.current=e,setTimeout((function(){return h(!0),u.current.page=u.current.page+1,e=t.list,g((function(n){y((function(r){var a;return de(de({},n),((a={})[t.list]=me(me([],r[e],!0),n[e],!0),a))}))}));var e}),100)}),[]),C=(0,r.useCallback)((function(){return 1===u.current.page&&0===f[t.list].length}),[f,t,u.current.page]),k=(0,r.useMemo)((function(){return r.createElement(se,de({isLoading:v,hasMore:f[t.list].length<=f[t.totalCount],onLoadMore:E,renderFirstLoading:o},null!=a?a:{},{pages:f[t.totalPage]}),r.createElement(p.A,{conditional:!C(),noMatch:function(){return i()}},(function(){return null==c?void 0:c(f)})))}),[v,f,t.totalCount,t.list,o,a,i]);return(0,r.useEffect)((function(){h(!0),u.current={page:1,limit:n},g((function(e){y(e)}))}),[]),(0,r.useLayoutEffect)((function(){var e;s.current&&(e=f[t.totalPage],d.current=u.current.page<e?ae.A.NORMAL:ae.A.EMPTY,null!=s)&&s.current(d.current)}),[f]),r.createElement(pe,de({},null!=l?l:{},{className:"".concat(fe),renderMain:r.createElement("div",{className:"".concat(fe,"-auto"),ref:m},k)}))}));he.displayName="ListStandard";const ge=he;var Ee="adhere-ui-comment",Ce=(0,r.memo)((function(e){var n=e.listProps,t=void 0===(t=e.commentDataKeys)?{current:"current",totalPage:"totalPage",list:"list",totalCount:"totalCount"}:t,a=void 0===(a=e.commentLimit)?10:a,d=e.flexLayoutProps,m=void 0===(h=e.commentKeyProp)?"id":h,p=void 0===(h=e.replyDataKeys)?{current:"current",totalPage:"totalPage",list:"list",totalCount:"totalCount"}:h,f=void 0===(h=e.replyLimit)?10:h,y=void 0===(h=e.replyKeyProp)?"id":h,v=void 0===(h=e.isMoreProp)?"isMore":h,h=e.fetchCommentData,g=e.fetchReplyData,E=e.fetchReply,C=e.renderEmpty,k=e.renderFirstLoading,A=e.renderCommentActions,R=e.renderCommentAuthor,b=e.renderCommentAvatar,P=e.renderCommentContent,N=e.renderCommentDateTime,T=e.renderCommentLoading,x=e.renderReplyActions,L=e.renderReplyAuthor,w=e.renderReplyAvatar,D=e.renderReplyContent,M=e.renderReplyDateTime,S=e.renderReplyLoading,F=void 0===(H=e.showReplyText)?s.Ay.v("显示回复内容"):H,O=void 0===(H=e.hideReplyText)?s.Ay.v("收起回复"):H,j=void 0===(H=e.loadMoreReplyText)?s.Ay.v("加载更多回复"):H,V=void 0===(H=e.showReplyTextIcon)?r.createElement(u.A,null):H,I=void 0===(H=e.hideReplyTextIcon)?r.createElement(c.A,null):H,K=void 0===(H=e.loadMoreCollapseTextIcon)?r.createElement(i.A,{className:"reply-icon"}):H,z=void 0===(H=e.local)?"zh":H,q=e.emojiPickerProps,H=(0,r.useCallback)((function(e){var n;return r.createElement("ul",{className:"".concat(Ee,"-list")},null==(n=null==(e=null==e?void 0:e.list)?void 0:e.map)?void 0:n.call(e,(function(e){return r.createElement("li",{className:"".concat(Ee,"-list-item"),key:e[m]},r.createElement(te,{data:e,dataKeys:p,limit:f,keyProp:y,isMoreProp:v,fetchData:g,fetchReply:E,renderActions:A,renderAuthor:R,renderAvatar:b,renderContent:P,renderDateTime:N,renderLoading:T||W,showReplyText:F,hideReplyText:O,loadMoreReplyText:j,showReplyTextIcon:V,hideReplyTextIcon:I,loadMoreCollapseTextIcon:K,local:z,emojiPickerProps:q},(function(e){return r.createElement($,{data:e,dataKeys:p,limit:f,keyProp:y,isMoreProp:v,fetchData:g,fetchReply:E,renderActions:x,renderAuthor:L,renderAvatar:w,renderContent:D,renderDateTime:M,renderLoading:S||W,showReplyText:F,hideReplyText:O,loadMoreReplyText:j,showReplyTextIcon:V,hideReplyTextIcon:I,loadMoreCollapseTextIcon:K,local:z,emojiPickerProps:q})})))})))}),[p,f,y,v,g,E,A,R,b,P,M,T,F,O,j,V,I,K,z,q,D,w,L,x]),W=(0,r.useCallback)((function(){return r.createElement("div",{className:"".concat(Ee,"-loading")},r.createElement(o.A,{indicator:r.createElement(l.A,{style:{fontSize:24}})}))}),[]);return r.createElement(ge,{listProps:n,dataKeys:t,limit:a,renderList:H,renderLoading:W,fetchData:h,renderEmpty:C,renderFirstLoading:k,flexLayoutProps:d})}));Ce.displayName="Comment";const ke=Ce;var Ae=t(18647),Re=t(87151),be=t(18346),Pe=t(15964),Ne=t(71103),Te=t(60888),xe=t.n(Te);const Le="_Du3eoQKu7POvgLGNVqa",we="v4rI6RIb23wnyI0UY7y3",De=Array.from({length:300}).map(((e,n)=>({id:n+1,name:xe().internet.userName(),time:xe().date.past(),icon:"https://joeschmoe.io/api/v1/random",info:xe().hacker.phrase(),isMore:n%2==0,like:xe().random.number(),dislike:xe().random.number()}))),Me=Array.from({length:300}).map(((e,n)=>({id:n+1,name:xe().internet.userName(),time:xe().date.past(),icon:"https://joeschmoe.io/api/v1/random",info:xe().hacker.phrase(),isMore:n%2==0,like:xe().random.number(),dislike:xe().random.number()}))),Se=()=>{const e=(0,r.useRef)();return r.createElement("div",{className:Le,ref:e},r.createElement("div",{className:we},r.createElement(ke,{getScrollWrapContainer:()=>e.current,fetchCommentData:function(e){let{page:n,limit:t}=e;return console.log("fetchCommentData",n,t,De.slice((n-1)*t,n*t)),new Promise((e=>{setTimeout((()=>{e({current:n,totalPage:De.length/t+(De.length%t!=0?1:0),list:De.slice((n-1)*t,n*t),totalCount:De.length})}),1500)}))},renderCommentActions:function(e,n){return[r.createElement(Ne.A,{key:"comment-basic-like",title:"Like"},r.createElement("span",{onClick:()=>{setTimeout((()=>{e.like=xe().random.number(),n({...e})}),1e3)}},r.createElement(Pe.A,null),r.createElement("span",{style:{marginLeft:5}},e.like))),r.createElement(Ne.A,{key:"comment-basic-dislike",title:"Dislike"},r.createElement("span",{onClick:()=>{setTimeout((()=>{e.dislike=xe().random.number(),n({...e})}),1e3)}},r.createElement(be.A,null),r.createElement("span",{style:{marginLeft:5}},e.dislike)))]},renderCommentAuthor:function(e){return null==e?void 0:e.name},renderCommentAvatar:function(e){return r.createElement("img",{src:null==e?void 0:e.icon,alt:""})},renderCommentContent:function(e){return null==e?void 0:e.info},renderCommentDateTime:function(e){return r.createElement(Re.A.DateDisplayFromNow,{value:null==e?void 0:e.time})},fetchReplyData:function(e){let{page:n,limit:t,record:r}=e;return new Promise((e=>{setTimeout((()=>{e({current:n,totalPage:Me.length/t+(Me.length%t!=0?1:0),list:Me.slice((n-1)*t,n*t),totalCount:Me.length})}),1500)}))},renderReplyActions:function(e,n){return[r.createElement(Ne.A,{key:"comment-basic-like",title:"Like"},r.createElement("span",{onClick:()=>{setTimeout((()=>{e.like=xe().random.number(),n({...e})}),1e3)}},r.createElement(Pe.A,null),r.createElement("span",{style:{marginLeft:5}},e.like))),r.createElement(Ne.A,{key:"comment-basic-dislike",title:"Dislike"},r.createElement("span",{onClick:()=>{setTimeout((()=>{e.dislike=xe().random.number(),n({...e})}),1e3)}},r.createElement(be.A,null),r.createElement("span",{style:{marginLeft:5}},e.dislike)))]},renderReplyAuthor:function(e){return null==e?void 0:e.name},renderReplyAvatar:function(e){return r.createElement("img",{src:null==e?void 0:e.icon,alt:""})},renderReplyContent:function(e){return null==e?void 0:e.info},renderReplyDateTime:function(e){return r.createElement(Re.A.DateDisplayFromNow,{value:null==e?void 0:e.time})},fetchReply:function(e){let{id:n,record:t,reply:r}=e;const a=Ae.A.show(document.body,"");return new Promise((e=>{setTimeout((()=>{e(),Ae.A.hide(a)}),1e3)}))}})))},Fe=()=>r.createElement(a.Ay,null,r.createElement(a.wn,{title:"Comment"},r.createElement("p",null,"评论")),r.createElement(a.Wc,{title:"代码演示",config:[{id:"p1",name:"基本使用",mode:"code",scope:{React:r},cardProps:{description:{title:"基本使用",info:"基本使用"}},active:"P1.jsx",config:[{key:"P1.jsx",title:"P1.jsx",codeText:"import { Tooltip } from 'antd';\r\nimport faker from 'faker';\r\nimport React, { useRef } from 'react';\r\n\r\nimport { DislikeOutlined, LikeFilled } from '@ant-design/icons';\r\nimport { Comment, DateDisplay, GlobalIndicator } from '@baifendian/adhere';\r\n\r\nimport styles from '../index.less';\r\n\r\nconst CommentData = Array.from({ length: 300 }).map((t, index) => ({\r\n  id: index + 1,\r\n  name: faker.internet.userName(),\r\n  time: faker.date.past(),\r\n  icon: 'https://joeschmoe.io/api/v1/random',\r\n  info: faker.hacker.phrase(),\r\n  isMore: index % 2 === 0,\r\n  like: faker.random.number(),\r\n  dislike: faker.random.number(),\r\n}));\r\n\r\nconst ReplyData = Array.from({ length: 300 }).map((t, index) => ({\r\n  id: index + 1,\r\n  name: faker.internet.userName(),\r\n  time: faker.date.past(),\r\n  icon: 'https://joeschmoe.io/api/v1/random',\r\n  info: faker.hacker.phrase(),\r\n  isMore: index % 2 === 0,\r\n  like: faker.random.number(),\r\n  dislike: faker.random.number(),\r\n}));\r\n\r\nexport default () => {\r\n  const ref = useRef();\r\n\r\n  function fetchCommentData({ page, limit }) {\r\n    console.log(\r\n      'fetchCommentData',\r\n      page,\r\n      limit,\r\n      CommentData.slice((page - 1) * limit, page * limit),\r\n    );\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve({\r\n          current: page,\r\n          totalPage: CommentData.length / limit + (CommentData.length % limit !== 0 ? 1 : 0),\r\n          list: CommentData.slice((page - 1) * limit, page * limit),\r\n          totalCount: CommentData.length,\r\n        });\r\n      }, 1500);\r\n    });\r\n  }\r\n\r\n  function renderCommentAuthor(record) {\r\n    return record?.name;\r\n  }\r\n\r\n  function renderCommentAvatar(record) {\r\n    return <img src={record?.icon} alt=\"\" />;\r\n  }\r\n\r\n  function renderCommentActions(record, callback) {\r\n    return [\r\n      <Tooltip key=\"comment-basic-like\" title=\"Like\">\r\n        <span\r\n          onClick={() => {\r\n            setTimeout(() => {\r\n              record.like = faker.random.number();\r\n              callback({ ...record });\r\n            }, 1000);\r\n          }}\r\n        >\r\n          <LikeFilled />\r\n          <span style={{ marginLeft: 5 }}>{record.like}</span>\r\n        </span>\r\n      </Tooltip>,\r\n      <Tooltip key=\"comment-basic-dislike\" title=\"Dislike\">\r\n        <span\r\n          onClick={() => {\r\n            setTimeout(() => {\r\n              record.dislike = faker.random.number();\r\n              callback({ ...record });\r\n            }, 1000);\r\n          }}\r\n        >\r\n          <DislikeOutlined />\r\n          <span style={{ marginLeft: 5 }}>{record.dislike}</span>\r\n        </span>\r\n      </Tooltip>,\r\n    ];\r\n  }\r\n\r\n  function renderCommentContent(record) {\r\n    return record?.info;\r\n  }\r\n\r\n  function renderCommentDateTime(record) {\r\n    return <DateDisplay.DateDisplayFromNow value={record?.time} />;\r\n  }\r\n\r\n  function fetchReplyData({ page, limit, record }) {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve({\r\n          current: page,\r\n          totalPage: ReplyData.length / limit + (ReplyData.length % limit !== 0 ? 1 : 0),\r\n          list: ReplyData.slice((page - 1) * limit, page * limit),\r\n          totalCount: ReplyData.length,\r\n        });\r\n      }, 1500);\r\n    });\r\n  }\r\n\r\n  function renderReplyAuthor(record) {\r\n    return record?.name;\r\n  }\r\n\r\n  function renderReplyAvatar(record) {\r\n    return <img src={record?.icon} alt=\"\" />;\r\n  }\r\n\r\n  function renderReplyActions(record, callback) {\r\n    return [\r\n      <Tooltip key=\"comment-basic-like\" title=\"Like\">\r\n        <span\r\n          onClick={() => {\r\n            setTimeout(() => {\r\n              record.like = faker.random.number();\r\n              callback({ ...record });\r\n            }, 1000);\r\n          }}\r\n        >\r\n          <LikeFilled />\r\n          <span style={{ marginLeft: 5 }}>{record.like}</span>\r\n        </span>\r\n      </Tooltip>,\r\n      <Tooltip key=\"comment-basic-dislike\" title=\"Dislike\">\r\n        <span\r\n          onClick={() => {\r\n            setTimeout(() => {\r\n              record.dislike = faker.random.number();\r\n              callback({ ...record });\r\n            }, 1000);\r\n          }}\r\n        >\r\n          <DislikeOutlined />\r\n          <span style={{ marginLeft: 5 }}>{record.dislike}</span>\r\n        </span>\r\n      </Tooltip>,\r\n    ];\r\n  }\r\n\r\n  function renderReplyContent(record) {\r\n    return record?.info;\r\n  }\r\n\r\n  function renderReplyDateTime(record) {\r\n    return <DateDisplay.DateDisplayFromNow value={record?.time} />;\r\n  }\r\n\r\n  function fetchReply({ id, record, reply }) {\r\n    const indicator = GlobalIndicator.show(document.body, '');\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve();\r\n        GlobalIndicator.hide(indicator);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className={styles.ScrollWrap} ref={ref}>\r\n      <div className={styles.Scroll}>\r\n        <Comment\r\n          getScrollWrapContainer={() => ref.current}\r\n          fetchCommentData={fetchCommentData}\r\n          renderCommentActions={renderCommentActions}\r\n          renderCommentAuthor={renderCommentAuthor}\r\n          renderCommentAvatar={renderCommentAvatar}\r\n          renderCommentContent={renderCommentContent}\r\n          renderCommentDateTime={renderCommentDateTime}\r\n          fetchReplyData={fetchReplyData}\r\n          renderReplyActions={renderReplyActions}\r\n          renderReplyAuthor={renderReplyAuthor}\r\n          renderReplyAvatar={renderReplyAvatar}\r\n          renderReplyContent={renderReplyContent}\r\n          renderReplyDateTime={renderReplyDateTime}\r\n          fetchReply={fetchReply}\r\n          // replyLimit={1}\r\n          // renderCommentLoading={() => <Spin />}\r\n          // renderFirstLoading={() => <Spin />}\r\n          // listProps={{\r\n          //   scrollLoadProps: {\r\n          //     renderLoading: () => <Spin />,\r\n          //     renderEmpty: () => <Empty />,\r\n          //     renderError: () => <div>error</div>,\r\n          //   },\r\n          // }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"},{key:"index.less",title:"index.less",codeText:".ScrollWrap {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 800px;\r\n  overflow-y: hidden;\r\n\r\n  > .Scroll {\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow-y: auto;\r\n  }\r\n}\r\n"}],type:"PlayGroundTab",renderChildren:()=>r.createElement(Se,null)}]}),r.createElement(a.e6,{title:"Props",config:[{border:!0,title:"属性",data:[{params:"getScrollWrapContainer",desc:"获取滚动的目标元素",type:"HTMLElement",defaultVal:"document.body"},{params:"fetchCommentData",desc:"获取评论数据",type:"(params?: any) => Promise<any>",defaultVal:""},{params:"commentDataKeys",desc:"评论返回值结构",type:"\n                  {\n                    current: string;\n                    totalPage: string;\n                    list: string;\n                    totalCount: string;\n                  }\n                ",defaultVal:"{\n                  current: 'current',\n                  totalPage: 'totalPage',\n                  list: 'list',\n                  totalCount: 'totalCount',\n                }"},{params:"commentLimit",desc:"评论一页数据数",type:"number",defaultVal:"10"},{params:"commentKeyProp",desc:"评论数据的唯一主键属性",type:"string",defaultVal:"id"},{params:"renderCommentActions",desc:"渲染评论的操作区",type:"(params?: any) => ReactNode[] | null",defaultVal:""},{params:"renderCommentAuthor",desc:"渲染评论作者",type:"(params?: any) => ReactNode[] | null",defaultVal:""},{params:"renderCommentAvatar",desc:"渲染评论头像",type:"(params?: any) => ReactNode | null",defaultVal:""},{params:"renderCommentContent",desc:"渲染评论内容",type:"(params?: any) => ReactNode | null",defaultVal:""},{params:"renderCommentDateTime",desc:"渲染评论时间",type:"(params?: any) => ReactNode | null",defaultVal:""},{params:"renderCommentLoading",desc:"渲染评论的loading",type:"(params?: any) => ReactNode | null",defaultVal:""},{params:"fetchReplyData",desc:"加载回复数据",type:"(params?: any) => Promise<any>",defaultVal:""},{params:"replyDataKeys",desc:"回复数据结构",type:"{\n                  current: string;\n                  totalPage: string;\n                  list: string;\n                  totalCount: string;\n                }",defaultVal:"{\n                  current: 'current',\n                  totalPage: 'totalPage',\n                  list: 'list',\n                  totalCount: 'totalCount',\n                }"},{params:"replyLimit",desc:"回复数据的分页数",type:"number",defaultVal:"10"},{params:"replyKeyProp",desc:"回复数据唯一主键属性",type:"string",defaultVal:"id"},{params:"renderReplyActions",desc:"渲染回复的工具",type:"(params?: any) => ReactNode[] | null",defaultVal:""},{params:"renderReplyAuthor",desc:"渲染回复的作者",type:"(params?: any) => ReactNode | null",defaultVal:""},{params:"renderReplyAvatar",desc:"渲染回复的头像renderReplyAvatar",type:"(params?: any) => ReactNode | null",defaultVal:""},{params:"renderReplyContent",desc:"渲染回复内容",type:"(params?: any) => ReactNode | null",defaultVal:""},{params:"renderReplyDateTime",desc:"渲染回复的时间",type:"(params?: any) => ReactNode | null",defaultVal:""},{params:"renderReplyLoading",desc:"渲染回复loading",type:"(params?: any) => ReactNode | null",defaultVal:""},{params:"fetchReply",desc:"进行回复",type:"(params?: any) => Promise<any>",defaultVal:""},{params:"listProps",desc:"ScrollList的props",type:"any",defaultVal:"{}"},{params:"isMoreProp",desc:"是否有更多的属性",type:"string",defaultVal:"isMore"},{params:"flexLayoutProps",desc:"flexLayout的props",type:"FlexLayoutProps",defaultVal:"{}"},{params:"renderEmpty",desc:"无数据的渲染",type:"() => ReactElement | null",defaultVal:""},{params:"renderFirstLoading",desc:"第一次的渲染",type:"() => ReactNode",defaultVal:""},{params:"showReplyText",desc:"回复的文本",type:"string | Function",defaultVal:""},{params:"hideReplyText",desc:"隐藏回复的文本",type:"string | Function",defaultVal:""},{params:"loadMoreReplyText",desc:"加载更多数据的文本",type:"string | Function",defaultVal:""},{params:"showReplyTextIcon",desc:"滚动",type:"回复文本的图标",defaultVal:"ReactNode | Function"},{params:"hideReplyTextIcon",desc:"隐藏回复的图标",type:"ReactNode | Function",defaultVal:""},{params:"loadMoreCollapseTextIcon",desc:"加载更多数据的图标",type:"ReactNode | Function",defaultVal:""},{params:"local",desc:"国际化",type:"Local",defaultVal:"zh"},{params:"emojiPickerProps",desc:"表情组件的Props",type:"any",defaultVal:"{}"}]}]}))},19994:(e,n,t)=>{t.d(n,{Ay:()=>m,I7:()=>d,Wc:()=>u,e6:()=>s,wn:()=>c});var r=t(71860),a=t(24370),l=t(26322);const{PlayGroundPageContext:o,PlayGroundPage:i}=a.A,{Section:c,CodeBoxSection:u,PropsSection:s,FunctionPropsSection:d}=i;const m=function(e){let{children:n,onScrollBottom:t,distance:a=50,...c}=e;const[u,s]=(0,l.useState)(),d=(0,l.useRef)(),m=(0,l.useRef)(!1);return(0,l.useEffect)((()=>{function e(){const e=n.scrollHeight-n.offsetHeight,r=n.scrollTop;if(t&&Math.abs(r-e)<=a){if(m.current)return;m.current=!0,null==t||t().then((()=>{m.current=!1}))}}const n=d.current.parentElement.parentElement;return n.addEventListener("scroll",e),s(n),()=>{n.removeEventListener("scroll",e)}}),[]),l.createElement(o.Provider,{value:{scrollEl:u}},l.createElement(i,(0,r.A)({ref:d},c),n))}},18647:(e,n,t)=>{t.d(n,{A:()=>r});const r=t(54763).A}}]);