"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[6401],{39310:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(90171),o=t(62984).Z.useSetState,c=function(e,n){e=e.children;var t=o(!0),c=t[0],a=t[1];return(0,r.useImperativeHandle)(n,(function(){return{reMount:function(){return new Promise((function(e){return a(!1,(function(){return a(!0,(function(){return e()}))}))}))}}})),c?e:null},a=(0,r.forwardRef)(c)},2216:function(e,n,t){t.r(n);var r=t(97652),o=t(90171),c=t(96032);n.default=()=>o.createElement(c.ZP,null,o.createElement(c.$0,{title:"DelConfirm"},o.createElement("p",null,"删除确认提示(使用的是antd的Modal)"),o.createElement("p",null,"删除的时候弹出提示，确认后在执行操作")),o.createElement(c.e0,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"基本使用",mode:"code",scope:{React:o},cardProps:{description:{title:"基本使用",info:"基本使用"}},codeText:"\n  import React from 'react';\n  import { DelConfirm } from '@baifendian/adhere';\n\n  <DelConfirm\n    success={() => {\n      return new Promise((resolve) => {\n        alert('点击了确认');\n\n        resolve();\n      });\n    }}\n  >\n    <a>删除</a>\n  </DelConfirm>\n      ",type:"PlayGround",renderChildren:()=>o.createElement(r.Z,{success:()=>new Promise((e=>{alert("点击了确认"),e()}))},o.createElement("a",null,"删除"))},{id:"p2",name:"Confirm.open",mode:"code",scope:{React:o},cardProps:{description:{title:"Confirm.open",info:"Confirm.open"}},codeText:"\n  import React from 'react';\n  import { DelConfirm } from '@baifendian/adhere';\n\n  <DelConfirm\n    success={() => {\n      return new Promise((resolve) => {\n        alert('点击了确认');\n\n        resolve();\n      });\n    }}\n  >\n    <a>删除</a>\n  </DelConfirm>\n      ",type:"PlayGround",renderChildren:()=>o.createElement("a",{onClick:()=>{r.Z.open({success:()=>new Promise((e=>{alert("点击了确认"),e()}))})}},"删除")}]}),o.createElement(c.sB,{title:"Props",config:[{border:!0,title:"属性",data:[{params:"zIndex",desc:"显示的层级",type:"number",defaultVal:"19999"},{params:"className",desc:"附加的样式",type:"string",defaultVal:""},{params:"success",desc:"确认后的回调，此方法需要返回Promise对象",type:"Function",defaultVal:"() => {}"},{name:"title",desc:"标题",type:"string",defaultVal:""},{name:"text",desc:"文本",type:"string",defaultVal:""},{params:"children",desc:"子组件",type:"React.ReactElement",defaultVal:"null"}]}]}),o.createElement(c.ae,{title:"Api",config:[{border:!0,title:"方法",data:[{name:"open",desc:"打开确认对话框",modifier:"static",params:[{name:"success",desc:"成功的回调，此方法需要返回Promise对象",type:"Function",defaultVal:"() => {}",required:"true"},{name:"title",desc:"标题",type:"string",defaultVal:"",required:"false"},{name:"text",desc:"文本",type:"string",defaultVal:"",required:"false"},{name:"zIndex",desc:"显示层级",type:"number",defaultVal:"19999",required:"false"}],returnType:"void",returnDesc:""}]}]}))},36820:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var r=t(90171),o=t(96032),c=t(64437),a=t(91098),l=t(39203),u=t(17464),i=e=>((0,r.useEffect)((()=>{console.log("子组件挂载")}),[]),(0,r.useEffect)((()=>{console.log("子组件更新")})),r.createElement("div",null,"子组件:",e.count));const{useSetState:s}=l.default;var f=()=>{const e=(0,r.useRef)(),[n,t]=s(0);return r.createElement(c.Z,{ref:e},r.createElement("div",null,r.createElement(a.Z.Group,{direction:"horizontal"},r.createElement(u.ZP,{type:"primary",onClick:()=>t((e=>e+1))},"递增"),r.createElement(u.ZP,{type:"primary",onClick:()=>{t(0,(()=>e.current.reMount()))}},"重置")),r.createElement(i,{count:n})))},d=()=>r.createElement(o.ZP,null,r.createElement(o.$0,{title:"ForceUpdate"},r.createElement("p",null,"强制刷新组件及其子组件")),r.createElement(o.e0,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"强制刷新组件及其子组件",type:"PlayGroundTab",active:"parent.jsx",config:[{key:"parent.jsx",title:"parent.jsx",codeText:"\n  import React, { useRef } from 'react';\n  import { Button } from 'antd';\n  import { ForceUpdate, Hooks, Space } from '@baifendian/adhere';\n\n  import Sub from './sub';\n\n  const { useSetState } = Hooks;\n\n  export default () => {\n    const ref = useRef();\n    const [count, setCount] = useSetState(0);\n\n    return (\n      <ForceUpdate ref={ref}>\n        <div>\n          <Space.Group direction=\"horizontal\">\n            <Button type=\"primary\" onClick={() => setCount((_count) => _count + 1)}>\n              递增\n            </Button>\n            <Button\n              type=\"primary\"\n              onClick={() => {\n                setCount(0, () => ref.current.reMount());\n              }}\n            >\n              重置\n            </Button>\n          </Space.Group>\n          <Sub count={count} />\n        </div>\n      </ForceUpdate>\n    );\n  };\n            "},{key:"sub.jsx",title:"sub.jsx",codeText:"\n  import React, { useEffect } from 'react';\n\n  export default (props) => {\n    useEffect(() => {\n      console.log('子组件挂载');\n    }, []);\n\n    useEffect(() => {\n      console.log('子组件更新');\n    });\n    return <div>子组件:{props.count}</div>;\n  };\n            "}],renderChildren:()=>r.createElement(f,null)}]}))},96032:function(e,n,t){t.d(n,{$0:function(){return u},ae:function(){return f},e0:function(){return i},sB:function(){return s}});var r=t(70517),o=t(6692),c=t(90171);const{PlayGroundPageContext:a,PlayGroundPage:l}=o.default,{Section:u,CodeBoxSection:i,PropsSection:s,FunctionPropsSection:f}=l;n.ZP=function(e){let{children:n,...t}=e;const[o,u]=(0,c.useState)(),i=(0,c.useRef)();return(0,c.useEffect)((()=>{u(i.current.parentElement.parentElement)}),[]),c.createElement(a.Provider,{value:{scrollEl:o}},c.createElement(l,(0,r.Z)({ref:i},t),n))}},97652:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(90171),o=t(41718),c=t(20725),a=t(67712),l=function(){return(l=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},u=function(e,n){var t={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]]);return t},i=function(e){var n=e.className,t=e.style,o=e.children;return r.createElement("div",{className:"".concat("adhere-ui-delconfirm"," ").concat(null!=n?n:""),style:null!=t?t:{},onClick:function(n){n.stopPropagation(),e.children,n=u(e,["children"]),i.open(l({},n))}},o)};i.open=function(e){var n=e.success;e=u(e,["success"]);o.Z.Confirm(l(l({},e),{title:e.title||c.ZP.v("提示"),text:e.text||"".concat(c.ZP.v("确定删除吗"),"?"),zIndex:"zIndex"in e?e.zIndex:a.Z.Dict.value.ResourceNormalMaxZIndex.value,onSuccess:function(){return new Promise((function(e,t){n?n().then((function(){return e()})).catch((function(){return t()})):e()}))}}))};var s=i},64437:function(e,n,t){var r=t(39310);n.Z=r.Z},39203:function(e,n,t){var r=t(62984);n.default=r.Z},91098:function(e,n,t){var r=t(58014);n.Z=r.Z}}]);