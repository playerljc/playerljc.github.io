"use strict";(self.webpackChunk_ctsj_build=self.webpackChunk_ctsj_build||[]).push([[2297],{16937:(t,e,n)=>{n.d(e,{A:()=>v});var r=n(31934),a=n.n(r),o=n(26322),i=n(72667),s=n(89921),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},c=function(t,e){var n={};for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n},u=function(t){var e=t.children,n=c(t,["children"]),r=(0,o.useMemo)((function(){return Array.isArray(e)?(e||[]).filter((function(t){return!!t})):e}),[e]);t=(0,o.useMemo)((function(){var t=[];return function e(n){o.Children.map(n,(function(n){var r;s.isFragment(n)?e(((null==(r=null==n?void 0:n.props)?void 0:r.children)||[]).filter((function(t){return!!t}))):t.push(n)}))}(r),t}),[r]);return o.Children.count(r)<=1?r:t.map((function(t,e){return 0===e?t:o.createElement(o.Fragment,{key:e},o.createElement(f,l({},n)),t)}))};u.displayName="SplitGroup";const d=u;var p=n(88724);var y=function(){return(y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},h=(0,o.memo)((function(t){var e,n=void 0===(n=t.className)?"":n,r=t.style,s=void 0===(e=t.direction)?"vertical":e,l=void 0===(e=t.size)?10:e,c=void 0!==(e=t.horizontalFit)&&e,u=(0,o.useContext)(i.A.Context).media,d=(0,o.useMemo)((function(){return function(t,e){return p.A.isNumber(e)?null!=t&&t.isUseMedia?p.A.pxToRem(e,null==t?void 0:t.designWidth):"".concat(e,"px"):e}(u,l)}),[u,l]);t=(0,o.useMemo)((function(){var t;return"horizontal"===s?(t={display:"inline-block",width:1,margin:"0 ".concat(d)},c&&(t.height="100%"),t):{width:"100%",height:1,margin:"".concat(d," 0")}}),[s,l]);return o.createElement("div",{className:a()("adhere-ui-split",null!=n?n:""),style:y(y({},t),null!=r?r:{})})}));h.displayName="Split",h.Group=d;const f=h,v=h},95375:(t,e,n)=>{n.r(e),n.d(e,{default:()=>ze});var r={};n.r(r),n.d(r,{ActionEvents:()=>o,ActionStatus:()=>a,ActionType:()=>l,PolygonSelectionActions:()=>i,SelectType:()=>s});var a,o,i,s,l,c,u=n(26322),d=n(96465),p=n(53304),y=n(61846),h=n(40370),f=n(88724),v=n(54043),m=n(80711),g=n(31934),x=n.n(g),D=n(81703),C=n(59418),w=n(53516),M=n(66003),P=n(88681),T=n(24902);(c=a=a||{})[c.UnStart=0]="UnStart",c[c.Running=1]="Running",c[c.End=2]="End",c[c.Destroy=3]="Destroy",function(t){t.DrawBeforeStart="DrawBeforeStart",t.DrawStart="DrawStart",t.Drawing="Drawing",t.DrawEnd="DrawEnd",t.MoveBeforeStart="MoveBeforeStart",t.MoveStart="MoveStart",t.Moving="Moving",t.MoveEnd="MoveEnd",t.ModifyBeforeStart="ModifyBeforeStart",t.ModifyStart="ModifyStart",t.Modifying="Modifying",t.ModifyEnd="ModifyEnd",t.Destroy="Destroy"}(o=o||{}),function(t){t.CanvasMount="CanvasMount",t.CanvasClickEmpty="CanvasClickEmpty",t.CanvasClickGeometry="CanvasClickGeometry"}(i=i||{}),function(t){t.Polygon="Polygon",t.Circle="Circle",t.Rectangle="Rectangle",t.Triangle="Triangle",t.Diamond="Diamond",t.Start="Start",t.Free="Free"}(s=s||{}),function(t){t.Draw="Draw",t.Modify="Modify",t.Move="Move"}(l=l||{});const E={fillStyle:"#ddd",strokeStyle:"#fff",lineWidth:2,lineCap:"round",lineJoin:"round",lineDash:[5,4,3],lineDashOffset:-1,globalAlpha:1},b={fillStyle:"#eee",strokeStyle:"#ccc",lineWidth:2,lineDash:[5,4,3],lineDashOffset:-1,lineCap:"round",lineJoin:"round",globalAlpha:.6},S={fillStyle:"#eee",strokeStyle:"#ccc",lineWidth:2,lineCap:"round",lineJoin:"round",lineDash:[],lineDashOffset:-1,globalAlpha:1};var A,R=(A=function(t,e){return(A=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.context=null,e.status=a.UnStart,e.style=I({},S),e.anchorStyle=I({},E),e.moveGemStyle=I({},b),e}return R(e,t),e.prototype.getAnchorStyle=function(){return I({},this.anchorStyle)},e.prototype.getStyle=function(){return I({},this.style)},e.prototype.getMoveGemStyle=function(){return I({},this.moveGemStyle)},e.prototype.setAnchorStyle=function(t){this.anchorStyle=I(I({},E),null!=t?t:{})},e.prototype.setStyle=function(t){this.style=I(I({},S),null!=t?t:{})},e.prototype.setMoveGemStyle=function(t){this.moveGemStyle=I(I({},b),null!=t?t:{})},e.prototype.destroy=function(){var t,e,n;this.context&&![a.Running,a.Destroy].includes(this.status)&&(e=null==(e=null==(t=this.context)?void 0:t.getCanvasEl)?void 0:e.call(t),n=null==(n=null==t?void 0:t.getAssistCanvasEl)?void 0:n.call(t),e)&&n&&(e.style.cursor=n.style.cursor="default")},e.prototype.end=function(t){var e,n;this.context&&![a.Running,a.Destroy].includes(this.status)&&(e=null==(n=this.context)?void 0:n.getCanvasEl(),n=null==n?void 0:n.getAssistCanvasEl(),e)&&n&&(e.style.cursor=n.style.cursor="default")},e.prototype.start=function(t){var e;this.context&&![a.Running,a.Destroy].includes(this.status)&&(e=this.context.getCanvasEl())&&(e.style.cursor="url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjI3OTEzNjM1NDc3IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQzMDgiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUxMi4wMDIgODg3QzMwNC44OTIgODg3IDEzNyA3MTkuMTA4IDEzNyA1MTIuMDAyIDEzNyAzMDQuODkyIDMwNC44OTIgMTM3IDUxMi4wMDIgMTM3IDcxOS4xMDggMTM3IDg4NyAzMDQuODkyIDg4NyA1MTIuMDAyIDg4NyA3MTkuMTA4IDcxOS4xMDggODg3IDUxMi4wMDIgODg3ek01MTIgNzg3YzE1MS44NzggMCAyNzUtMTIzLjEyMiAyNzUtMjc1UzY2My44NzggMjM3IDUxMiAyMzcgMjM3IDM2MC4xMjIgMjM3IDUxMnMxMjMuMTIyIDI3NSAyNzUgMjc1eiIgZmlsbD0iIzFBQTVGRiIgcC1pZD0iNDMwOSI+PC9wYXRoPjxwYXRoIGQ9Ik01MTIgNTEybS0yMjUgMGEyMjUgMjI1IDAgMSAwIDQ1MCAwIDIyNSAyMjUgMCAxIDAtNDUwIDBaIiBmaWxsPSIjMUFBNUZGIiBwLWlkPSI0MzEwIj48L3BhdGg+PC9zdmc+), auto")},e.prototype.setContext=function(t){this.context=t},e.prototype.getStatus=function(){return this.status},e}(v.A.Events);const k=B;var O,L=(O=function(t,e){return(O=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),V=function(t){function e(){var e=t.call(this)||this;return e.centerPoint=null,e.isMove=!1,e.radius=0,e.onCanvasMouseDown=e.onCanvasMouseDown.bind(e),e.onCanvasMouseMove=e.onCanvasMouseMove.bind(e),e.onCanvasMouseUp=e.onCanvasMouseUp.bind(e),e}return L(e,t),e.booleanPointInData=function(t,e){return f.A.isPointInCircle(t,e.data)},e.prototype.draw=function(t){var e,n=(a=this).context,r=a.centerPoint,a=a.style,o=null==n?void 0:n.getCtx();n&&o&&r&&(e=null==n?void 0:n.getCanvasEl())&&(t=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}))&&(null!=n&&n.clearDraw(),null!=n&&n.drawHistoryData(),o.beginPath(),this.radius=f.A.getDistanceByBetweenPoint({p1:r,p2:t}),o.lineWidth=a.lineWidth,o.lineJoin=a.lineJoin,o.lineCap=a.lineCap,a.lineDash&&o.setLineDash(a.lineDash),o.lineDashOffset=a.lineDashOffset,o.strokeStyle=a.strokeStyle,o.fillStyle=a.fillStyle,o.globalAlpha=a.globalAlpha,o.ellipse((null==r?void 0:r.x)||0,(null==r?void 0:r.y)||0,this.radius,this.radius,45*Math.PI/180,0,2*Math.PI),o.closePath(),o.stroke(),o.fill())},e.prototype.onCanvasMouseDown=function(t){var e;this.context&&(e=this.context.getCanvasEl())&&(this.centerPoint=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),null!=e&&e.addEventListener("mousemove",this.onCanvasMouseMove),null!=e)&&e.addEventListener("mouseup",this.onCanvasMouseUp)},e.prototype.onCanvasMouseMove=function(t){var e=this.context;e&&e.getCtx()&&(this.isMove=!0,this.draw(t),this.trigger(o.Drawing,{selectType:s.Circle,actionType:l.Draw,data:{id:f.A.uuid(),type:s.Circle,data:{center:this.centerPoint,radius:this.radius},style:this.style}}))},e.prototype.onCanvasMouseUp=function(t){this.isMove&&(this.end(t),t.stopPropagation())},e.draw=function(t,e){t&&e&&this.drawHistoryPath(t,e)},e.drawHistoryPath=function(t,e){var n;t.beginPath(),e.style&&(t.lineWidth=e.style.lineWidth,t.lineJoin=e.style.lineJoin,t.lineCap=e.style.lineCap,e.style.lineDash&&t.setLineDash(e.style.lineDash),t.lineDashOffset=e.style.lineDashOffset,t.strokeStyle=e.style.strokeStyle,t.fillStyle=e.style.fillStyle,t.globalAlpha=null!=(n=e.style.globalAlpha)?n:1),t.ellipse(e.data.center.x,e.data.center.y,e.data.radius,e.data.radius,45*Math.PI/180,0,2*Math.PI),t.closePath(),t.stroke(),t.fill()},e.prototype.start=function(e){var n,r;this.context&&![a.Running,a.Destroy].includes(this.status)&&(r=null==(r=null==(n=this.context)?void 0:n.getCanvasEl)?void 0:r.call(n))&&(t.prototype.start.call(this,e),e&&(this.style=e),this.trigger(o.DrawBeforeStart,{selectType:s.Circle,actionType:l.Draw}),null!=r&&r.addEventListener("mousedown",this.onCanvasMouseDown),this.status=a.Running,this.trigger(o.DrawStart,{selectType:s.Circle,actionType:l.Draw}))},e.prototype.end=function(e){var n,r=this.context;r&&(n=r.getCanvasEl())&&(null!=n&&n.removeEventListener("mousedown",this.onCanvasMouseDown),null!=n&&n.removeEventListener("mousemove",this.onCanvasMouseMove),null!=n&&n.removeEventListener("mouseup",this.onCanvasMouseUp),e&&this.draw(e),this.status=a.End,n={id:f.A.uuid(),type:s.Circle,data:{center:this.centerPoint,radius:this.radius},style:this.style},r.addHistoryData(n),this.centerPoint=null,this.radius=0,this.isMove=!1,this.trigger(o.DrawEnd,{selectType:s.Circle,actionType:l.Draw,data:n})),t.prototype.end.call(this,e)},e.prototype.destroy=function(){var e,n=this.context;n&&(e=n.getCanvasEl())&&(this.status===a.Running&&(n.clearDraw(),n.drawHistoryData()),null!=e&&e.removeEventListener("mousedown",this.onCanvasMouseDown),null!=e&&e.removeEventListener("mousemove",this.onCanvasMouseMove),null!=e&&e.removeEventListener("mouseup",this.onCanvasMouseUp),this.centerPoint=null,this.radius=0,this.isMove=!1,this.status=a.Destroy,this.trigger(o.Destroy,{selectType:s.Circle,actionType:l.Draw})),t.prototype.destroy.call(this)},e}(k);const H=V;var _=n(23172);const j={getRectLeftTopPoint:function(t){var e=t.startPoint;return(t=t.targetPoint).x<=e.x&&t.y<=e.y?t:t.x<=e.x&&t.y>=e.y?{x:t.x,y:e.y}:t.x>=e.x&&t.y<=e.y?{x:e.x,y:t.y}:t.x>=e.x&&t.y>=e.y?e:null},triangle:function(t){var e,n=t.startPoint,r=(t=t.targetPoint,this.getRectLeftTopPoint({startPoint:n,targetPoint:t}));return r?(e=Math.abs(t.x-n.x),t=Math.abs(t.y-n.y),[{x:r.x,y:r.y+t},{x:r.x+e/2,y:r.y},{x:r.x+e,y:r.y+t}]):[]}};var N,z=(N=function(t,e){return(N=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),q=function(t){function e(){var e=t.call(this)||this;return e.startPoint=null,e.leftTopPoint=null,e.width=0,e.height=0,e.isMove=!1,e.onCanvasMouseDown=e.onCanvasMouseDown.bind(e),e.onCanvasMouseMove=e.onCanvasMouseMove.bind(e),e.onCanvasMouseUp=e.onCanvasMouseUp.bind(e),e}return z(e,t),e.booleanPointInData=function(t,e){var n=(e=e.data).leftTopPoint,r=(o=e.width)/2,a=(e=e.height)/2,o=(t=_.zx7([t.x,t.y]),_.n1([[[n.x,n.y+a],[n.x+r,n.y],[n.x+o,n.y+a],[n.x+r,n.y+e],[n.x,n.y+a]]]));return _.mFO(t,o)},e.prototype.draw=function(t){var e,n=(a=this).context,r=a.startPoint,a=a.style,o=null==n?void 0:n.getCtx();n&&o&&(e=null==n?void 0:n.getCanvasEl())&&(t=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),null!=n&&n.clearDraw(),null!=n&&n.drawHistoryData(),o.beginPath(),this.leftTopPoint=j.getRectLeftTopPoint({startPoint:r,targetPoint:t}),this.leftTopPoint)&&(this.width=Math.abs(t.x-((null==r?void 0:r.x)||0)),this.height=Math.abs(t.y-((null==r?void 0:r.y)||0)),e=this.width/2,n=this.height/2,o.lineWidth=a.lineWidth,o.lineJoin=a.lineJoin,o.lineCap=a.lineCap,a.lineDash&&o.setLineDash(a.lineDash),o.lineDashOffset=a.lineDashOffset,o.strokeStyle=a.strokeStyle,o.fillStyle=a.fillStyle,o.globalAlpha=a.globalAlpha,o.moveTo(this.leftTopPoint.x,this.leftTopPoint.y+n),o.lineTo(this.leftTopPoint.x+e,this.leftTopPoint.y),o.lineTo(this.leftTopPoint.x+this.width,this.leftTopPoint.y+n),o.lineTo(this.leftTopPoint.x+e,this.leftTopPoint.y+this.height),o.closePath(),o.stroke(),o.fill())},e.prototype.onCanvasMouseDown=function(t){var e;this.context&&(e=this.context.getCanvasEl())&&(this.startPoint=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),null!=e&&e.addEventListener("mousemove",this.onCanvasMouseMove),null!=e)&&e.addEventListener("mouseup",this.onCanvasMouseUp)},e.prototype.onCanvasMouseMove=function(t){this.context&&(this.isMove=!0,this.draw(t),this.trigger(o.Drawing,{selectType:s.Diamond,actionType:l.Draw,data:{id:f.A.uuid(),type:s.Diamond,data:{leftTopPoint:this.leftTopPoint,width:this.width,height:this.height},style:this.style}}))},e.prototype.onCanvasMouseUp=function(t){this.isMove&&(this.end(t),t.stopPropagation())},e.draw=function(t,e){t&&e&&this.drawHistoryPath(t,e)},e.drawHistoryPath=function(t,e){var n,r;e&&e.data.leftTopPoint&&(t.beginPath(),e.style&&(t.lineWidth=e.style.lineWidth,t.lineJoin=e.style.lineJoin,t.lineCap=e.style.lineCap,e.style.lineDash&&t.setLineDash(e.style.lineDash),t.lineDashOffset=e.style.lineDashOffset,t.strokeStyle=e.style.strokeStyle,t.fillStyle=e.style.fillStyle,t.globalAlpha=null!=(n=e.style.globalAlpha)?n:1),n=e.data.width/2,r=e.data.height/2,t.moveTo(e.data.leftTopPoint.x,e.data.leftTopPoint.y+r),t.lineTo(e.data.leftTopPoint.x+n,e.data.leftTopPoint.y),t.lineTo(e.data.leftTopPoint.x+e.data.width,e.data.leftTopPoint.y+r),t.lineTo(e.data.leftTopPoint.x+n,e.data.leftTopPoint.y+e.data.height),t.closePath(),t.stroke(),t.fill())},e.prototype.start=function(e){var n,r;this.context&&![a.Running,a.Destroy].includes(this.status)&&(r=null==(r=null==(n=this.context)?void 0:n.getCanvasEl)?void 0:r.call(n))&&(t.prototype.start.call(this,e),e&&(this.style=e),this.trigger(o.DrawBeforeStart,{selectType:s.Diamond,actionType:l.Draw}),null!=r&&r.addEventListener("mousedown",this.onCanvasMouseDown),this.status=a.Running,this.trigger(o.DrawStart,{selectType:s.Diamond,actionType:l.Draw}))},e.prototype.end=function(e){var n,r=this.context;r&&(n=r.getCanvasEl())&&(null!=n&&n.removeEventListener("mousedown",this.onCanvasMouseDown),null!=n&&n.removeEventListener("mousemove",this.onCanvasMouseMove),null!=n&&n.removeEventListener("mouseup",this.onCanvasMouseUp),e&&this.draw(e),this.status=a.End,n={id:f.A.uuid(),type:s.Diamond,data:{leftTopPoint:this.leftTopPoint,width:this.width,height:this.height},style:this.style},r.addHistoryData(n),this.startPoint=null,this.leftTopPoint=null,this.width=0,this.height=0,this.isMove=!1,this.trigger(o.DrawEnd,{selectType:s.Diamond,actionType:l.Draw,data:n})),t.prototype.end.call(this,e)},e.prototype.destroy=function(){var e,n=this.context;n&&(e=n.getCanvasEl())&&(this.status===a.Running&&(n.clearDraw(),n.drawHistoryData()),null!=e&&e.removeEventListener("mousedown",this.onCanvasMouseDown),null!=e&&e.removeEventListener("mousemove",this.onCanvasMouseMove),null!=e&&e.removeEventListener("mouseup",this.onCanvasMouseUp),this.startPoint=null,this.leftTopPoint=null,this.width=0,this.height=0,this.isMove=!1,this.status=a.Destroy,this.trigger(o.Destroy,{selectType:s.Diamond,actionType:l.Draw})),t.prototype.destroy.call(this)},e}(k);const G=q;var W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||((r=r||Array.prototype.slice.call(e,0,a))[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))},U=function(t){function e(){var e=t.call(this)||this;return e.startPoint=null,e.pointStack=[],e.isMove=!1,e.onCanvasClick=e.onCanvasClick.bind(e),e.onCanvasMousemove=e.onCanvasMousemove.bind(e),e.onCanvasDbClick=e.onCanvasDbClick.bind(e),e}return W(e,t),e.booleanPointInData=function(t,e){return(e=J([],e.data,!0)).push(e[0]),t=_.zx7([t.x,t.y]),e=_.n1([e.map((function(t){return[t.x,t.y]}))]),_.mFO(t,e)},e.prototype.onCanvasClick=function(t){var e,n;t.stopPropagation(),this.context&&(e=this.context.getCanvasEl())&&(this.startPoint?(n=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),this.drawLine(this.startPoint,n),this.startPoint=n,this.startPoint&&this.pointStack.push(this.startPoint)):(null!=e&&e.addEventListener("mousemove",this.onCanvasMousemove),null!=e&&e.addEventListener("dblclick",this.onCanvasDbClick),this.startPoint=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),this.startPoint&&(this.pointStack.push(this.startPoint),this.trigger(o.DrawStart,{selectType:s.Polygon,actionType:l.Draw}))))},e.prototype.onCanvasMousemove=function(t){var e;this.context&&this.startPoint&&(e=this.context.getCanvasEl())&&(this.isMove=!0,this.context.clearDraw(),this.context.drawHistoryData(),this.drawStack(),this.drawLine(this.startPoint,f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()})))},e.prototype.onCanvasDbClick=function(t){this.isMove&&(this.end(),t.stopPropagation())},e.prototype.drawStack=function(){var t=this.pointStack;if(!(t.length<=1))for(var e=0;this.drawLine(t[e],t[e+1]),++e!=t.length-1;);},e.prototype.fill=function(){if(this.context){var t=this.pointStack,e=this.context.getCtx();if(e&&!(t.length<=1)){null!=e&&e.beginPath(),e.lineWidth=this.style.lineWidth,e.lineJoin=this.style.lineJoin,e.lineCap=this.style.lineCap,this.style.lineDash&&e.setLineDash(this.style.lineDash),e.lineDashOffset=this.style.lineDashOffset,e.strokeStyle=this.style.strokeStyle,e.fillStyle=this.style.fillStyle,e.globalAlpha=this.style.globalAlpha;for(var n=0;n<t.length;n++){var r=t[n];0===n?null!=e&&e.moveTo(r.x,r.y):null!=e&&e.lineTo(r.x,r.y)}e.closePath(),e.stroke(),e.fill()}}},e.prototype.drawLine=function(t,e){var n,r;this.context&&(n=this.style,r=this.context.getCtx())&&(r.beginPath(),r.moveTo(t.x,t.y),r.lineTo(e.x,e.y),r.strokeStyle=n.strokeStyle,n.lineDash&&r.setLineDash(n.lineDash),r.lineWidth=n.lineWidth/2,r.lineCap=n.lineCap,r.lineJoin=n.lineJoin,r.lineDashOffset=n.lineDashOffset,r.globalAlpha=1,r.closePath(),r.stroke())},e.draw=function(t,e){t&&e&&this.drawHistoryPath(t,e)},e.drawHistoryPath=function(t,e){var n;t.beginPath(),e.style&&(t.lineWidth=e.style.lineWidth,t.lineJoin=e.style.lineJoin,t.lineCap=e.style.lineCap,e.style.lineDash&&t.setLineDash(e.style.lineDash),t.lineDashOffset=e.style.lineDashOffset,t.strokeStyle=e.style.strokeStyle,t.fillStyle=e.style.fillStyle,t.globalAlpha=null!=(n=e.style.globalAlpha)?n:1),((null==e?void 0:e.data)||[]).forEach((function(e,n){0===n?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)})),t.closePath(),t.stroke(),t.fill()},e.prototype.start=function(e){var n,r;this.context&&![a.Running,a.Destroy].includes(this.status)&&(n=this.context)&&(r=n.getCanvasEl())&&(t.prototype.start.call(this,e),e&&(this.style=e),this.trigger(o.DrawBeforeStart,{selectType:s.Polygon,actionType:l.Draw}),null!=r&&r.addEventListener("mouseup",this.onCanvasClick),this.status=a.Running)},e.prototype.end=function(){var e,n=this.context;n&&(e=n.getCanvasEl())&&(null!=e&&e.removeEventListener("mouseup",this.onCanvasClick),null!=e&&e.removeEventListener("mousemove",this.onCanvasMousemove),null!=e&&e.removeEventListener("dblclick",this.onCanvasDbClick),n.clearDraw(),n.drawHistoryData(),this.fill(),this.status=a.End,e={id:f.A.uuid(),type:s.Polygon,data:J([],this.pointStack,!0),style:this.style},this.startPoint=null,this.pointStack=[],this.isMove=!1,n.addHistoryData(e),this.trigger(o.DrawEnd,{selectType:s.Polygon,actionType:l.Draw,data:e})),t.prototype.end.call(this)},e.prototype.destroy=function(){var e,n=this.context;n&&(e=n.getCanvasEl())&&(this.status===a.Running&&(n.clearDraw(),n.drawHistoryData()),null!=e&&e.removeEventListener("mouseup",this.onCanvasClick),null!=e&&e.removeEventListener("mousemove",this.onCanvasMousemove),null!=e&&e.removeEventListener("dblclick",this.onCanvasDbClick),this.startPoint=null,this.pointStack=[],this.isMove=!1,this.status=a.Destroy,this.trigger(o.Destroy,{selectType:s.Polygon,actionType:l.Draw})),t.prototype.destroy.call(this)},e}(k);const F=U;var X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z=function(t){function e(){var e=t.call(this)||this;return e.startPoint=null,e.leftTopPoint=null,e.width=0,e.height=0,e.isMove=!1,e.onCanvasMouseDown=e.onCanvasMouseDown.bind(e),e.onCanvasMouseMove=e.onCanvasMouseMove.bind(e),e.onCanvasMouseUp=e.onCanvasMouseUp.bind(e),e}return X(e,t),e.booleanPointInData=function(t,e){var n=(e=e.data).leftTopPoint,r=e.width;e=e.height,t=_.zx7([t.x,t.y]),r=_.n1([[[n.x,n.y],[n.x+r,n.y],[n.x+r,n.y+e],[n.x,n.y+e],[n.x,n.y]]]);return _.mFO(t,r)},e.prototype.draw=function(t){var e,n=(a=this).context,r=a.startPoint,a=a.style,o=null==n?void 0:n.getCtx();n&&o&&(e=null==(e=null==n?void 0:n.getCanvasEl)?void 0:e.call(n))&&(t=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),null!=(e=null==n?void 0:n.clearDraw)&&e.call(n),null!=(e=null==n?void 0:n.drawHistoryData)&&e.call(n),o.beginPath(),this.leftTopPoint=j.getRectLeftTopPoint({startPoint:r,targetPoint:t}),this.width=Math.abs(t.x-((null==r?void 0:r.x)||0)),this.height=Math.abs(t.y-((null==r?void 0:r.y)||0)),o.lineWidth=a.lineWidth,o.lineJoin=a.lineJoin,o.lineCap=a.lineCap,a.lineDash&&o.setLineDash(a.lineDash),o.lineDashOffset=a.lineDashOffset,o.strokeStyle=a.strokeStyle,o.fillStyle=a.fillStyle,o.globalAlpha=a.globalAlpha,o.rect((null==(e=this.leftTopPoint)?void 0:e.x)||0,(null==(n=this.leftTopPoint)?void 0:n.y)||0,this.width,this.height),o.closePath(),o.stroke(),o.fill())},e.prototype.onCanvasMouseDown=function(t){var e;this.context&&(e=this.context.getCanvasEl())&&(this.startPoint=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),null!=e&&e.addEventListener("mousemove",this.onCanvasMouseMove),null!=e)&&e.addEventListener("mouseup",this.onCanvasMouseUp)},e.prototype.onCanvasMouseMove=function(t){this.context&&(this.isMove=!0,this.draw(t),this.trigger(o.Drawing,{selectType:s.Rectangle,actionType:l.Draw,data:{id:f.A.uuid(),type:s.Rectangle,data:{leftTopPoint:this.leftTopPoint,width:this.width,height:this.height},style:this.style}}))},e.prototype.onCanvasMouseUp=function(t){this.isMove&&(this.end(t),t.stopPropagation())},e.draw=function(t,e){t&&e&&this.drawHistoryPath(t,e)},e.drawHistoryPath=function(t,e){var n;t.beginPath(),e.style&&(t.lineWidth=e.style.lineWidth,t.lineJoin=e.style.lineJoin,t.lineCap=e.style.lineCap,e.style.lineDash&&t.setLineDash(e.style.lineDash),t.lineDashOffset=e.style.lineDashOffset,t.strokeStyle=e.style.strokeStyle,t.fillStyle=e.style.fillStyle,t.globalAlpha=null!=(n=e.style.globalAlpha)?n:1),t.rect((null==(n=null==(n=null==e?void 0:e.data)?void 0:n.leftTopPoint)?void 0:n.x)||0,(null==(n=null==(n=null==e?void 0:e.data)?void 0:n.leftTopPoint)?void 0:n.y)||0,null==(n=null==e?void 0:e.data)?void 0:n.width,null==(n=null==e?void 0:e.data)?void 0:n.height),t.closePath(),t.stroke(),t.fill()},e.prototype.start=function(e){var n,r;this.context&&![a.Running,a.Destroy].includes(this.status)&&(r=null==(r=null==(n=this.context)?void 0:n.getCanvasEl)?void 0:r.call(n))&&(t.prototype.start.call(this,e),e&&(this.style=e),this.trigger(o.DrawBeforeStart,{selectType:s.Rectangle,actionType:l.Draw}),null!=r&&r.addEventListener("mousedown",this.onCanvasMouseDown),this.status=a.Running,this.trigger(o.DrawStart,{selectType:s.Rectangle,actionType:l.Draw}))},e.prototype.end=function(e){var n,r=this.context;r&&(n=r.getCanvasEl())&&(null!=n&&n.removeEventListener("mousedown",this.onCanvasMouseDown),null!=n&&n.removeEventListener("mousemove",this.onCanvasMouseMove),null!=n&&n.removeEventListener("mouseup",this.onCanvasMouseUp),e&&this.draw(e),this.status=a.End,n={id:f.A.uuid(),type:s.Rectangle,data:{leftTopPoint:this.leftTopPoint,width:this.width,height:this.height},style:this.style},r.addHistoryData(n),this.startPoint=null,this.leftTopPoint=null,this.width=0,this.height=0,this.isMove=!1,this.trigger(o.DrawEnd,{selectType:s.Rectangle,actionType:l.Draw,data:n})),t.prototype.end.call(this,e)},e.prototype.destroy=function(){var e,n=this.context;n&&(e=n.getCanvasEl())&&(this.status===a.Running&&(n.clearDraw(),n.drawHistoryData()),null!=e&&e.removeEventListener("mousedown",this.onCanvasMouseDown),null!=e&&e.removeEventListener("mousemove",this.onCanvasMouseMove),null!=e&&e.removeEventListener("mouseup",this.onCanvasMouseUp),this.startPoint=null,this.leftTopPoint=null,this.width=0,this.height=0,this.isMove=!1,this.status=a.Destroy,this.trigger(o.Destroy,{selectType:s.Rectangle,actionType:l.Draw})),t.prototype.destroy.call(this)},e}(k);const Q=Z;var Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(t){function e(){var e=t.call(this)||this;return e.centerPoint=null,e.outRadius=0,e.innerRadius=0,e.isMove=!1,e.onCanvasMouseDown=e.onCanvasMouseDown.bind(e),e.onCanvasMouseMove=e.onCanvasMouseMove.bind(e),e.onCanvasMouseUp=e.onCanvasMouseUp.bind(e),e}return Y(e,t),e.booleanPointInData=function(t,e){for(var n=(e=e.data).center,r=e.outRadius,a=e.innerRadius,o=(e=_.zx7([t.x,t.y]),[]),i=0;i<5;i++)o.push({x:Math.cos((18+72*i)/180*Math.PI)*r+n.x,y:-Math.sin((18+72*i)/180*Math.PI)*r+n.y}),o.push({x:Math.cos((54+72*i)/180*Math.PI)*a+n.x,y:-Math.sin((54+72*i)/180*Math.PI)*a+n.y});return(t=o.map((function(t){return[t.x,t.y]}))).push(t[0]),t=_.n1([t]),_.mFO(e,t)},e.drawStart=function(t){var e=t.ctx;if((t=t.data)&&e){for(var n=t.data,r=n.center,a=n.outRadius,o=n.innerRadius,i=t.style,s=(e.beginPath(),t.style&&(e.lineWidth=t.style.lineWidth,e.lineJoin=t.style.lineJoin,e.lineCap=t.style.lineCap,t.style.lineDash&&e.setLineDash(t.style.lineDash),e.lineDashOffset=t.style.lineDashOffset,e.strokeStyle=t.style.strokeStyle,e.fillStyle=t.style.fillStyle,e.globalAlpha=null!=(n=t.style.globalAlpha)?n:1),72),l=0;l<5;l++)i&&(e.lineWidth=i.lineWidth,e.lineJoin=i.lineJoin,e.lineCap=i.lineCap,i.lineDash&&e.setLineDash(i.lineDash),e.lineDashOffset=i.lineDashOffset,e.strokeStyle=i.strokeStyle,e.fillStyle=i.fillStyle,e.globalAlpha=i.globalAlpha),e.lineTo(Math.cos((18+l*s)/180*Math.PI)*a+r.x,-Math.sin((18+l*s)/180*Math.PI)*a+r.y),e.lineTo(Math.cos((54+l*s)/180*Math.PI)*o+r.x,-Math.sin((54+l*s)/180*Math.PI)*o+r.y);e.closePath(),e.stroke(),e.fill()}},e.prototype.draw=function(t){var n,r=this.context,a=this.centerPoint,o=null==r?void 0:r.getCtx();r&&a&&o&&(n=r.getCanvasEl())&&this.centerPoint&&(t=f.A.clientToCtxPoint({event:t,rect:null==n?void 0:n.getBoundingClientRect()}),r.clearDraw(),r.drawHistoryData(),this.outRadius=f.A.getDistanceByBetweenPoint({p1:a,p2:t}),this.innerRadius=this.outRadius/2,e.drawStart({ctx:o,data:{data:{center:this.centerPoint,outRadius:this.outRadius,innerRadius:this.innerRadius},style:this.style}}))},e.prototype.onCanvasMouseDown=function(t){var e;this.context&&(e=this.context.getCanvasEl())&&(this.centerPoint=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),null!=e&&e.addEventListener("mousemove",this.onCanvasMouseMove),null!=e)&&e.addEventListener("mouseup",this.onCanvasMouseUp)},e.prototype.onCanvasMouseMove=function(t){this.context&&(this.isMove=!0,this.draw(t),this.trigger(o.Drawing,{selectType:s.Start,actionType:l.Draw,data:{id:f.A.uuid(),type:s.Start,data:{center:this.centerPoint,outRadius:this.outRadius,innerRadius:this.innerRadius},style:this.style}}))},e.prototype.onCanvasMouseUp=function(t){this.isMove&&(this.end(t),t.stopPropagation())},e.draw=function(t,e){t&&e&&this.drawHistoryPath(t,e)},e.drawHistoryPath=function(t,n){n&&e.drawStart({ctx:t,data:n})},e.prototype.start=function(e){var n,r;this.context&&![a.Running,a.Destroy].includes(this.status)&&(r=null==(r=null==(n=this.context)?void 0:n.getCanvasEl)?void 0:r.call(n))&&(t.prototype.start.call(this,e),e&&(this.style=e),this.trigger(o.DrawBeforeStart,{selectType:s.Start,actionType:l.Draw}),null!=r&&r.addEventListener("mousedown",this.onCanvasMouseDown),this.status=a.Running,this.trigger(o.DrawStart,{selectType:s.Start,actionType:l.Draw}))},e.prototype.end=function(e){var n,r=this.context;r&&(n=null==(n=null==r?void 0:r.getCanvasEl)?void 0:n.call(r))&&this.centerPoint&&this.outRadius&&this.innerRadius&&(null!=n&&n.removeEventListener("mousedown",this.onCanvasMouseDown),null!=n&&n.removeEventListener("mousemove",this.onCanvasMouseMove),null!=n&&n.removeEventListener("mouseup",this.onCanvasMouseUp),e&&this.draw(e),this.status=a.End,n={id:f.A.uuid(),type:s.Start,data:{center:this.centerPoint,outRadius:this.outRadius,innerRadius:this.innerRadius},style:this.style},r.addHistoryData(n),this.centerPoint=null,this.outRadius=0,this.innerRadius=0,this.isMove=!1,this.trigger(o.DrawEnd,{selectType:s.Start,actionType:l.Draw,data:n})),t.prototype.end.call(this,e)},e.prototype.destroy=function(){var e,n=this.context;n&&(e=n.getCanvasEl())&&(this.status===a.Running&&(n.clearDraw(),n.drawHistoryData()),null!=e&&e.removeEventListener("mousedown",this.onCanvasMouseDown),null!=e&&e.removeEventListener("mousemove",this.onCanvasMouseMove),null!=e&&e.removeEventListener("mouseup",this.onCanvasMouseUp),this.centerPoint=null,this.outRadius=0,this.innerRadius=0,this.isMove=!1,this.status=a.Destroy,this.trigger(o.Destroy,{selectType:s.Start,actionType:l.Draw})),t.prototype.destroy.call(this)},e}(k);const $=K;var tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||((r=r||Array.prototype.slice.call(e,0,a))[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))},nt=function(t){function e(){var e=t.call(this)||this;return e.startPoint=null,e.points=[],e.isMove=!1,e.onCanvasMouseDown=e.onCanvasMouseDown.bind(e),e.onCanvasMouseMove=e.onCanvasMouseMove.bind(e),e.onCanvasMouseUp=e.onCanvasMouseUp.bind(e),e}return tt(e,t),e.booleanPointInData=function(t,e){return(e=et([],e.data.points||[],!0)).push(e[0]),t=_.zx7([t.x,t.y]),e=_.n1([e.map((function(t){return[t.x,t.y]}))]),_.mFO(t,e)},e.prototype.draw=function(t){var e,n=(a=this).context,r=a.startPoint,a=a.style,o=null==n?void 0:n.getCtx();n&&o&&(e=null==n?void 0:n.getCanvasEl())&&(t=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),null!=n&&n.clearDraw(),null!=n&&n.drawHistoryData(),o.beginPath(),o.lineWidth=a.lineWidth,o.lineJoin=a.lineJoin,o.lineCap=a.lineCap,a.lineDash&&o.setLineDash(a.lineDash),o.lineDashOffset=a.lineDashOffset,o.strokeStyle=a.strokeStyle,o.fillStyle=a.fillStyle,o.globalAlpha=a.globalAlpha,this.points=j.triangle({startPoint:r,targetPoint:t}),o.moveTo(this.points[0].x,this.points[0].y),o.lineTo(this.points[1].x,this.points[1].y),o.lineTo(this.points[2].x,this.points[2].y),o.closePath(),o.stroke(),o.fill())},e.prototype.onCanvasMouseDown=function(t){var e;this.context&&(e=this.context.getCanvasEl())&&(this.startPoint=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),null!=e&&e.addEventListener("mousemove",this.onCanvasMouseMove),null!=e)&&e.addEventListener("mouseup",this.onCanvasMouseUp)},e.prototype.onCanvasMouseMove=function(t){this.context&&(this.isMove=!0,this.draw(t),this.trigger(o.Drawing,{selectType:s.Triangle,actionType:l.Draw,data:{id:f.A.uuid(),type:s.Triangle,data:{points:JSON.parse(JSON.stringify(this.points))},style:this.style}}))},e.prototype.onCanvasMouseUp=function(t){this.isMove&&(this.end(t),t.stopPropagation())},e.draw=function(t,e){t&&e&&this.drawHistoryPath(t,e)},e.drawHistoryPath=function(t,e){var n;t.beginPath(),e.style&&(t.lineWidth=e.style.lineWidth,t.lineJoin=e.style.lineJoin,t.lineCap=e.style.lineCap,e.style.lineDash&&t.setLineDash(e.style.lineDash),t.lineDashOffset=e.style.lineDashOffset,t.strokeStyle=e.style.strokeStyle,t.fillStyle=e.style.fillStyle,t.globalAlpha=null!=(n=e.style.globalAlpha)?n:1),t.moveTo(e.data.points[0].x,e.data.points[0].y),t.lineTo(e.data.points[1].x,e.data.points[1].y),t.lineTo(e.data.points[2].x,e.data.points[2].y),t.closePath(),t.stroke(),t.fill()},e.prototype.start=function(e){var n,r;this.context&&![a.Running,a.Destroy].includes(this.status)&&(r=null==(r=null==(n=this.context)?void 0:n.getCanvasEl)?void 0:r.call(n))&&(t.prototype.start.call(this,e),e&&(this.style=e),this.trigger(o.DrawBeforeStart,{selectType:s.Triangle,actionType:l.Draw}),null!=r&&r.addEventListener("mousedown",this.onCanvasMouseDown),this.status=a.Running,this.trigger(o.DrawStart,{selectType:s.Triangle,actionType:l.Draw}))},e.prototype.end=function(e){var n,r=this.context;r&&(n=r.getCanvasEl())&&(null!=n&&n.removeEventListener("mousedown",this.onCanvasMouseDown),null!=n&&n.removeEventListener("mousemove",this.onCanvasMouseMove),null!=n&&n.removeEventListener("mouseup",this.onCanvasMouseUp),e&&this.draw(e),this.status=a.End,n={id:f.A.uuid(),type:s.Triangle,data:{points:JSON.parse(JSON.stringify(this.points))},style:this.style},r.addHistoryData(n),this.startPoint=null,this.points=[],this.isMove=!1,this.trigger(o.DrawEnd,{selectType:s.Triangle,actionType:l.Draw,data:n})),t.prototype.end.call(this,e)},e.prototype.destroy=function(){var e,n=this.context;n&&(e=n.getCanvasEl())&&(this.status===a.Running&&(n.clearDraw(),n.drawHistoryData()),null!=e&&e.removeEventListener("mousedown",this.onCanvasMouseDown),null!=e&&e.removeEventListener("mousemove",this.onCanvasMouseMove),null!=e&&e.removeEventListener("mouseup",this.onCanvasMouseUp),this.startPoint=null,this.points=[],this.isMove=!1,this.status=a.Destroy,this.trigger(o.Destroy,{selectType:s.Triangle,actionType:l.Draw})),t.prototype.destroy.call(this)},e}(k);const rt=nt;var at=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ot=function(){return(ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},it=function(t){function e(e){var n=t.call(this)||this;return n.context=null,n.startPoint=null,n.startIndex=-1,n.data=null,n.status=a.UnStart,n.EmitActions={CONTEXT:"CONTEXT"},n.anchorRadius=5,n.anchorLineWidth=2,n.moveStartPoint=null,n.canMove=!1,n.isMoved=!1,n.style=ot({},S),n.anchorStyle=ot({},E),n.moveGemStyle=ot({},b),n.data=e,n.onContext=n.onContext.bind(n),n.onCanvasMousedown=n.onCanvasMousedown.bind(n),n.onCanvasMousemove=n.onCanvasMousemove.bind(n),n.onCanvasMouseup=n.onCanvasMouseup.bind(n),n.onCanvasIsModifyMousemove=n.onCanvasIsModifyMousemove.bind(n),n.onMoveMousedown=n.onMoveMousedown.bind(n),n.onMoveMousemove=n.onMoveMousemove.bind(n),n.onMoveMouseup=n.onMoveMouseup.bind(n),n.on(n.EmitActions.CONTEXT,n.onContext),n}return at(e,t),e.prototype.getAnchorStyle=function(){return ot({},this.anchorStyle)},e.prototype.getStyle=function(){return ot({},this.style)},e.prototype.getMoveGemStyle=function(){return ot({},this.moveGemStyle)},e.prototype.setAnchorStyle=function(t){this.anchorStyle=ot(ot({},E),null!=t?t:{})},e.prototype.setStyle=function(t){this.style=ot(ot({},S),null!=t?t:{})},e.prototype.setMoveGemStyle=function(t){this.moveGemStyle=ot(ot({},b),null!=t?t:{})},e.prototype.setAnchorCircleStyle=function(){var t;this.context&&(t=this.context.getCtx())&&(t.strokeStyle=this.anchorStyle.strokeStyle,t.fillStyle=this.anchorStyle.fillStyle,t.lineWidth=this.anchorStyle.lineWidth,t.globalAlpha=this.anchorStyle.globalAlpha)},e.prototype.setAnchorLineStyle=function(){var t;this.context&&(t=this.context.getCtx())&&(t.strokeStyle=this.anchorStyle.strokeStyle,t.lineWidth=this.anchorStyle.lineWidth,t.setLineDash(this.anchorStyle.lineDash),t.lineDashOffset=this.anchorStyle.lineDashOffset)},e.prototype.onContext=function(){this.drawAnchors()},e.prototype.onCanvasMousedown=function(t){var e;this.context&&(e=this.context.getCanvasEl())&&this.context.getCtx()&&(t=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),t=this.getPointInAnchor(t))&&(this.startPoint=t.point,this.startIndex=t.index,e.addEventListener("mousemove",this.onCanvasMousemove),e.addEventListener("mouseup",this.onCanvasMouseup))},e.prototype.onCanvasMousemove=function(t){var e;t.stopPropagation(),this.context&&(e=this.context.getCanvasEl())&&this.context.getCtx()&&this.startPoint&&(t=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),this.drawModify(t),this.trigger(o.Modifying,this.data))},e.prototype.onCanvasMouseup=function(t){this.end(t),t.stopPropagation()},e.prototype.onCanvasIsModifyMousemove=function(t){var e,n;this.context&&(e=this.context.getCanvasEl(),n=this.context.getAssistCanvasEl(),e)&&n&&(this.startPoint||this.moveStartPoint||(t=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),(t=this.getPointInAnchor(t))?this.setResizeCursorByIndex(t.index):e.style.cursor=n.style.cursor="default"))},e.prototype.initMoveEvents=function(){var t,e=this.context;e&&(t=e.getCanvasEl(),e=e.getAssistCanvasEl(),t)&&e&&(t.addEventListener("mousedown",this.onMoveMousedown),t.addEventListener("mousemove",this.onMoveMousemove),e.addEventListener("mousemove",this.onMoveMousemove),e.addEventListener("mouseup",this.onMoveMouseup))},e.prototype.clearMoveEvents=function(){var t,e=this.context;e&&(t=e.getCanvasEl(),e=e.getAssistCanvasEl(),t)&&e&&(t.removeEventListener("mousedown",this.onMoveMousedown),t.removeEventListener("mousemove",this.onMoveMousemove),e.removeEventListener("mousemove",this.onMoveMousemove),e.removeEventListener("mouseup",this.onMoveMouseup))},e.prototype.onMoveMousedown=function(t){var e,n,r;t&&(e=this.context)&&(n=e.getCanvasEl(),r=e.getAssistCanvasEl(),n)&&r&&this.canMove&&(e.setFrontCanvas(r),this.moveStartPoint=f.A.clientToCtxPoint({event:t,rect:n.getBoundingClientRect()}),this.drawMoveGeometry())},e.prototype.onMoveMousemove=function(t){var e,n,r;t&&(r=this.context)&&(e=r.getCanvasEl(),n=r.getAssistCanvasEl(),e)&&n&&(t=f.A.clientToCtxPoint({event:t,rect:e.getBoundingClientRect()}),this.moveStartPoint?(this.isMoved=!0,r.clearAssistDraw(),r=this.drawMoveGeometry(this.moveStartPoint,t),this.trigger(o.Moving,{selectType:this.getSelectType(),actionType:l.Move,data:r})):(this.canMove=this.isCanMove(t),r=n.style.cursor,e.style.cursor=n.style.cursor=this.canMove?"move":r))},e.prototype.onMoveMouseup=function(t){var e,n,r;t&&(e=this.context)&&(r=e.getCanvasEl(),n=e.getAssistCanvasEl(),r)&&n&&(this.canMove&&this.isMoved&&this.moveStartPoint?(e.setBackCanvas(n),r=f.A.clientToCtxPoint({event:t,rect:r.getBoundingClientRect()}),e.clearAssistDraw(),this.drawMove(this.moveStartPoint,r),this.canMove=!1,this.isMoved=!1,this.moveStartPoint=null,t.stopPropagation(),this.trigger(o.MoveEnd,this.data)):(e.setBackCanvas(n),this.canMove=!1,this.isMoved=!1,this.moveStartPoint=null))},e.prototype.start=function(){var t,e,n;this.context&&![a.Running,a.Destroy].includes(this.status)&&(e=null==(e=null==(t=this.context)?void 0:t.getCanvasEl)?void 0:e.call(t),n=null==(n=null==t?void 0:t.getAssistCanvasEl)?void 0:n.call(t),e)&&n&&(e.style.cursor=n.style.cursor="default",this.trigger(o.ModifyBeforeStart,{selectType:this.getSelectType(),actionType:l.Modify}),e.addEventListener("mousedown",this.onCanvasMousedown),e.addEventListener("mousemove",this.onCanvasIsModifyMousemove),this.initMoveEvents(),this.status=a.Running,this.trigger(o.ModifyStart,{selectType:this.getSelectType(),actionType:l.Modify}))},e.prototype.end=function(t){var e,n;t&&(n=this.context)&&(e=n.getCanvasEl(),n=n.getAssistCanvasEl(),e)&&n&&(e.style.cursor=n.style.cursor="default",e.removeEventListener("mousedown",this.onCanvasMousedown),e.removeEventListener("mousemove",this.onCanvasMousemove),e.removeEventListener("mouseup",this.onCanvasMouseup),e.removeEventListener("mousemove",this.onCanvasIsModifyMousemove),this.clearMoveEvents(),t=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),this.drawModify(t),this.status=a.End,this.startPoint=null,this.trigger(o.ModifyEnd,this.data),e.style.cursor=n.style.cursor="default")},e.prototype.destroy=function(){var t,e,n=this.context;n&&(t=n.getCanvasEl(),e=n.getAssistCanvasEl(),t)&&e&&(t.style.cursor=e.style.cursor="default",this.remove(this.EmitActions.CONTEXT,this.onContext),t.removeEventListener("mousedown",this.onCanvasMousedown),t.removeEventListener("mousemove",this.onCanvasMousemove),t.removeEventListener("mouseup",this.onCanvasMouseup),t.removeEventListener("mousemove",this.onCanvasIsModifyMousemove),this.clearMoveEvents(),n.clearDraw(),n.drawHistoryData(),this.status=a.Destroy,this.startPoint=null,this.trigger(o.Destroy,{selectType:this.getSelectType(),actionType:l.Modify}),t.style.cursor=e.style.cursor="default")},e.prototype.setContext=function(t){this.context=t,this.trigger(this.EmitActions.CONTEXT)},e.prototype.getStatus=function(){return this.status},e}(v.A.Events);const st=it;var lt,ct=(lt=function(t,e){return(lt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ut=function(){return(ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},dt=function(t){function e(e){return(e=t.call(this,e)||this).ResizeCursorMapping=new Map([[0,"ns-resize"],[1,"ew-resize"],[2,"ns-resize"],[3,"ew-resize"]]),e}return ct(e,t),e.prototype.drawAnchors=function(){if(this.context){var t=this.context.getCtx();if(t)for(var e=(n=null==(n=null==(n=null==this?void 0:this.data)?void 0:n.data)?void 0:n.data).center,n=n.radius,r=[{x:e.x,y:e.y-n},{x:e.x+n,y:e.y},{x:e.x,y:e.y+n},{x:e.x-n,y:e.y}],a=0;a<r.length;a++){var o=r[a];t.beginPath(),this.setAnchorCircleStyle(),t.ellipse(o.x,o.y,this.anchorRadius,this.anchorRadius,45*Math.PI/180,0,2*Math.PI),t.closePath(),t.stroke(),t.fill()}}},e.prototype.getPointInAnchor=function(t){if(!this.data)return null;for(var e=null,n=-1,r=(a=null==(a=null==(a=null==this?void 0:this.data)?void 0:a.data)?void 0:a.data).center,a=a.radius,o=[{x:r.x,y:r.y-a},{x:r.x+a,y:r.y},{x:r.x,y:r.y+a},{x:r.x-a,y:r.y}],i=0;i<o.length;i++){var s=o[i],l=this.anchorRadius+this.anchorLineWidth;if(f.A.isPointInCircle(t,{center:s,radius:l})){e=s,n=i;break}}return e&&-1!==n?{point:e,index:n}:null},e.prototype.setResizeCursorByIndex=function(t){var e,n;this.context&&(e=this.context.getCanvasEl(),n=this.context.getAssistCanvasEl(),e)&&n&&(e.style.cursor=n.style.cursor=this.ResizeCursorMapping.get(t))},e.prototype.drawModify=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();n&&r&&this.data&&this.startPoint&&(r=n.getHistoryDataById(this.data.data.id))&&(e=r.data.center,r.data.radius=f.A.getDistanceByBetweenPoint({p1:e,p2:t}),this.data.data=r,n.clearDraw(),n.drawHistoryData(),this.drawAnchors())},e.prototype.drawMove=function(t,e){var n,r=this.context,a=null==r?void 0:r.getCtx();r&&a&&this.data&&(a=r.getHistoryDataById(this.data.data.id))&&(n=e.x-t.x,e=e.y-t.y,a.data.center.x+=n,a.data.center.y+=e,this.data.data=a,r.clearDraw(),r.drawHistoryData(),this.drawAnchors())},e.prototype.getSelectType=function(){return s.Circle},e.prototype.isCanMove=function(t){var e,n;return!!this.data&&(e=(n=null==(n=null==(n=null==this?void 0:this.data)?void 0:n.data)?void 0:n.data).center,n=n.radius,f.A.isPointInCircle(t,{center:e,radius:n}))&&!this.getPointInAnchor(t)},e.prototype.drawMoveGeometry=function(){this.context&&this.data&&H.draw(this.context.getAssistCtx(),this.data)},e.prototype.drawMoveGeometry=function(t,e){var n,r;return this.context&&this.data&&t&&e?((n=JSON.parse(JSON.stringify(this.data.data))).data=ut(ut({},n.data),{center:ut({},n.data.center)}),r=e.x-t.x,e=e.y-t.y,n.data&&n.data.center&&(n.data.center.x+=r,n.data.center.y+=e,r=ut(ut({},this.moveGemStyle),null!=(t=n.style)?t:{}),n.style.lineWidth=r.lineWidth,n.style.lineJoin=r.lineJoin,n.style.lineCap=r.lineCap,n.lineDash=r.lineDash,n.style.lineDashOffset=r.lineDashOffset,n.style.strokeStyle=r.strokeStyle,n.style.fillStyle=r.fillStyle,n.style.globalAlpha=null!=(e=r.globalAlpha)?e:1,H.draw(this.context.getAssistCtx(),n)),n):null},e}(st);const pt=dt;var yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ht=function(){return(ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},ft=function(t){function e(e){return(e=t.call(this,e)||this).rectangleAnchorPoints=[],e.indexToModifyHandlerMapping=new Map([[0,e.modifyDataByLeftTop],[1,e.modifyDataByCenterTop],[2,e.modifyDataByRightTop],[3,e.modifyDataByRightCenter],[4,e.modifyDataByRightBottom],[5,e.modifyDataByCenterBottom],[6,e.modifyDataByLeftBottom],[7,e.modifyDataByLeftCenter]]),e.ResizeCursorMapping=new Map([[0,"nwse-resize"],[1,"ns-resize"],[2,"nesw-resize"],[3,"ew-resize"],[4,"nwse-resize"],[5,"ns-resize"],[6,"nesw-resize"],[7,"ew-resize"]]),e}return yt(e,t),e.prototype.drawAnchors=function(){if(this.context){var t=this.context.getCtx();if(t){var e,n=(e=null==(e=null==(e=null==this?void 0:this.data)?void 0:e.data)?void 0:e.data).leftTopPoint,r=e.width,a=r/2,o=(e=e.height)/2;this.rectangleAnchorPoints=[ht({},n),{x:n.x+a,y:n.y},{x:n.x+r,y:n.y},{x:n.x+r,y:n.y+o},{x:n.x+r,y:n.y+e},{x:n.x+a,y:n.y+e},{x:n.x,y:n.y+e},{x:n.x,y:n.y+o}];for(var i=0;i<this.rectangleAnchorPoints.length;i++){var s=this.rectangleAnchorPoints[i];t.beginPath(),this.setAnchorCircleStyle(),t.ellipse(s.x,s.y,this.anchorRadius,this.anchorRadius,45*Math.PI/180,0,2*Math.PI),t.closePath(),t.stroke(),t.fill()}t.beginPath(),this.setAnchorLineStyle(),t.moveTo(n.x,n.y),t.lineTo(n.x+r,n.y),t.lineTo(n.x+r,n.y+e),t.lineTo(n.x,n.y+e),t.lineTo(n.x,n.y),t.closePath(),t.stroke()}}},e.prototype.getPointInAnchor=function(t){if(!this.data)return null;for(var e=null,n=-1,r=0;r<this.rectangleAnchorPoints.length;r++){var a=this.rectangleAnchorPoints[r],o=this.anchorRadius+this.anchorLineWidth;if(f.A.isPointInCircle(t,{center:a,radius:o})){e=a,n=r;break}}return e&&-1!==n?{point:e,index:n}:null},e.prototype.setResizeCursorByIndex=function(t){var e,n;this.context&&(e=this.context.getCanvasEl(),n=this.context.getAssistCanvasEl(),e)&&n&&(e.style.cursor=n.style.cursor=this.ResizeCursorMapping.get(t))},e.prototype.drawModify=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();n&&r&&this.data&&this.startPoint&&(r=n.getHistoryDataById(this.data.data.id))&&(e=this.indexToModifyHandlerMapping.get(this.startIndex))&&e.call(this,t)&&(this.data.data=r,n.clearDraw(),n.drawHistoryData(),this.drawAnchors())},e.prototype.drawMove=function(t,e){var n,r=this.context,a=null==r?void 0:r.getCtx();r&&a&&this.data&&(a=r.getHistoryDataById(this.data.data.id))&&(n=e.x-t.x,e=e.y-t.y,a.data.leftTopPoint.x+=n,a.data.leftTopPoint.y+=e,this.data.data=a,r.clearDraw(),r.drawHistoryData(),this.drawAnchors())},e.prototype.getSelectType=function(){return s.Diamond},e.prototype.getBox=function(){var t,e=this.context,n=null==e?void 0:e.getCtx();return e&&n&&this.data&&(n=e.getHistoryDataById(this.data.data.id))?(n=(e=n.data).leftTopPoint,t=e.width,e=e.height,{leftTop:ht({},n),rightTop:{x:n.x+t,y:n.y},rightBottom:{x:n.x+t,y:n.y+e},leftBottom:{x:n.x,y:n.y+e}}):null},e.prototype.modifyDataByLeftTop=function(t){var e=this.context,n=null==e?void 0:e.getCtx();return!(!(e&&n&&this.data&&this.startPoint)||!(n=e.getHistoryDataById(this.data.data.id))||!(e=this.getBox())||t.x>e.rightTop.x||t.y>e.rightBottom.y||(n.data.leftTopPoint=t,n.data.width=e.rightTop.x-t.x,n.data.height=e.rightBottom.y-t.y,0))},e.prototype.modifyDataByCenterTop=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();return!(!(n&&r&&this.data&&this.startPoint)||!(r=n.getHistoryDataById(this.data.data.id))||(n=r.data.width,!(e=this.getBox()))||t.y>e.leftBottom.y||(r.data.leftTopPoint={x:e.leftTop.x,y:t.y},r.data.width=n,r.data.height=e.rightBottom.y-t.y,0))},e.prototype.modifyDataByRightTop=function(t){var e=this.context,n=null==e?void 0:e.getCtx();return!(!(e&&n&&this.data&&this.startPoint)||!(n=e.getHistoryDataById(this.data.data.id))||!(e=this.getBox())||t.x<e.leftTop.x||t.y>e.leftBottom.y||(n.data.leftTopPoint={x:e.leftTop.x,y:t.y},n.data.width=t.x-e.leftTop.x,n.data.height=e.rightBottom.y-t.y,0))},e.prototype.modifyDataByRightCenter=function(t){var e,n,r=this.context,a=null==r?void 0:r.getCtx();return!(!(r&&a&&this.data&&this.startPoint)||!(a=r.getHistoryDataById(this.data.data.id))||(e=(r=a.data).leftTopPoint,r=r.height,!(n=this.getBox()))||t.x<n.leftTop.x||(a.data.leftTopPoint=ht({},e),a.data.width=t.x-n.leftTop.x,a.data.height=r,0))},e.prototype.modifyDataByRightBottom=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();return!(!(n&&r&&this.data&&this.startPoint)||!(r=n.getHistoryDataById(this.data.data.id))||(n=r.data.leftTopPoint,!(e=this.getBox()))||t.x<e.leftTop.x||t.y<e.leftTop.y||(r.data.leftTopPoint=ht({},n),r.data.width=t.x-e.leftTop.x,r.data.height=t.y-e.leftTop.y,0))},e.prototype.modifyDataByCenterBottom=function(t){var e,n,r=this.context,a=null==r?void 0:r.getCtx();return!(!(r&&a&&this.data&&this.startPoint)||!(a=r.getHistoryDataById(this.data.data.id))||(e=(r=a.data).leftTopPoint,r=r.width,!(n=this.getBox()))||t.y<n.leftTop.y||(a.data.leftTopPoint=ht({},e),a.data.width=r,a.data.height=t.y-n.leftTop.y,0))},e.prototype.modifyDataByLeftBottom=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();return!(!(n&&r&&this.data&&this.startPoint)||!(r=n.getHistoryDataById(this.data.data.id))||(n=r.data.leftTopPoint,!(e=this.getBox()))||t.x>e.rightBottom.x||t.y<e.rightTop.y||(r.data.leftTopPoint={x:t.x,y:n.y},r.data.width=e.rightBottom.x-t.x,r.data.height=t.y-e.rightTop.y,0))},e.prototype.modifyDataByLeftCenter=function(t){var e,n,r=this.context,a=null==r?void 0:r.getCtx();return!(!(r&&a&&this.data&&this.startPoint)||!(a=r.getHistoryDataById(this.data.data.id))||(e=(r=a.data).leftTopPoint,r=r.height,!(n=this.getBox()))||t.x>n.rightBottom.x||(a.data.leftTopPoint={x:t.x,y:e.y},a.data.width=n.rightBottom.x-t.x,a.data.height=r,0))},e.prototype.isCanMove=function(t){var e,n,r,a,o,i;return!!this.data&&(e=(n=null==(n=null==(n=null==this?void 0:this.data)?void 0:n.data)?void 0:n.data).leftTopPoint,r=(i=n.width)/2,a=(n=n.height)/2,o=_.zx7([t.x,t.y]),i=_.n1([[[e.x,e.y+a],[e.x+r,e.y],[e.x+i,e.y+a],[e.x+r,e.y+n],[e.x,e.y+a]]]),_.mFO(o,i))&&!this.getPointInAnchor(t)},e.prototype.drawMoveGeometry=function(){this.context&&this.data&&G.draw(this.context.getAssistCtx(),this.data)},e.prototype.drawMoveGeometry=function(t,e){var n,r;return this.context&&this.data&&t&&e?((n=JSON.parse(JSON.stringify(this.data.data))).data=ht(ht({},n.data),{leftTopPoint:ht({},n.data.leftTopPoint)}),r=e.x-t.x,e=e.y-t.y,n.data&&n.data.leftTopPoint&&(n.data.leftTopPoint.x+=r,n.data.leftTopPoint.y+=e,r=ht(ht({},this.moveGemStyle),null!=(t=n.style)?t:{}),n.style.lineWidth=r.lineWidth,n.style.lineJoin=r.lineJoin,n.style.lineCap=r.lineCap,n.lineDash=r.lineDash,n.style.lineDashOffset=r.lineDashOffset,n.style.strokeStyle=r.strokeStyle,n.style.fillStyle=r.fillStyle,n.style.globalAlpha=null!=(e=r.globalAlpha)?e:1,G.draw(this.context.getAssistCtx(),n)),n):null},e.prototype.destroy=function(){this.startIndex=-1,t.prototype.destroy.call(this)},e}(st);const vt=ft;var mt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gt=function(){return(gt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},xt=function(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||((r=r||Array.prototype.slice.call(e,0,a))[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))},Dt=function(t){function e(e){return(e=t.call(this,e)||this).startIndex=-1,e}return mt(e,t),e.prototype.drawAnchors=function(){var t;if(this.context){var e=this.context.getCtx();if(e)for(var n=(null==(t=null==(t=null==this?void 0:this.data)?void 0:t.data)?void 0:t.data)||[],r=0;r<n.length;r++){var a=n[r];e.beginPath(),this.setAnchorCircleStyle(),e.ellipse(a.x,a.y,this.anchorRadius,this.anchorRadius,45*Math.PI/180,0,2*Math.PI),e.closePath(),e.stroke(),e.fill()}}},e.prototype.getPointInAnchor=function(t){if(!this.data)return null;for(var e=null,n=-1,r=this.data.data.data,a=0;a<r.length;a++){var o=r[a],i=this.anchorRadius+this.anchorLineWidth;if(f.A.isPointInCircle(t,{center:o,radius:i})){e=o,n=a;break}}return e&&-1!==n?{point:e,index:n}:null},e.prototype.setResizeCursorByIndex=function(t){var e,n;this.context&&(e=this.context.getCanvasEl(),n=this.context.getAssistCanvasEl(),e)&&n&&(e.style.cursor=n.style.cursor="nesw-resize")},e.prototype.drawModify=function(t){var e=this.context,n=null==e?void 0:e.getCtx();e&&n&&this.data&&this.startPoint&&-1!==this.startIndex&&(n=e.getHistoryDataById(this.data.data.id))&&(n.data[this.startIndex]=t,this.data.data=n,e.clearDraw(),e.drawHistoryData(),this.drawAnchors())},e.prototype.drawMove=function(t,e){var n,r,a=this.context,o=null==a?void 0:a.getCtx();a&&o&&this.data&&(o=a.getHistoryDataById(this.data.data.id))&&(n=e.x-t.x,r=e.y-t.y,o.data.forEach((function(t){t.x+=n,t.y+=r})),this.data.data=o,a.clearDraw(),a.drawHistoryData(),this.drawAnchors())},e.prototype.getSelectType=function(){return s.Polygon},e.prototype.isCanMove=function(t){var e,n;return!!this.data&&((n=xt([],null==(n=null==(n=null==this?void 0:this.data)?void 0:n.data)?void 0:n.data,!0)).push(n[0]),e=_.zx7([t.x,t.y]),n=_.n1([n.map((function(t){return[t.x,t.y]}))]),_.mFO(e,n))&&!this.getPointInAnchor(t)},e.prototype.drawMoveGeometry=function(){this.context&&this.data&&F.draw(this.context.getAssistCtx(),this.data)},e.prototype.drawMoveGeometry=function(t,e){var n,r,a;return this.context&&this.data&&t&&e?((n=JSON.parse(JSON.stringify(this.data.data))).data=n.data.map((function(t){return gt({},t)})),r=e.x-t.x,a=e.y-t.y,n.data&&n.data.length&&(n.data.forEach((function(t){t.x+=r,t.y+=a})),t=gt(gt({},this.moveGemStyle),null!=(e=n.style)?e:{}),n.style.lineWidth=t.lineWidth,n.style.lineJoin=t.lineJoin,n.style.lineCap=t.lineCap,n.lineDash=t.lineDash,n.style.lineDashOffset=t.lineDashOffset,n.style.strokeStyle=t.strokeStyle,n.style.fillStyle=t.fillStyle,n.style.globalAlpha=null!=(e=t.globalAlpha)?e:1,F.draw(this.context.getAssistCtx(),n)),n):null},e}(st);const Ct=Dt;var wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mt=function(){return(Mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Pt=function(t){function e(e){return(e=t.call(this,e)||this).rectangleAnchorPoints=[],e.indexToModifyHandlerMapping=new Map([[0,e.modifyDataByLeftTop],[1,e.modifyDataByCenterTop],[2,e.modifyDataByRightTop],[3,e.modifyDataByRightCenter],[4,e.modifyDataByRightBottom],[5,e.modifyDataByCenterBottom],[6,e.modifyDataByLeftBottom],[7,e.modifyDataByLeftCenter]]),e.ResizeCursorMapping=new Map([[0,"nwse-resize"],[1,"ns-resize"],[2,"nesw-resize"],[3,"ew-resize"],[4,"nwse-resize"],[5,"ns-resize"],[6,"nesw-resize"],[7,"ew-resize"]]),e}return wt(e,t),e.prototype.drawAnchors=function(){if(this.context){var t=this.context.getCtx();if(t){var e,n=(e=null==(e=null==(e=null==this?void 0:this.data)?void 0:e.data)?void 0:e.data).leftTopPoint,r=e.width,a=r/2,o=(e=e.height)/2;this.rectangleAnchorPoints=[Mt({},n),{x:n.x+a,y:n.y},{x:n.x+r,y:n.y},{x:n.x+r,y:n.y+o},{x:n.x+r,y:n.y+e},{x:n.x+a,y:n.y+e},{x:n.x,y:n.y+e},{x:n.x,y:n.y+o}];for(var i=0;i<this.rectangleAnchorPoints.length;i++){var s=this.rectangleAnchorPoints[i];t.beginPath(),this.setAnchorCircleStyle(),t.ellipse(s.x,s.y,this.anchorRadius,this.anchorRadius,45*Math.PI/180,0,2*Math.PI),t.closePath(),t.stroke(),t.fill()}}}},e.prototype.getPointInAnchor=function(t){if(!this.data)return null;for(var e=null,n=-1,r=0;r<this.rectangleAnchorPoints.length;r++){var a=this.rectangleAnchorPoints[r],o=this.anchorRadius+this.anchorLineWidth;if(f.A.isPointInCircle(t,{center:a,radius:o})){e=a,n=r;break}}return e&&-1!==n?{point:e,index:n}:null},e.prototype.setResizeCursorByIndex=function(t){var e,n;this.context&&(e=this.context.getCanvasEl(),n=this.context.getAssistCanvasEl(),e)&&n&&(e.style.cursor=n.style.cursor=this.ResizeCursorMapping.get(t))},e.prototype.drawModify=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();n&&r&&this.data&&this.startPoint&&(r=n.getHistoryDataById(this.data.data.id))&&(e=this.indexToModifyHandlerMapping.get(this.startIndex))&&e.call(this,t)&&(this.data.data=r,n.clearDraw(),n.drawHistoryData(),this.drawAnchors())},e.prototype.drawMove=function(t,e){var n,r=this.context,a=null==r?void 0:r.getCtx();r&&a&&this.data&&(a=r.getHistoryDataById(this.data.data.id))&&(n=e.x-t.x,e=e.y-t.y,a.data.leftTopPoint.x+=n,a.data.leftTopPoint.y+=e,this.data.data=a,r.clearDraw(),r.drawHistoryData(),this.drawAnchors())},e.prototype.getSelectType=function(){return s.Rectangle},e.prototype.getBox=function(){var t,e=this.context,n=null==e?void 0:e.getCtx();return e&&n&&this.data&&(n=e.getHistoryDataById(this.data.data.id))?(n=(e=n.data).leftTopPoint,t=e.width,e=e.height,{leftTop:Mt({},n),rightTop:{x:n.x+t,y:n.y},rightBottom:{x:n.x+t,y:n.y+e},leftBottom:{x:n.x,y:n.y+e}}):null},e.prototype.modifyDataByLeftTop=function(t){var e=this.context,n=null==e?void 0:e.getCtx();return!(!(e&&n&&this.data&&this.startPoint)||!(n=e.getHistoryDataById(this.data.data.id))||!(e=this.getBox())||t.x>e.rightTop.x||t.y>e.rightBottom.y||(n.data.leftTopPoint=t,n.data.width=e.rightTop.x-t.x,n.data.height=e.rightBottom.y-t.y,0))},e.prototype.modifyDataByCenterTop=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();return!(!(n&&r&&this.data&&this.startPoint)||!(r=n.getHistoryDataById(this.data.data.id))||(n=r.data.width,!(e=this.getBox()))||t.y>e.leftBottom.y||(r.data.leftTopPoint={x:e.leftTop.x,y:t.y},r.data.width=n,r.data.height=e.rightBottom.y-t.y,0))},e.prototype.modifyDataByRightTop=function(t){var e=this.context,n=null==e?void 0:e.getCtx();return!(!(e&&n&&this.data&&this.startPoint)||!(n=e.getHistoryDataById(this.data.data.id))||!(e=this.getBox())||t.x<e.leftTop.x||t.y>e.leftBottom.y||(n.data.leftTopPoint={x:e.leftTop.x,y:t.y},n.data.width=t.x-e.leftTop.x,n.data.height=e.rightBottom.y-t.y,0))},e.prototype.modifyDataByRightCenter=function(t){var e,n,r=this.context,a=null==r?void 0:r.getCtx();return!(!(r&&a&&this.data&&this.startPoint)||!(a=r.getHistoryDataById(this.data.data.id))||(e=(r=a.data).leftTopPoint,r=r.height,!(n=this.getBox()))||t.x<n.leftTop.x||(a.data.leftTopPoint=Mt({},e),a.data.width=t.x-n.leftTop.x,a.data.height=r,0))},e.prototype.modifyDataByRightBottom=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();return!(!(n&&r&&this.data&&this.startPoint)||!(r=n.getHistoryDataById(this.data.data.id))||(n=r.data.leftTopPoint,!(e=this.getBox()))||t.x<e.leftTop.x||t.y<e.leftTop.y||(r.data.leftTopPoint=Mt({},n),r.data.width=t.x-e.leftTop.x,r.data.height=t.y-e.leftTop.y,0))},e.prototype.modifyDataByCenterBottom=function(t){var e,n,r=this.context,a=null==r?void 0:r.getCtx();return!(!(r&&a&&this.data&&this.startPoint)||!(a=r.getHistoryDataById(this.data.data.id))||(e=(r=a.data).leftTopPoint,r=r.width,!(n=this.getBox()))||t.y<n.leftTop.y||(a.data.leftTopPoint=Mt({},e),a.data.width=r,a.data.height=t.y-n.leftTop.y,0))},e.prototype.modifyDataByLeftBottom=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();return!(!(n&&r&&this.data&&this.startPoint)||!(r=n.getHistoryDataById(this.data.data.id))||(n=r.data.leftTopPoint,!(e=this.getBox()))||t.x>e.rightBottom.x||t.y<e.rightTop.y||(r.data.leftTopPoint={x:t.x,y:n.y},r.data.width=e.rightBottom.x-t.x,r.data.height=t.y-e.rightTop.y,0))},e.prototype.modifyDataByLeftCenter=function(t){var e,n,r=this.context,a=null==r?void 0:r.getCtx();return!(!(r&&a&&this.data&&this.startPoint)||!(a=r.getHistoryDataById(this.data.data.id))||(e=(r=a.data).leftTopPoint,r=r.height,!(n=this.getBox()))||t.x>n.rightBottom.x||(a.data.leftTopPoint={x:t.x,y:e.y},a.data.width=n.rightBottom.x-t.x,a.data.height=r,0))},e.prototype.isCanMove=function(t){var e,n,r,a;return!!this.data&&(e=(n=null==(n=null==(n=null==this?void 0:this.data)?void 0:n.data)?void 0:n.data).leftTopPoint,a=n.width,n=n.height,r=_.zx7([t.x,t.y]),a=_.n1([[[e.x,e.y],[e.x+a,e.y],[e.x+a,e.y+n],[e.x,e.y+n],[e.x,e.y]]]),_.mFO(r,a))&&!this.getPointInAnchor(t)},e.prototype.drawMoveGeometry=function(){this.context&&this.data&&Q.draw(this.context.getAssistCtx(),this.data)},e.prototype.drawMoveGeometry=function(t,e){var n,r;return this.context&&this.data&&t&&e?((n=JSON.parse(JSON.stringify(this.data.data))).data=Mt(Mt({},n.data),{leftTopPoint:Mt({},n.data.leftTopPoint)}),r=e.x-t.x,e=e.y-t.y,n.data&&n.data.leftTopPoint&&(n.data.leftTopPoint.x+=r,n.data.leftTopPoint.y+=e,r=Mt(Mt({},this.moveGemStyle),null!=(t=n.style)?t:{}),n.style.lineWidth=r.lineWidth,n.style.lineJoin=r.lineJoin,n.style.lineCap=r.lineCap,n.lineDash=r.lineDash,n.style.lineDashOffset=r.lineDashOffset,n.style.strokeStyle=r.strokeStyle,n.style.fillStyle=r.fillStyle,n.style.globalAlpha=null!=(e=r.globalAlpha)?e:1,Q.draw(this.context.getAssistCtx(),n)),n):null},e.prototype.destroy=function(){this.startIndex=-1,t.prototype.destroy.call(this)},e}(st);const Tt=Pt;var Et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bt=function(){return(bt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},St=function(t){function e(e){return(e=t.call(this,e)||this).ResizeCursorMapping=new Map([[0,"ns-resize"],[1,"ew-resize"],[2,"ns-resize"],[3,"ew-resize"]]),e}return Et(e,t),e.prototype.drawAnchors=function(){if(this.context){var t=this.context.getCtx();if(t){for(var e=(n=null==(n=null==(n=null==this?void 0:this.data)?void 0:n.data)?void 0:n.data).center,n=n.outRadius,r=[{x:e.x,y:e.y-n},{x:e.x+n,y:e.y},{x:e.x,y:e.y+n},{x:e.x-n,y:e.y}],a=0;a<r.length;a++){var o=r[a];t.beginPath(),this.setAnchorCircleStyle(),t.ellipse(o.x,o.y,this.anchorRadius,this.anchorRadius,45*Math.PI/180,0,2*Math.PI),t.closePath(),t.stroke(),t.fill()}t.beginPath(),this.setAnchorLineStyle(),t.ellipse(e.x,e.y,n,n,45*Math.PI/180,0,2*Math.PI),t.closePath(),t.stroke()}}},e.prototype.getPointInAnchor=function(t){if(!this.data)return null;for(var e=null,n=-1,r=(a=null==(a=null==(a=null==this?void 0:this.data)?void 0:a.data)?void 0:a.data).center,a=a.outRadius,o=[{x:r.x,y:r.y-a},{x:r.x+a,y:r.y},{x:r.x,y:r.y+a},{x:r.x-a,y:r.y}],i=0;i<o.length;i++){var s=o[i],l=this.anchorRadius+this.anchorLineWidth;if(f.A.isPointInCircle(t,{center:s,radius:l})){e=s,n=i;break}}return e&&-1!==n?{point:e,index:n}:null},e.prototype.setResizeCursorByIndex=function(t){var e,n;this.context&&(e=this.context.getCanvasEl(),n=this.context.getAssistCanvasEl(),e)&&n&&(t=this.ResizeCursorMapping.get(t),e.style.cursor=n.style.cursor=t)},e.prototype.drawModify=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();n&&r&&this.data&&this.startPoint&&(r=n.getHistoryDataById(this.data.data.id))&&(e=r.data.center,r.data.outRadius=f.A.getDistanceByBetweenPoint({p1:e,p2:t}),r.data.innerRadius=r.data.outRadius/2,this.data.data=r,n.clearDraw(),n.drawHistoryData(),this.drawAnchors())},e.prototype.drawMove=function(t,e){var n,r=this.context,a=null==r?void 0:r.getCtx();r&&a&&this.data&&(a=r.getHistoryDataById(this.data.data.id))&&(n=e.x-t.x,e=e.y-t.y,a.data.center.x+=n,a.data.center.y+=e,this.data.data=a,r.clearDraw(),r.drawHistoryData(),this.drawAnchors())},e.prototype.getSelectType=function(){return s.Start},e.prototype.isCanMove=function(t){if(!this.data)return!1;for(var e=(a=null==(a=null==(a=null==this?void 0:this.data)?void 0:a.data)?void 0:a.data).center,n=a.outRadius,r=a.innerRadius,a=_.zx7([t.x,t.y]),o=[],i=0;i<5;i++)o.push({x:Math.cos((18+72*i)/180*Math.PI)*n+e.x,y:-Math.sin((18+72*i)/180*Math.PI)*n+e.y}),o.push({x:Math.cos((54+72*i)/180*Math.PI)*r+e.x,y:-Math.sin((54+72*i)/180*Math.PI)*r+e.y});var s=o.map((function(t){return[t.x,t.y]}));s.push(s[0]),s=_.n1([s]);return _.mFO(a,s)&&!this.getPointInAnchor(t)},e.prototype.drawMoveGeometry=function(){this.context&&this.data&&$.draw(this.context.getAssistCtx(),this.data)},e.prototype.drawMoveGeometry=function(t,e){var n,r;return console.trace("drawMoveGeometry"),this.context&&this.data&&t&&e?((n=JSON.parse(JSON.stringify(this.data.data))).data=bt(bt({},n.data),{center:bt({},n.data.center)}),r=e.x-t.x,e=e.y-t.y,n.data&&n.data.center&&(n.data.center.x+=r,n.data.center.y+=e,r=bt(bt({},this.moveGemStyle),null!=(t=n.style)?t:{}),n.style.lineWidth=r.lineWidth,n.style.lineJoin=r.lineJoin,n.style.lineCap=r.lineCap,n.lineDash=r.lineDash,n.style.lineDashOffset=r.lineDashOffset,n.style.strokeStyle=r.strokeStyle,n.style.fillStyle=r.fillStyle,n.style.globalAlpha=null!=(e=r.globalAlpha)?e:1,$.draw(this.context.getAssistCtx(),n)),n):null},e}(st);const At=St;var Rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),It=function(){return(It=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Bt=function(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||((r=r||Array.prototype.slice.call(e,0,a))[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))},kt=function(t){function e(e){return(e=t.call(this,e)||this).rectangleAnchorPoints=[],e.indexToModifyHandlerMapping=new Map([[0,e.modifyDataByLeftTop],[1,e.modifyDataByCenterTop],[2,e.modifyDataByRightTop],[3,e.modifyDataByRightCenter],[4,e.modifyDataByRightBottom],[5,e.modifyDataByCenterBottom],[6,e.modifyDataByLeftBottom],[7,e.modifyDataByLeftCenter]]),e.ResizeCursorMapping=new Map([[0,"nwse-resize"],[1,"ns-resize"],[2,"nesw-resize"],[3,"ew-resize"],[4,"nwse-resize"],[5,"ns-resize"],[6,"nesw-resize"],[7,"ew-resize"]]),e}return Rt(e,t),e.prototype.drawAnchors=function(){if(this.context){var t=this.context.getCtx();if(t)if((e=(null==(e=null==(e=null==this?void 0:this.data)?void 0:e.data)?void 0:e.data).points)&&e.length){var e,n={x:e[0].x,y:e[1].y},r=e[2].x-e[0].x,a=r/2,o=(e=e[2].y-e[1].y)/2;this.rectangleAnchorPoints=[It({},n),{x:n.x+a,y:n.y},{x:n.x+r,y:n.y},{x:n.x+r,y:n.y+o},{x:n.x+r,y:n.y+e},{x:n.x+a,y:n.y+e},{x:n.x,y:n.y+e},{x:n.x,y:n.y+o}];for(var i=0;i<this.rectangleAnchorPoints.length;i++){var s=this.rectangleAnchorPoints[i];t.beginPath(),this.setAnchorCircleStyle(),t.ellipse(s.x,s.y,this.anchorRadius,this.anchorRadius,45*Math.PI/180,0,2*Math.PI),t.closePath(),t.stroke(),t.fill()}t.beginPath(),this.setAnchorLineStyle(),t.moveTo(n.x,n.y),t.lineTo(n.x+r,n.y),t.lineTo(n.x+r,n.y+e),t.lineTo(n.x,n.y+e),t.lineTo(n.x,n.y),t.closePath(),t.stroke()}}},e.prototype.getPointInAnchor=function(t){if(!this.data)return null;for(var e=null,n=-1,r=0;r<this.rectangleAnchorPoints.length;r++){var a=this.rectangleAnchorPoints[r],o=this.anchorRadius+this.anchorLineWidth;if(f.A.isPointInCircle(t,{center:a,radius:o})){e=a,n=r;break}}return e&&-1!==n?{point:e,index:n}:null},e.prototype.setResizeCursorByIndex=function(t){var e,n;this.context&&(e=this.context.getCanvasEl(),n=this.context.getAssistCanvasEl(),e)&&n&&(e.style.cursor=n.style.cursor=this.ResizeCursorMapping.get(t))},e.prototype.drawModify=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();n&&r&&this.data&&this.startPoint&&(r=n.getHistoryDataById(this.data.data.id))&&(e=this.indexToModifyHandlerMapping.get(this.startIndex))&&e.call(this,t)&&(this.data.data=r,n.clearDraw(),n.drawHistoryData(),this.drawAnchors())},e.prototype.drawMove=function(t,e){var n,r,a=this.context,o=null==a?void 0:a.getCtx();a&&o&&this.data&&(o=a.getHistoryDataById(this.data.data.id))&&(n=e.x-t.x,r=e.y-t.y,o.data.points.forEach((function(t){t.x+=n,t.y+=r})),this.data.data=o,a.clearDraw(),a.drawHistoryData(),this.drawAnchors())},e.prototype.getSelectType=function(){return s.Triangle},e.prototype.getBox=function(){var t,e,n=this.context;return n&&this.data&&(n=n.getHistoryDataById(this.data.data.id))&&(n=n.data.points)&&n.length?(t={x:n[0].x,y:n[1].y},e=n[2].x-n[0].x,n=n[2].y-n[1].y,{leftTop:It({},t),rightTop:{x:t.x+e,y:t.y},rightBottom:{x:t.x+e,y:t.y+n},leftBottom:{x:t.x,y:t.y+n}}):null},e.prototype.modifyDataByLeftTop=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();return!!(n&&r&&this.data&&this.startPoint)&&!!(r=n.getHistoryDataById(this.data.data.id))&&!(!(n=r.data.points)||!n.length||!(n=this.getBox())||t.x>n.rightTop.x||t.y>n.rightBottom.y||(e=n.rightTop.x-t.x,n=n.rightBottom.y-t.y,r.data.points=[{x:t.x,y:t.y+n},{x:t.x+e/2,y:t.y},{x:t.x+e,y:t.y+n}],0))},e.prototype.modifyDataByCenterTop=function(t){var e,n,r=this.context,a=null==r?void 0:r.getCtx();return!!(r&&a&&this.data&&this.startPoint)&&!!(a=r.getHistoryDataById(this.data.data.id))&&!(!(r=a.data.points)||!r.length||!(r=this.getBox())||t.y>r.leftBottom.y||(e={x:r.leftTop.x,y:t.y},n=r.rightTop.x-r.leftTop.x,r=r.rightBottom.y-t.y,a.data.points=[{x:e.x,y:e.y+r},{x:e.x+n/2,y:e.y},{x:e.x+n,y:e.y+r}],0))},e.prototype.modifyDataByRightTop=function(t){var e,n,r=this.context,a=null==r?void 0:r.getCtx();return!!(r&&a&&this.data&&this.startPoint)&&!!(a=r.getHistoryDataById(this.data.data.id))&&!(!(r=a.data.points)||!r.length||!(r=this.getBox())||t.x<r.leftTop.x||t.y>r.leftBottom.y||(e={x:r.leftTop.x,y:t.y},n=t.x-r.leftTop.x,r=r.rightBottom.y-t.y,a.data.points=[{x:e.x,y:e.y+r},{x:e.x+n/2,y:e.y},{x:e.x+n,y:e.y+r}],0))},e.prototype.modifyDataByRightCenter=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();return!!(n&&r&&this.data&&this.startPoint)&&!!(r=n.getHistoryDataById(this.data.data.id))&&!(!(n=r.data.points)||!n.length||!(n=this.getBox())||t.x<n.leftTop.x||(e={x:n.leftTop.x,y:n.leftTop.y},t=t.x-n.leftTop.x,n=n.rightBottom.y-n.rightTop.y,r.data.points=[{x:e.x,y:e.y+n},{x:e.x+t/2,y:e.y},{x:e.x+t,y:e.y+n}],0))},e.prototype.modifyDataByRightBottom=function(t){var e,n,r=this.context,a=null==r?void 0:r.getCtx();return!!(r&&a&&this.data&&this.startPoint)&&!!(a=r.getHistoryDataById(this.data.data.id))&&!(!(r=a.data.points)||!r.length||!(r=this.getBox())||t.x<r.leftTop.x||t.y<r.leftTop.y||(e=It({},r.leftTop),n=t.x-r.leftTop.x,t=t.y-r.leftTop.y,a.data.points=[{x:e.x,y:e.y+t},{x:e.x+n/2,y:e.y},{x:e.x+n,y:e.y+t}],0))},e.prototype.modifyDataByCenterBottom=function(t){var e,n,r=this.context,a=null==r?void 0:r.getCtx();return!!(r&&a&&this.data&&this.startPoint)&&!!(a=r.getHistoryDataById(this.data.data.id))&&!(!(r=a.data.points)||!r.length||!(r=this.getBox())||t.y<r.leftTop.y||(e=It({},r.leftTop),n=r.rightTop.x-r.leftTop.x,t=t.y-r.leftTop.y,a.data.points=[{x:e.x,y:e.y+t},{x:e.x+n/2,y:e.y},{x:e.x+n,y:e.y+t}],0))},e.prototype.modifyDataByLeftBottom=function(t){var e,n,r=this.context,a=null==r?void 0:r.getCtx();return!!(r&&a&&this.data&&this.startPoint)&&!!(a=r.getHistoryDataById(this.data.data.id))&&!(!(r=a.data.points)||!r.length||!(r=this.getBox())||t.x>r.rightBottom.x||t.y<r.rightTop.y||(e={x:t.x,y:r.leftTop.y},n=r.rightBottom.x-t.x,t=t.y-r.rightTop.y,a.data.points=[{x:e.x,y:e.y+t},{x:e.x+n/2,y:e.y},{x:e.x+n,y:e.y+t}],0))},e.prototype.modifyDataByLeftCenter=function(t){var e,n=this.context,r=null==n?void 0:n.getCtx();return!!(n&&r&&this.data&&this.startPoint)&&!!(r=n.getHistoryDataById(this.data.data.id))&&!(!(n=r.data.points)||!n.length||!(n=this.getBox())||t.x>n.rightBottom.x||(e={x:t.x,y:n.leftTop.y},t=n.rightBottom.x-t.x,n=n.rightBottom.y-n.rightTop.y,r.data.points=[{x:e.x,y:e.y+n},{x:e.x+t/2,y:e.y},{x:e.x+t,y:e.y+n}],0))},e.prototype.isCanMove=function(t){var e,n;return!!this.data&&((n=Bt([],(null==(n=null==(n=null==(n=null==this?void 0:this.data)?void 0:n.data)?void 0:n.data)?void 0:n.points)||[],!0)).push(n[0]),e=_.zx7([t.x,t.y]),n=_.n1([n.map((function(t){return[t.x,t.y]}))]),_.mFO(e,n))&&!this.getPointInAnchor(t)},e.prototype.drawMoveGeometry=function(){this.context&&this.data&&rt.draw(this.context.getAssistCtx(),this.data)},e.prototype.drawMoveGeometry=function(t,e){var n,r,a;return this.context&&this.data&&t&&e?((n=JSON.parse(JSON.stringify(this.data.data))).data=It(It({},n.data),{points:n.data.points.map((function(t){return It({},t)}))}),r=e.x-t.x,a=e.y-t.y,n.data&&n.data.points&&n.data.points.length&&(n.data.points.forEach((function(t){t.x+=r,t.y+=a})),t=It(It({},this.moveGemStyle),null!=(e=n.style)?e:{}),n.style.lineWidth=t.lineWidth,n.style.lineJoin=t.lineJoin,n.style.lineCap=t.lineCap,n.lineDash=t.lineDash,n.style.lineDashOffset=t.lineDashOffset,n.style.strokeStyle=t.strokeStyle,n.style.fillStyle=t.fillStyle,n.style.globalAlpha=null!=(e=t.globalAlpha)?e:1,rt.draw(this.context.getAssistCtx(),n)),n):null},e.prototype.destroy=function(){this.startIndex=-1,t.prototype.destroy.call(this)},e}(st);const Ot=kt;var Lt=function(){return(Lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function Vt(t,e){var n;null!=t&&t.beginPath(),null!=t&&t.ellipse((null==(n=e.data.center)?void 0:n.x)||0,(null==(n=e.data.center)?void 0:n.y)||0,e.data.radius,e.data.radius,45*Math.PI/180,0,2*Math.PI),null!=t&&t.closePath()}function Ht(t){return jt({leftTopPoint:{x:t.center.x-t.radius,y:t.center.y-t.radius},width:2*t.radius,height:2*t.radius})}function _t(t,e){var n;null!=t&&t.beginPath(),t.rect((null==(n=e.data.leftTopPoint)?void 0:n.x)||0,(null==(n=e.data.leftTopPoint)?void 0:n.y)||0,e.data.width,e.data.height),null!=t&&t.closePath()}function jt(t){return Lt({},t)}function Nt(t,e){null!=t&&t.beginPath();var n=e.data.width/2,r=e.data.height/2;t.moveTo(e.data.leftTopPoint.x,e.data.leftTopPoint.y+r),t.lineTo(e.data.leftTopPoint.x+n,e.data.leftTopPoint.y),t.lineTo(e.data.leftTopPoint.x+e.data.width,e.data.leftTopPoint.y+r),t.lineTo(e.data.leftTopPoint.x+n,e.data.leftTopPoint.y+e.data.height),null!=t&&t.closePath()}function zt(t){return Lt({},t)}function qt(t,e){null!=t&&t.beginPath();for(var n=0;n<5;n++)t.lineTo(Math.cos((18+72*n)/180*Math.PI)*e.data.outRadius+e.data.center.x,-Math.sin((18+72*n)/180*Math.PI)*e.data.outRadius+e.data.center.y),t.lineTo(Math.cos((54+72*n)/180*Math.PI)*e.data.innerRadius+e.data.center.x,-Math.sin((54+72*n)/180*Math.PI)*e.data.innerRadius+e.data.center.y);null!=t&&t.closePath()}function Gt(t){return Ht({center:t.center,radius:t.outRadius})}function Wt(t,e){null!=t&&t.beginPath(),t.moveTo(e.data.points[0].x,e.data.points[0].y),t.lineTo(e.data.points[1].x,e.data.points[1].y),t.lineTo(e.data.points[2].x,e.data.points[2].y),null!=t&&t.closePath()}function Jt(t){return jt({leftTopPoint:{x:t.points[0].x,y:t.points[1].y},width:t.points[2].x-t.points[0].x,height:t.points[2].y-t.points[1].y})}function Ut(t,e){t.beginPath(),((null==e?void 0:e.data)||[]).forEach((function(e,n){0===n?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)})),null!=t&&t.closePath()}function Ft(t){var e=t.map((function(t){return t.x})),n=(t=t.map((function(t){return t.y})),(e={minX:Math.min.apply(Math,e),maxX:Math.max.apply(Math,e)}).minX),r=(e=e.maxX,(t={minY:Math.min.apply(Math,t),maxY:Math.max.apply(Math,t)}).minY);return{leftTopPoint:{x:n,y:r},width:e-n,height:t.maxY-r}}var Xt=function(){return(Xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Zt="adhere-ui-cropping-core",Qt=(0,u.forwardRef)((function(t,e){var n=t.className,r=t.style,a=t.wrapProps,l=t.toolProps,c=t.areaProps,d=void 0===(D=t.minHeight)?200:D,p=t.toolBarConfig,y=(D=(0,u.useState)(null))[0],h=D[1],f=(t=(0,u.useState)(""))[0],v=t[1],g=(0,u.useRef)(null),D=(0,u.useRef)(null),E=(0,u.useRef)(null),b=(0,u.useRef)(null),S=(0,u.useRef)(),A=(0,u.useRef)(null),R=(0,u.useRef)(),I=(0,u.useRef)(null),B=(0,u.useRef)(null),k=(0,u.useRef)(null),O=(t=new Map([["left",function(){return u.createElement(T.A.TRBLC.LCLayout,Xt({},_,a,{lProps:Xt(Xt(Xt({},j),l),{children:z}),cProps:Xt(Xt(Xt({},N),c),{children:q})}))}],["right",function(){return u.createElement(T.A.TRBLC.CRLayout,Xt({},_,a,{rProps:Xt(Xt(Xt({},j),l),{children:z}),cProps:Xt(Xt(Xt({},N),c),{children:q})}))}],["top",function(){return u.createElement(T.A.TRBLC.TCLayout,Xt({},_,a,{tProps:Xt(Xt(Xt({},j),l),{children:z}),cProps:Xt(Xt(Xt({},N),c),{children:q})}))}],["bottom",function(){return u.createElement(T.A.TRBLC.CBLayout,Xt({},_,a,{bProps:Xt(Xt(Xt({},j),l),{children:z}),cProps:Xt(Xt(Xt({},N),c),{children:q})}))}]]),(0,u.useMemo)((function(){return new Map([[s.Polygon,Ct],[s.Circle,pt],[s.Rectangle,Tt],[s.Triangle,Ot],[s.Diamond,vt],[s.Start,At]])}),[])),L=(0,u.useMemo)((function(){return{fillStyle:"transparent",strokeStyle:"#fff",lineWidth:1,lineCap:"round",lineJoin:"round",lineDash:[],lineDashOffset:-1,globalAlpha:1}}),[]),V={fillStyle:"#fff"},_=(0,u.useMemo)((function(){return{gutter:20,wrapClassName:"".concat(Zt,"-inner")}}),[]),j=(0,u.useMemo)((function(){return{fit:!0}}),[]),N=(0,u.useMemo)((function(){return{autoFixed:!0}}),[]),z=(0,u.useMemo)((function(){function t(t){return t===y?"primary":"default"}function e(t,e){return function(){a(t).then((function(){var t,n;I.current=new e,I.current&&(I.current.setAnchorStyle(Xt({},V)),I.current.setMoveGemStyle(Xt({},V)),null!=(t=null==(n=null==I?void 0:I.current)?void 0:n.on)&&t.call(n,o.DrawBeforeStart,(function(t){J(t)})),null!=(n=null==(t=null==I?void 0:I.current)?void 0:t.on)&&n.call(t,o.DrawStart,(function(t){J(t)})),null!=(t=null==(n=null==I?void 0:I.current)?void 0:n.on)&&t.call(n,o.Drawing,(function(t){J(t)})),null!=(n=null==(t=null==I?void 0:I.current)?void 0:t.on)&&n.call(t,o.DrawEnd,(function(t){J(t)})),null!=(t=null==(n=null==R?void 0:R.current)?void 0:n.changeAction)&&t.call(n,I.current),null!=(n=null==(t=null==I?void 0:I.current)?void 0:t.start))&&n.call(t,L)}))}}var n,r,a=function(t){var e,n;return t!==y&&(U(),null!=(n=null==(e=null==R?void 0:R.current)?void 0:e.clearCanvasAll)&&n.call(e),k.current=null,h(t)),t!==y?Promise.resolve():Promise.reject()},i=[{key:"open",value:(null==(i=null==(n=null==p?void 0:p.open)?void 0:n.render)?void 0:i.call(n,(function(){var t;null!=(t=B.current)&&t.click()})))||u.createElement(m.Ay,{key:"open",block:!0,size:"large",type:"primary",onClick:function(){var t;null!=(t=B.current)&&t.click()}},C.Ay.v("打开"))},f?[{key:"rectangle",value:(!p||!("rectangle"in p)||!("hide"in p.rectangle)||!(null!=(r=null==p?void 0:p.rectangle)&&r.hide))&&((null==(l=null==(r=null==p?void 0:p.rectangle)?void 0:r.render)?void 0:l.call(r,e(s.Rectangle,Q)))||u.createElement(m.Ay,{key:"rectangle",block:!0,size:"large",type:t(s.Rectangle),onClick:e(s.Rectangle,Q)},C.Ay.v("矩形剪裁")))},{key:"circle",value:(!p||!("circle"in p)||!("hide"in p.circle)||!(null!=(l=null==p?void 0:p.circle)&&l.hide))&&((null==(l=null==(r=null==p?void 0:p.circle)?void 0:r.render)?void 0:l.call(r,e(s.Circle,H)))||u.createElement(m.Ay,{key:"circle",block:!0,size:"large",type:t(s.Circle),onClick:e(s.Circle,H)},C.Ay.v("圆形剪裁")))},{key:"start",value:(!p||!("start"in p)||!("hide"in p.start)||!(null!=(l=null==p?void 0:p.start)&&l.hide))&&((null==(l=null==(r=null==p?void 0:p.start)?void 0:r.render)?void 0:l.call(r,e(s.Start,$)))||u.createElement(m.Ay,{key:"start",block:!0,size:"large",type:t(s.Start),onClick:e(s.Start,$)},C.Ay.v("五角星剪裁")))},{key:"triangle",value:(!p||!("triangle"in p)||!("hide"in p.triangle)||!(null!=(l=null==p?void 0:p.triangle)&&l.hide))&&((null==(l=null==(r=null==p?void 0:p.triangle)?void 0:r.render)?void 0:l.call(r,e(s.Triangle,rt)))||u.createElement(m.Ay,{key:"triangle",block:!0,size:"large",type:t(s.Triangle),onClick:e(s.Triangle,rt)},C.Ay.v("三角形剪裁")))},{key:"diamond",value:(!p||!("diamond"in p)||!("hide"in p.diamond)||!(null!=(l=null==p?void 0:p.diamond)&&l.hide))&&((null==(l=null==(r=null==p?void 0:p.diamond)?void 0:r.render)?void 0:l.call(r,e(s.Diamond,G)))||u.createElement(m.Ay,{key:"diamond",block:!0,size:"large",type:t(s.Diamond),onClick:e(s.Diamond,G)},C.Ay.v("菱形剪裁")))},{key:"polygon",value:(!p||!("polygon"in p)||!("hide"in p.polygon)||!(null!=(l=null==p?void 0:p.polygon)&&l.hide))&&((null==(l=null==(r=null==p?void 0:p.polygon)?void 0:r.render)?void 0:l.call(r,e(s.Polygon,F)))||u.createElement(m.Ay,{key:"polygon",block:!0,size:"large",type:t(s.Polygon),onClick:e(s.Polygon,F)},C.Ay.v("多边形剪裁")))}].filter((function(t){return!!t.value})):[{key:"",value:null}]].flat().filter((function(t){return!!t.value})),l=(i=function(t){var e=Array.from({length:t.length}).fill(null),n=[];return t.forEach((function(t,r){"sort"in t?n.push(t):e[r]=t})),n.forEach((function(t){e.splice(t.sort,0,t)})),e.filter((function(t){return!!t}))}(i.map((function(t){var e;return"sort"in(null!=(e=null==p?void 0:p[t.key])?e:{})?Xt(Xt({},t),{sort:null==p?void 0:p[t.key].sort}):t}))).map((function(t){return t.value})),["left","right"].includes(null!=(n=null==p?void 0:p.direction)?n:"left")?"vertical":"horizontal");return u.createElement(M.A,null,u.createElement(w.A,{direction:l,size:20},u.createElement("input",{type:"file",ref:B,accept:"image/*",style:{display:"none"}}),i))}),[y,l,f,p]),q=(0,u.useMemo)((function(){return u.createElement(M.A,null,u.createElement("div",{className:"".concat(Zt,"-background"),style:{minHeight:d||200}},f&&u.createElement("div",{className:"".concat(Zt,"-background-inner")},u.createElement("img",{ref:g,src:f,alt:""}),u.createElement("div",{className:"".concat(Zt,"-background-mask")}))),u.createElement("div",{className:"".concat(Zt,"-geometry"),ref:A}),u.createElement("div",{className:"".concat(Zt,"-clip"),ref:E}))}),[f,c]),W=(0,u.useCallback)((function(){var t=new Image;return t.src=f,t}),[f]),J=((0,P.A)((function(){h(null),g.current&&(g.current.onload=function(){R.current&&(k.current=null,X(),Y()),Z(),K()})}),[f]),(0,u.useLayoutEffect)((function(){function t(t){t=t.target.files[0];var e=new FileReader;e.onload=function(t){v(null==(t=t.target)?void 0:t.result)},e.readAsDataURL(t)}var e;return null!=(e=B.current)&&e.addEventListener("change",t),function(){var e;null!=(e=B.current)&&e.removeEventListener("change",t)}}),[]),(0,u.useImperativeHandle)(e,(function(){return{save:function(){return k.current&&k.current.data&&f?function(t){var e=t.data,n=(t=t.clipCtx,null==(n=new Map([[s.Circle,Ht],[s.Rectangle,jt],[s.Diamond,zt],[s.Start,Gt],[s.Triangle,Jt],[s.Polygon,Ft]]).get(e.data.type))?void 0:n(e.data.data));return e=t.getImageData(n.leftTopPoint.x,n.leftTopPoint.y,n.width,n.height),(t=document.createElement("canvas")).width=n.width,t.height=n.height,t.getContext("2d").putImageData(e,0,0),t.toDataURL("image/png",1)}({data:k.current,clipCtx:S.current}):""}}})),function(t){var e,n;t.data&&(k.current=t,null!=(e=null==(n=S.current)?void 0:n.restore)&&e.call(n),null!=(n=null==(e=S.current)?void 0:e.save)&&n.call(e),null!=(n=S.current)&&n.clearRect(0,0,null==(e=b.current)?void 0:e.width,null==(n=b.current)?void 0:n.height),null!=(e=new Map([[s.Circle,Vt],[s.Rectangle,_t],[s.Diamond,Nt],[s.Start,qt],[s.Triangle,Wt],[s.Polygon,Ut]]).get(t.selectType))&&e(S.current,t.data),null!=(n=null==S?void 0:S.current)&&n.clip(),null!=(e=null==S?void 0:S.current))&&e.drawImage(W(),0,0,null==(t=b.current)?void 0:t.width,null==(n=b.current)?void 0:n.height)}),U=function(){var t,e;null!=(e=S.current)&&e.restore(),null!=(t=null==(e=S.current)?void 0:e.clearRect)&&t.call(e,0,0,null==(t=b.current)?void 0:t.width,null==(e=b.current)?void 0:e.height)},X=function(){E.current&&(E.current.innerHTML="")},Z=function(){var t,e;b.current=document.createElement("canvas"),b.current.width=null==(e=g.current)?void 0:e.offsetWidth,b.current.height=null==(e=g.current)?void 0:e.offsetHeight,S.current=null==(t=null==(e=b.current)?void 0:e.getContext)?void 0:t.call(e,"2d"),null!=(e=null==(t=E.current)?void 0:t.appendChild)&&e.call(t,b.current)},Y=function(){var t,e;null!=(e=null==(t=null==R?void 0:R.current)?void 0:t.destroy)&&e.call(t)},K=function(){var t;A.current&&(A.current.style.width="".concat(null==(t=null==g?void 0:g.current)?void 0:t.offsetWidth,"px"),A.current.style.height="".concat(null==(t=null==g?void 0:g.current)?void 0:t.offsetHeight,"px"),R.current=new ue.PolygonSelection(A.current),R.current.on(i.CanvasClickGeometry,(function(t){var e=new(O.get(t.type))({selectType:t.type,actionType:"Draw",data:t});e.setAnchorStyle(Xt({},V)),e.setMoveGemStyle(Xt({},V)),e.on(o.ModifyBeforeStart,(function(t){J(t)})),e.on(o.ModifyStart,(function(t){J(t)})),e.on(o.Modifying,(function(t){J(t)})),e.on(o.ModifyEnd,(function(t){J(t),e.start()})),e.on(o.Moving,(function(t){J(t)})),e.on(o.MoveEnd,(function(t){J(t)})),null!=(t=null==R?void 0:R.current)&&t.changeAction(e),e.start()})),R.current.on(i.CanvasClickEmpty,(function(){var t;null!=(t=null==R?void 0:R.current)&&t.clearDraw(),null!=(t=null==R?void 0:R.current)&&t.clearAssistDraw(),null!=(t=null==R?void 0:R.current)&&t.drawHistoryData()})))};t=null==(e=t.get((null==p?void 0:p.direction)||"left"))?void 0:e();return u.createElement("div",{ref:D,className:"".concat(x()(Zt,null!=n?n:"")),style:null!=r?r:{}},t)}));Qt.displayName="CroppingCore";const Yt=Qt;var Kt=function(){return(Kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},$t="adhere-ui-polygon-selection-cropping",te=(0,u.memo)((0,u.forwardRef)((function(t,e){var n=t.className,r=t.style,a=t.maskClassName,o=t.maskStyle,i=t.mask,s=t.value,l=t.onChange,c=t.modalProps,d=t.coreProps,p=(0,u.useRef)(null),y=(t=(0,u.useCallback)((function(){return u.createElement("div",{className:"".concat(x()("".concat($t,"-mask"),null!=a?a:"")),style:null!=o?o:{},onClick:function(){var t=D.A.Modal({config:Kt({title:C.Ay.v("编辑"),width:1024,maskClosable:!1,footer:[u.createElement(m.Ay,{key:"submit",type:"primary",title:C.Ay.v("保存"),onClick:function(){var e,n;p.current&&(n=null==(n=null==(e=null==p?void 0:p.current)?void 0:e.save)?void 0:n.call(e),l)&&(l(n),null!=t)&&t.close()}},C.Ay.v("保存"))]},null!=c?c:{}),children:u.createElement(Yt,Kt({ref:p},d))})}},i||C.Ay.v("编辑"))}),[a,o,i,s,l]),(0,u.useCallback)((function(){return s?u.createElement("img",{src:s,alt:""}):null}),[s]));return u.createElement("div",{className:x()($t,null!=n?n:""),style:null!=r?r:{}},t(),y())}))),ee=(te.displayName="InternalCropping",te);ee.CroppingCore=Yt;const ne=ee;var re=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ae=function(t){function e(){var e=t.call(this)||this;return e.startPoint=null,e.isMove=!1,e.points=[],e.onCanvasMouseDown=e.onCanvasMouseDown.bind(e),e.onCanvasMouseMove=e.onCanvasMouseMove.bind(e),e.onCanvasMouseUp=e.onCanvasMouseUp.bind(e),e}return re(e,t),e.prototype.draw=function(t,e){void 0===e&&(e=!1);var n,r=this.context,a=this.style,o=null==r?void 0:r.getCtx();r&&o&&(n=r.getCanvasEl())&&(t=f.A.clientToCtxPoint({event:t,rect:null==n?void 0:n.getBoundingClientRect()}))&&(this.points.push(t),r.clearDraw(),r.drawHistoryData(),o.beginPath(),o.lineWidth=a.lineWidth,o.lineJoin=a.lineJoin,o.lineCap=a.lineCap,a.lineDash&&o.setLineDash(a.lineDash),o.lineDashOffset=a.lineDashOffset,o.strokeStyle=a.strokeStyle,o.fillStyle=a.fillStyle,o.globalAlpha=a.globalAlpha,this.points.forEach((function(t,e){0===e?o.moveTo(t.x,t.y):o.lineTo(t.x,t.y)})),e&&o.closePath(),o.stroke(),o.fill())},e.prototype.onCanvasMouseDown=function(t){var e;this.context&&(e=this.context.getCanvasEl())&&(this.startPoint=f.A.clientToCtxPoint({event:t,rect:null==e?void 0:e.getBoundingClientRect()}),this.startPoint)&&(this.points.push(this.startPoint),null!=e&&e.addEventListener("mousemove",this.onCanvasMouseMove),null!=e)&&e.addEventListener("mouseup",this.onCanvasMouseUp)},e.prototype.onCanvasMouseMove=function(t){this.context&&(this.isMove=!0,this.draw(t),this.trigger(o.Drawing,{selectType:s.Free,actionType:l.Draw,data:{id:f.A.uuid(),type:s.Free,data:{points:JSON.parse(JSON.stringify(this.points))},style:this.style}}))},e.prototype.onCanvasMouseUp=function(t){this.isMove&&(this.end(t),t.stopPropagation())},e.draw=function(t,e){t&&e&&this.drawHistoryPath(t,e)},e.drawHistoryPath=function(t,e){t.beginPath(),e.style&&(t.lineWidth=e.style.lineWidth,t.lineJoin=e.style.lineJoin,t.lineCap=e.style.lineCap,e.style.lineDash&&t.setLineDash(e.style.lineDash),t.lineDashOffset=e.style.lineDashOffset,t.strokeStyle=e.style.strokeStyle,t.fillStyle=e.style.fillStyle,t.globalAlpha=null!=(n=e.style.globalAlpha)?n:1);var n=e.data.points;((void 0===n?[]:n)||[]).forEach((function(e,n){0===n?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)})),t.closePath(),t.stroke(),t.fill()},e.prototype.start=function(e){var n,r;this.context&&![a.Running,a.Destroy].includes(this.status)&&(r=null==(r=null==(n=this.context)?void 0:n.getCanvasEl)?void 0:r.call(n))&&(t.prototype.start.call(this,e),e&&(this.style=e),this.trigger(o.DrawBeforeStart,{selectType:s.Free,actionType:l.Draw}),null!=r&&r.addEventListener("mousedown",this.onCanvasMouseDown),this.status=a.Running,this.trigger(o.DrawStart,{selectType:s.Free,actionType:l.Draw}))},e.prototype.end=function(e){var n,r=this.context;r&&(n=r.getCanvasEl())&&(null!=n&&n.removeEventListener("mousedown",this.onCanvasMouseDown),null!=n&&n.removeEventListener("mousemove",this.onCanvasMouseMove),null!=n&&n.removeEventListener("mouseup",this.onCanvasMouseUp),this.draw(e,!0),this.status=a.End,n={id:f.A.uuid(),type:s.Free,data:{points:JSON.parse(JSON.stringify(this.points))},style:this.style},r.addHistoryData(n),this.startPoint=null,this.points=[],this.isMove=!1,this.trigger(o.DrawEnd,{selectType:s.Free,actionType:l.Draw,data:n})),t.prototype.end.call(this,e)},e.prototype.destroy=function(){var e,n=this.context;n&&(e=n.getCanvasEl())&&(this.status===a.Running&&(n.clearDraw(),n.drawHistoryData()),null!=e&&e.removeEventListener("mousedown",this.onCanvasMouseDown),null!=e&&e.removeEventListener("mousemove",this.onCanvasMouseMove),null!=e&&e.removeEventListener("mouseup",this.onCanvasMouseUp),this.startPoint=null,this.points=[],this.isMove=!1,this.status=a.Destroy,this.trigger(o.Destroy,{selectType:s.Free,actionType:l.Draw})),t.prototype.destroy.call(this)},e}(k);const oe=ae;var ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),se=function(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||((r=r||Array.prototype.slice.call(e,0,a))[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))},le="adhere-ui-polygon-selection",ce=function(t){function e(e,n,r){var a=t.call(this)||this;return a.el=null,a.listeners=null,a.curAction=null,a.canvasEl=null,a.ctx=null,a.assistCanvasEl=null,a.assistCtx=null,a.canvasData=[],a.typeActionMap=new Map([[s.Polygon,F],[s.Circle,H],[s.Rectangle,Q],[s.Triangle,rt],[s.Diamond,G],[s.Start,$],[s.Free,oe]]),a.el=e,a.listeners=r,n&&(a.canvasData=n),a.onResize=a.onResize.bind(a),a.initListeners(),a.initCanvas(),a.initEvents(),a}return ie(e,t),e.prototype.initListeners=function(){var t=this,e=this.listeners;e&&Object.keys(e).forEach((function(n){t.on(n,e[n])}))},e.prototype.initEvents=function(){var t=this;this.el&&this.el.addEventListener("mouseup",(function(e){if(e){for(var n=t.getHistoryData(),r=f.A.clientToCtxPoint({event:e,rect:t.el.getBoundingClientRect()}),a=[],o=0;o<n.length;o++){var s=n[o],l=t.typeActionMap.get(s.type);"booleanPointInData"in l&&(null==l?void 0:l.booleanPointInData(r,s))&&a.push(o)}a.length?t.trigger(i.CanvasClickGeometry,JSON.parse(JSON.stringify(n[a[a.length-1]]))):n.length&&t.trigger(i.CanvasClickEmpty)}}))},e.prototype.initCanvas=function(){this.el&&(this.canvasEl=document.createElement("canvas"),this.canvasEl.className=le,this.ctx=this.canvasEl.getContext("2d"),this.assistCanvasEl=document.createElement("canvas"),this.assistCanvasEl.className="".concat(le,"-assist"),this.assistCtx=this.assistCanvasEl.getContext("2d"),this.el.appendChild(this.canvasEl),this.el.appendChild(this.assistCanvasEl),this.trigger(i.CanvasMount),this.adapterCanvas())},e.prototype.adapterCanvas=function(){var t,e,n=(e=this).canvasEl,r=e.assistCanvasEl;(null!==(t=null!==(t=!(e=e.el))?t:!n)?!t:r)&&(n.width=null!=(t=null==e?void 0:e.offsetWidth)?t:0,n.height=null!=(t=null==e?void 0:e.offsetHeight)?t:0,r.width=null!=(n=null==e?void 0:e.offsetWidth)?n:0,r.height=null!=(t=null==e?void 0:e.offsetHeight)?t:0,this.clearDraw(),this.clearAssistDraw(),this.drawHistoryData())},e.prototype.onResize=function(){this.adapterCanvas()},e.prototype.getCtx=function(){return this.ctx},e.prototype.getCanvasEl=function(){return this.canvasEl},e.prototype.getAssistCanvasEl=function(){return this.assistCanvasEl},e.prototype.getAssistCtx=function(){return this.assistCtx},e.prototype.getWidth=function(){var t;return null!=(t=null==(t=null==this?void 0:this.el)?void 0:t.offsetWidth)?t:0},e.prototype.getHeight=function(){var t;return null!=(t=null==(t=null==this?void 0:this.el)?void 0:t.offsetHeight)?t:0},e.prototype.addHistoryData=function(t){this.canvasData.push(t)},e.prototype.removeHistoryDataById=function(t){var e=this.canvasData.findIndex((function(e){return e.id===t}));return-1===e?[]:this.canvasData.splice(e,1)},e.prototype.drawHistoryData=function(){var t=this;this.canvasData.forEach((function(e){var n,r=t.ctx;r&&e&&null!=(n=t.typeActionMap.get(e.type))&&n.drawHistoryPath(r,e)}))},e.prototype.getHistoryDataById=function(t){return this.canvasData.find((function(e){return e.id===t}))},e.prototype.getHistoryData=function(){return se([],this.canvasData,!0)},e.prototype.setHistoryData=function(t){this.canvasData=t},e.prototype.changeAction=function(t){t!==this.curAction&&t.getStatus()===a.UnStart&&(this.curAction&&this.curAction.destroy(),null!=t&&t.setContext(this),this.curAction=t)},e.prototype.getCurAction=function(){return this.curAction},e.prototype.start=function(t){this.curAction&&this.curAction.start(t)},e.prototype.end=function(){this.curAction&&this.curAction.end()},e.prototype.clearDraw=function(){var t=this.ctx;t&&t.clearRect(0,0,this.getWidth(),this.getHeight())},e.prototype.clearAssistDraw=function(){var t=this.assistCtx;t&&t.clearRect(0,0,this.getWidth(),this.getHeight())},e.prototype.clearHistoryData=function(){this.canvasData=[]},e.prototype.clearCanvasAll=function(){this.clearDraw(),this.clearAssistDraw(),this.clearHistoryData()},e.prototype.setFrontCanvas=function(t){t.style.zIndex="9999"},e.prototype.setBackCanvas=function(t){t.style.zIndex="1"},e.prototype.destroy=function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.onResize),this.curAction&&this.curAction.destroy(),this.clearAll(),this.el&&(this.el.innerHTML="")},e.Cropping=ne,e}(v.A.Events);const ue={PolygonSelection:ce,CircleDrawAction:H,DiamondDrawAction:G,DrawAction:k,FreeDrawAction:oe,PolygonDrawAction:F,RectangleDrawAction:Q,StartDrawAction:$,TriangleDrawAction:rt,CircleModifyAction:pt,DiamondModifyAction:vt,ModifyAction:st,PolygonModifyAction:Ct,RectangleModifyAction:Tt,StartModifyAction:At,TriangleModifyAction:Ot,DefaultAnchorStyle:E,DefaultMoveGemStyle:b,DefaultStyle:S,Util:j,Types:r},de=ue;var pe=n(74713),ye=n(13097);const he="LmJ4m1FTF8uAID8wDbuT",fe="G1Rs7VtXLj18FgULQGQm",ve="O7ENkmPAZ1AK5Dx_O2bD",me="agJnfZOOKLjyK909VcOj",{PolygonSelection:ge,PolygonDrawAction:xe,CircleDrawAction:De,RectangleDrawAction:Ce,TriangleDrawAction:we,DiamondDrawAction:Me,StartDrawAction:Pe,FreeDrawAction:Te,CircleModifyAction:Ee,DiamondModifyAction:be,PolygonModifyAction:Se,RectangleModifyAction:Ae,TriangleModifyAction:Re,StartModifyAction:Ie,Types:{PolygonSelectionActions:Be,ActionEvents:ke}}=de,Oe=()=>{const t=(0,u.useRef)(),e=(0,u.useRef)(null),n=(0,u.useRef)(),r=new Map([["Polygon",Se],["Circle",Ee],["Rectangle",Ae],["Triangle",Re],["Diamond",be],["Start",Ie]]);return(0,u.useEffect)((()=>{e.current=new ge(t.current,[],{[Be.CanvasMount]:()=>{n.current=document.createElement("canvas"),n.current.style.position="absolute",n.current.style.left="0",n.current.style.top="0",n.current.style.width="100%",n.current.style.height="100%",n.current.style.zIndex="0",n.current.width=t.current.offsetWidth,n.current.height=t.current.offsetHeight,t.current.appendChild(n.current)}}),e.current.on(Be.CanvasClickGeometry,(t=>{const n=new(r.get(t.type))({selectType:t.type,actionType:"Draw",data:t});n.on(ke.End,(()=>{n.start()})),e.current.changeAction(n),n.start()})),e.current.on(Be.CanvasClickEmpty,(()=>{console.log("clickEmpty"),e.current.clearDraw(),e.current.clearAssistDraw(),e.current.drawHistoryData()}));const a=document.getElementById("file");a.addEventListener("change",(()=>{const t=a.files[0],e=new FileReader;e.onloadend=t=>{const e=new Image;e.onload=()=>{const t=n.current.getContext("2d");t.clearRect(0,0,e.width,e.height),t.drawImage(e,0,0,e.width,e.height)},e.src=t.target.result},e.readAsDataURL(t)}))}),[]),u.createElement("div",{className:he},u.createElement("div",{className:fe},u.createElement("ul",null,u.createElement("li",null,u.createElement("input",{id:"file",accept:"image/gif,image/jpeg,image/png,image/bmp",type:"file",style:{display:"none"}}),u.createElement(m.Ay,{type:"primary",onClick:()=>{const t=document.getElementById("file"),e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),t.dispatchEvent(e)}},"打开")),u.createElement("li",null,u.createElement(m.Ay,{type:"primary",onClick:()=>{const t=e.current.getHistoryData();t&&t.length?h.A.InputPrompt({title:"数据名称",config:{label:"数据名称",initialValue:""},width:300,zIndex:1e3,local:"zh_CN",onSuccess:e=>new Promise((n=>{const r=y.A.getObjectByLocal("polygonSelectionData")||[];r.push({id:(new Date).getTime(),name:e,data:t}),y.A.putObjectByLocal("polygonSelectionData",r),pe.Ay.success("保存成功！"),n()}))}):pe.Ay.warning("画布上没有可以保存的数据！")}},"保存数据")),u.createElement("li",null,u.createElement(m.Ay,{type:"primary",onClick:()=>{const t=y.A.getObjectByLocal("polygonSelectionData")||[],n=[{title:"名称",dataIndex:"name",key:"name"},{title:"操作",dataIndex:"option",key:"option",render:(n,a)=>u.createElement("div",{className:me},u.createElement("a",{href:"#",onClick:()=>{const e=t.findIndex((t=>t.id===a.id));-1!==e&&(t.splice(e,1),y.A.putObjectByLocal("polygonSelectionData",t),pe.Ay.success("删除成功！"),r())}},"删除"),u.createElement(p.A,{direction:"horizontal"}),u.createElement("a",{href:"#",onClick:()=>{pe.Ay.success("操作成功！"),r();const{data:t}=a;e.current.setHistoryData(t),e.current.clearDraw(),e.current.drawHistoryData()}},"打开"))}],{close:r}=h.A.Modal({config:{title:"设置数据"},defaultCloseBtn:!1,children:u.createElement("div",{style:{width:"100%"}},u.createElement(ye.A,{rowKey:"id",columns:n,dataSource:t,pagination:!1}))})}},"设置数据"))),u.createElement("ul",null,u.createElement("li",null,u.createElement(m.Ay,{type:"primary",onClick:()=>{const t=new De;t.on(ke.End,(e=>{t.start()})),e.current.changeAction(t),t.start()}},"圆形")),u.createElement("li",null,u.createElement(m.Ay,{type:"primary",onClick:()=>{const t=new Ce;t.on(ke.End,(e=>{t.start()})),e.current.changeAction(t),t.start()}},"矩形")),u.createElement("li",null,u.createElement(m.Ay,{type:"primary",onClick:()=>{const t=new Me;t.on(ke.End,(e=>{t.start()})),e.current.changeAction(t),t.start()}},"菱形")),u.createElement("li",null,u.createElement(m.Ay,{type:"primary",onClick:()=>{const t=new we;t.on(ke.End,(e=>{t.start()})),e.current.changeAction(t),t.start()}},"三角形")),u.createElement("li",null,u.createElement(m.Ay,{type:"primary",onClick:()=>{const t=new Pe;t.on(ke.End,(e=>{t.start()})),e.current.changeAction(t),t.start()}},"五角星")),u.createElement("li",null,u.createElement(m.Ay,{type:"primary",onClick:()=>{const t=new xe;t.on(ke.End,(e=>{t.start()})),e.current.changeAction(t),t.start()}},"多边形")),u.createElement("li",null,u.createElement(m.Ay,{type:"primary",onClick:()=>{const t=new Te;t.on(ke.End,(()=>{t.start()})),e.current.changeAction(t),t.start()}},"自由绘制")))),u.createElement("div",{className:ve,ref:t}))},Le=()=>u.createElement(Oe,null),Ve="mXBzW_LKbtGteiwEefq9",He="EjvCbXPu5WoMbAacszkC",{PolygonSelection:_e}=de,je=()=>{const[t,e]=(0,u.useState)(""),n=(0,u.useRef)();return u.createElement("div",null,u.createElement("p",null,"图像裁剪"),u.createElement("div",{className:Ve},u.createElement(_e.Cropping,{ref:n,value:t,onChange:t=>e(t),maskClassName:He})))},Ne=()=>u.createElement(je,null),ze=()=>u.createElement(d.Ay,null,u.createElement(d.wn,{title:"PolygonSelection"},u.createElement("p",null,"多功能选区"),u.createElement("ul",null,u.createElement("li",null,"- 圆形区域"),u.createElement("li",null,"- 菱形区域"),u.createElement("li",null,"- 多边形区域"),u.createElement("li",null,"- 矩形形区域"),u.createElement("li",null,"- 五角星区域"),u.createElement("li",null,"- 三角形区域"),u.createElement("li",null,"- 自由绘制区域"),u.createElement("li",null,"- 图片裁剪"))),u.createElement(d.Wc,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"基本使用",cardProps:{description:{title:"基本使用",info:"基本使用"}},active:"p1.jsx",config:[{key:"p1.jsx",title:"p1.jsx",codeText:"import React from 'react';\r\n\r\nimport ImageSelect from '../imageselect';\r\n\r\nexport default () => <ImageSelect />;\r\n"},{key:"imageselect.jsx",title:"imageselect.jsx",codeText:"import { Button, Table, message } from 'antd';\r\nimport React, { useEffect, useRef } from 'react';\r\n\r\nimport {\r\n  MessageDialog,\r\n  PolygonSelection as PolygonSelectionModule,\r\n  Preferences,\r\n  Split,\r\n} from '@baifendian/adhere';\r\n\r\nimport styles from './imageselect.less';\r\n\r\nconst {\r\n  PolygonSelection,\r\n  PolygonDrawAction,\r\n  CircleDrawAction,\r\n  RectangleDrawAction,\r\n  TriangleDrawAction,\r\n  DiamondDrawAction,\r\n  StartDrawAction,\r\n  FreeDrawAction,\r\n  CircleModifyAction,\r\n  DiamondModifyAction,\r\n  PolygonModifyAction,\r\n  RectangleModifyAction,\r\n  TriangleModifyAction,\r\n  StartModifyAction,\r\n  Types: { PolygonSelectionActions, ActionEvents },\r\n} = PolygonSelectionModule;\r\n\r\nexport default () => {\r\n  const autoRef = useRef();\r\n  const polygonSelection = useRef(null);\r\n  const imgCanvasRef = useRef();\r\n\r\n  // ActionType\r\n  const typeActionMap = new Map([\r\n    ['Polygon', PolygonModifyAction],\r\n    ['Circle', CircleModifyAction],\r\n    ['Rectangle', RectangleModifyAction],\r\n    ['Triangle', TriangleModifyAction],\r\n    ['Diamond', DiamondModifyAction],\r\n    ['Start', StartModifyAction],\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    // 初始化polygonSelection\r\n    polygonSelection.current = new PolygonSelection(autoRef.current, [], {\r\n      [PolygonSelectionActions.CanvasMount]: () => {\r\n        // 初始化image显示的画布\r\n        imgCanvasRef.current = document.createElement('canvas');\r\n        imgCanvasRef.current.style.position = 'absolute';\r\n        imgCanvasRef.current.style.left = '0';\r\n        imgCanvasRef.current.style.top = '0';\r\n        imgCanvasRef.current.style.width = '100%';\r\n        imgCanvasRef.current.style.height = '100%';\r\n        imgCanvasRef.current.style.zIndex = '0';\r\n        imgCanvasRef.current.width = autoRef.current.offsetWidth;\r\n        imgCanvasRef.current.height = autoRef.current.offsetHeight;\r\n        autoRef.current.appendChild(imgCanvasRef.current);\r\n      },\r\n    });\r\n\r\n    // 点击了画布中的几何图形\r\n    polygonSelection.current.on(PolygonSelectionActions.CanvasClickGeometry, (data) => {\r\n      const Component = typeActionMap.get(data.type);\r\n\r\n      const action = new Component({\r\n        selectType: data.type,\r\n        actionType: 'Draw',\r\n        data,\r\n      });\r\n\r\n      action.on(ActionEvents.End, () => {\r\n        action.start();\r\n      });\r\n\r\n      polygonSelection.current.changeAction(action);\r\n\r\n      action.start();\r\n    });\r\n\r\n    // 点击了画布的空位置\r\n    polygonSelection.current.on(PolygonSelectionActions.CanvasClickEmpty, () => {\r\n      console.log('clickEmpty');\r\n      polygonSelection.current.clearDraw();\r\n      polygonSelection.current.clearAssistDraw();\r\n      polygonSelection.current.drawHistoryData();\r\n    });\r\n\r\n    // 打开文件\r\n    const fileEl = document.getElementById('file');\r\n    fileEl.addEventListener('change', () => {\r\n      const file = fileEl.files[0];\r\n\r\n      const read = new FileReader();\r\n      read.onloadend = (e) => {\r\n        const img = new Image();\r\n\r\n        img.onload = () => {\r\n          const ctx = imgCanvasRef.current.getContext('2d');\r\n          ctx.clearRect(0, 0, img.width, img.height);\r\n          ctx.drawImage(img, 0, 0, img.width, img.height);\r\n        };\r\n\r\n        img.src = e.target.result;\r\n      };\r\n      read.readAsDataURL(file);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.Wrap}>\r\n      <div className={styles.Fixed}>\r\n        <ul>\r\n          <li>\r\n            <input\r\n              id=\"file\"\r\n              accept=\"image/gif,image/jpeg,image/png,image/bmp\"\r\n              type=\"file\"\r\n              style={{ display: 'none' }}\r\n            />\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                const fileEl = document.getElementById('file');\r\n                const event = document.createEvent('MouseEvents');\r\n                event.initEvent('click', true, true);\r\n                fileEl.dispatchEvent(event);\r\n              }}\r\n            >\r\n              打开\r\n            </Button>\r\n          </li>\r\n          <li>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                // 画布的数据\r\n                const canvasData = polygonSelection.current.getHistoryData();\r\n\r\n                if (!canvasData || !canvasData.length) {\r\n                  message.warning('画布上没有可以保存的数据！');\r\n                  return;\r\n                }\r\n\r\n                MessageDialog.InputPrompt({\r\n                  title: '数据名称',\r\n                  config: {\r\n                    label: '数据名称',\r\n                    initialValue: '',\r\n                  },\r\n                  width: 300,\r\n                  zIndex: 1000,\r\n                  local: 'zh_CN',\r\n                  onSuccess: (value) => {\r\n                    return new Promise((resolve) => {\r\n                      const localData = Preferences.getObjectByLocal('polygonSelectionData') || [];\r\n\r\n                      // 添加画布数据\r\n                      localData.push({\r\n                        id: new Date().getTime(),\r\n                        name: value,\r\n                        data: canvasData,\r\n                      });\r\n\r\n                      Preferences.putObjectByLocal('polygonSelectionData', localData);\r\n                      message.success('保存成功！');\r\n                      resolve();\r\n                    });\r\n                  },\r\n                });\r\n              }}\r\n            >\r\n              保存数据\r\n            </Button>\r\n          </li>\r\n          <li>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                const localData = Preferences.getObjectByLocal('polygonSelectionData') || [];\r\n\r\n                const columns = [\r\n                  {\r\n                    title: '名称',\r\n                    dataIndex: 'name',\r\n                    key: 'name',\r\n                  },\r\n                  {\r\n                    title: '操作',\r\n                    dataIndex: 'option',\r\n                    key: 'option',\r\n                    render: (text, record) => {\r\n                      return (\r\n                        <div className={styles.OptionWrapper}>\r\n                          <a\r\n                            href=\"#\"\r\n                            onClick={() => {\r\n                              const index = localData.findIndex((data) => data.id === record.id);\r\n                              if (index !== -1) {\r\n                                localData.splice(index, 1);\r\n                                Preferences.putObjectByLocal('polygonSelectionData', localData);\r\n                                message.success('删除成功！');\r\n                                // MessageDialog.close(el);\r\n                                close();\r\n                              }\r\n                            }}\r\n                          >\r\n                            删除\r\n                          </a>\r\n                          <Split direction=\"horizontal\" />\r\n                          <a\r\n                            href=\"#\"\r\n                            onClick={() => {\r\n                              message.success('操作成功！');\r\n                              // MessageDialog.close(el);\r\n                              close();\r\n                              const { data } = record;\r\n                              polygonSelection.current.setHistoryData(data);\r\n                              polygonSelection.current.clearDraw();\r\n                              polygonSelection.current.drawHistoryData();\r\n                            }}\r\n                          >\r\n                            打开\r\n                          </a>\r\n                        </div>\r\n                      );\r\n                    },\r\n                  },\r\n                ];\r\n\r\n                const { close } = MessageDialog.Modal({\r\n                  config: {\r\n                    title: '设置数据',\r\n                  },\r\n                  defaultCloseBtn: false,\r\n                  children: (\r\n                    <div style={{ width: '100%' }}>\r\n                      <Table\r\n                        rowKey=\"id\"\r\n                        columns={columns}\r\n                        dataSource={localData}\r\n                        pagination={false}\r\n                      />\r\n                    </div>\r\n                  ),\r\n                });\r\n              }}\r\n            >\r\n              设置数据\r\n            </Button>\r\n          </li>\r\n        </ul>\r\n\r\n        <ul>\r\n          <li>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                const action = new CircleDrawAction();\r\n                action.on(ActionEvents.End, (data) => {\r\n                  action.start();\r\n                });\r\n                polygonSelection.current.changeAction(action);\r\n                action.start();\r\n              }}\r\n            >\r\n              圆形\r\n            </Button>\r\n          </li>\r\n          <li>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                const action = new RectangleDrawAction();\r\n                action.on(ActionEvents.End, (data) => {\r\n                  action.start();\r\n                });\r\n                polygonSelection.current.changeAction(action);\r\n                action.start();\r\n              }}\r\n            >\r\n              矩形\r\n            </Button>\r\n          </li>\r\n          <li>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                const action = new DiamondDrawAction();\r\n                action.on(ActionEvents.End, (data) => {\r\n                  action.start();\r\n                });\r\n                polygonSelection.current.changeAction(action);\r\n                action.start();\r\n              }}\r\n            >\r\n              菱形\r\n            </Button>\r\n          </li>\r\n          <li>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                const action = new TriangleDrawAction();\r\n                action.on(ActionEvents.End, (data) => {\r\n                  action.start();\r\n                });\r\n                polygonSelection.current.changeAction(action);\r\n                action.start();\r\n              }}\r\n            >\r\n              三角形\r\n            </Button>\r\n          </li>\r\n          <li>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                const action = new StartDrawAction();\r\n                action.on(ActionEvents.End, (data) => {\r\n                  action.start();\r\n                });\r\n                polygonSelection.current.changeAction(action);\r\n                action.start();\r\n              }}\r\n            >\r\n              五角星\r\n            </Button>\r\n          </li>\r\n          <li>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                const action = new PolygonDrawAction();\r\n                action.on(ActionEvents.End, (data) => {\r\n                  action.start();\r\n                });\r\n                polygonSelection.current.changeAction(action);\r\n                action.start();\r\n              }}\r\n            >\r\n              多边形\r\n            </Button>\r\n          </li>\r\n          <li>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                const action = new FreeDrawAction();\r\n                action.on(ActionEvents.End, () => {\r\n                  action.start();\r\n                });\r\n                polygonSelection.current.changeAction(action);\r\n                action.start();\r\n              }}\r\n            >\r\n              自由绘制\r\n            </Button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div className={styles.Auto} ref={autoRef} />\r\n    </div>\r\n  );\r\n};\r\n"},{key:"imageselect.less",title:"imageselect.less",codeText:".Wrap {\r\n  display: flex;\r\n  border: 1px solid rgb(0 0 0 / 10%);\r\n}\r\n\r\n.Fixed {\r\n  flex-shrink: 0;\r\n  border-right: 1px solid rgb(0 0 0 / 10%);\r\n\r\n  > ul {\r\n    margin: 0;\r\n    padding: 20px;\r\n    list-style: none;\r\n\r\n    &:not(:last-child) {\r\n      border-bottom: 1px solid rgb(0 0 0 / 10%);\r\n    }\r\n\r\n    > li {\r\n      &:not(:last-child) {\r\n        margin-bottom: 20px;\r\n      }\r\n\r\n      :global(> .ant-btn) {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.Auto {\r\n  position: relative;\r\n  flex-grow: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.OptionWrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 15px;\r\n}\r\n"}],type:"PlayGroundTab",renderChildren:()=>u.createElement(Le,null)},{id:"p2",name:"图片裁剪",cardProps:{description:{title:"图片裁剪",info:"图片裁剪"}},active:"p2.jsx",config:[{key:"p2.jsx",title:"p2.jsx",codeText:"import React from 'react';\r\n\r\nimport Cropping from '../cropping';\r\n\r\nexport default () => <Cropping />;\r\n"},{key:"cropping.jsx",title:"cropping.jsx",codeText:"import React, { useRef, useState } from 'react';\r\n\r\nimport { PolygonSelection as PolygonSelectionModule } from '@baifendian/adhere';\r\n\r\nimport styles from './cropping.less';\r\n\r\nconst { PolygonSelection } = PolygonSelectionModule;\r\n\r\nexport default () => {\r\n  const [value, setValue] = useState('');\r\n\r\n  const ref = useRef();\r\n\r\n  return (\r\n    <div>\r\n      <p>图像裁剪</p>\r\n      <div className={styles.Wrap}>\r\n        <PolygonSelection.Cropping\r\n          ref={ref}\r\n          value={value}\r\n          onChange={(v) => setValue(v)}\r\n          maskClassName={styles.MaskWrap}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"},{key:"cropping.less",title:"cropping.less",codeText:".Wrap {\r\n  width: 100px;\r\n  height: 100px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 50%;\r\n}\r\n\r\n.MaskWrap {\r\n  border-radius: 50%;\r\n}\r\n"}],type:"PlayGroundTab",renderChildren:()=>u.createElement(Ne,null)}]}),u.createElement(d.e6,{title:"Props",config:[{border:!0,title:"Cropping",data:[{params:"className",desc:"",type:"string",defaultVal:""},{params:"style",desc:"",type:"CSSProperties",defaultVal:""},{params:"maskClassName",desc:"",type:"string",defaultVal:""},{params:"maskStyle",desc:"",type:"CSSProperties",defaultVal:""},{params:"mask",desc:"",type:"ReactNode",defaultVal:""},{params:"modalProps",desc:"",type:"ModalProps",defaultVal:""},{params:"coreProps",desc:"",type:"CroppingCoreProps",defaultVal:""},{params:"value",desc:"",type:"string",defaultVal:""},{params:"onChange",desc:"",type:"(base64?: string) => void",defaultVal:""}]},{border:!0,title:"CroppingCore",data:[{params:"className",desc:"",type:"string",defaultVal:""},{params:"style",desc:"",type:"CSSProperties",defaultVal:""},{params:"wrapProps",desc:"",type:"CroppingCoreWrapProps",defaultVal:""},{params:"toolProps",desc:"",type:"CroppingCoreToolProps",defaultVal:""},{params:"areaProps",desc:"",type:"CroppingCoreAreaProps",defaultVal:""},{params:"minHeight",desc:"",type:"number",defaultVal:""},{params:"toolBarConfig",desc:"",type:"\n                  {\n                    direction?: string | 'left' | 'right' | 'top' | 'bottom';\n                    open?: {\n                      render?: (handle?: Function) => ReactNode;\n                      sort?: number;\n                    };\n                    rectangle?: {\n                      render?: (handle?: Function) => ReactNode;\n                      hide?: boolean;\n                      sort?: number;\n                    };\n                    circle?: {\n                      render?: (handle?: Function) => ReactNode;\n                      hide?: boolean;\n                      sort?: number;\n                    };\n                    start: {\n                      render?: (handle?: Function) => ReactNode;\n                      hide?: boolean;\n                      sort?: number;\n                    };\n                    triangle: {\n                      render?: (handle?: Function) => ReactNode;\n                      hide?: boolean;\n                      sort?: number;\n                    };\n                    diamond: {\n                      render?: (handle?: Function) => ReactNode;\n                      hide?: boolean;\n                      sort?: number;\n                    };\n                    polygon: {\n                      render?: (handle?: Function) => ReactNode;\n                      hide?: boolean;\n                      sort?: number;\n                    };\n                  }\n                ",defaultVal:""}]}]}),u.createElement(d.I7,{title:"Api",config:[{border:!0,title:"PolygonSelection",data:[{name:"getCtx",desc:"getCtx",modifier:"public",params:[],returnType:"CanvasRenderingContext2D | null",returnDesc:""},{name:"getCanvasEl",desc:"getCanvasEl",modifier:"public",params:[],returnType:"HTMLCanvasElement | null",returnDesc:""},{name:"getAssistCtx",desc:"getAssistCtx",modifier:"public",params:[],returnType:"CanvasRenderingContext2D | null",returnDesc:""},{name:"getAssistCanvasEl",desc:"getAssistCanvasEl",modifier:"public",params:[],returnType:"HTMLCanvasElement | null",returnDesc:""},{name:"getWidth",desc:"getWidth",modifier:"public",params:[],returnType:"number",returnDesc:""},{name:"getHeight",desc:"getHeight",modifier:"public",params:[],returnType:"number",returnDesc:""},{name:"addHistoryData",desc:"添加一个ActionData到canvasData中",modifier:"public",params:[{name:"data",desc:"data",type:"IActionData",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"removeHistoryDataById",desc:"删除一个ActionData中的数据",modifier:"public",params:[{name:"actionDataId",desc:"actionDataId",type:"string",defaultVal:"",required:"true"}],returnType:"IActionData[]",returnDesc:""},{name:"drawHistoryData",desc:"绘制历史数据",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"getHistoryDataById",desc:"获取历史数据",modifier:"public",params:[{name:"id",desc:"id",type:"string",defaultVal:"",required:"true"}],returnType:"IActionData | null | undefined ",returnDesc:""},{name:"getHistoryData",desc:"获取历史数据",modifier:"public",params:[],returnType:"IActionData[]",returnDesc:""},{name:"setHistoryData",desc:"设置历史数据",modifier:"public",params:[{name:"data",desc:"data",type:"IActionData[]",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"changeAction",desc:"切换一个Action",modifier:"public",params:[{name:"action",desc:"action对象",type:"IAction",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getCurAction",desc:"获取当前的Action",modifier:"public",params:[],returnType:"IAction | null",returnDesc:""},{name:"start",desc:"开始",modifier:"public",params:[{name:"style",desc:"样式",type:"IStyle",defaultVal:"",required:""}],returnType:"void",returnDesc:""},{name:"end",desc:"结束",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"clearDraw",desc:"clearDraw",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"clearAssistDraw",desc:"clearAssistDraw",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setFrontCanvas",desc:"置顶",modifier:"public",params:[{name:"canvasEl",desc:"canvasEl",type:"HTMLCanvasElement",defaultVal:"",required:""}],returnType:"void",returnDesc:""},{name:"setBackCanvas",desc:"置底",modifier:"public",params:[{name:"canvasEl",desc:"canvasEl",type:"HTMLCanvasElement",defaultVal:"",required:""}],returnType:"void",returnDesc:""},{name:"destroy",desc:"销毁",modifier:"public",params:[],returnType:"void",returnDesc:""}]},{border:!0,title:"CircleDrawAction",data:[{name:"booleanPointInData",desc:"booleanPointInData",modifier:"static",params:[{name:"point",desc:"point",type:"IPoint",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"ICircleData",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"draw",desc:"draw",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"ICircleData",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"drawHistoryPath",desc:"绘制历史数据",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"\n                  {\n                    center: IPoint;\n                    radius: number;\n                  }\n                ",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[{name:"style",desc:"style",type:"IStyle",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"获取状态",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"DiamondDrawAction",data:[{name:"booleanPointInData",desc:"booleanPointInData",modifier:"static",params:[{name:"point",desc:"point",type:"IPoint",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"IDiamondData",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"draw",desc:"draw",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"IDiamondData",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"drawHistoryPath",desc:"绘制历史数据",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"\n                  {\n                    leftTopPoint: IPoint | null;\n                    width: number;\n                    height: number;\n                  }\n                ",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[{name:"style",desc:"style",type:"IStyle",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"获取状态",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"FreeDrawAction",data:[{name:"draw",desc:"draw",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"IFreeData",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"drawHistoryPath",desc:"绘制历史数据",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"\n                  {\n                    points: IPoint[];\n                  }\n                ",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[{name:"style",desc:"style",type:"IStyle",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"获取状态",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"PolygonDrawAction",data:[{name:"booleanPointInData",desc:"booleanPointInData",modifier:"static",params:[{name:"point",desc:"point",type:"IPoint",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"IPolygonData",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"draw",desc:"draw",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"IPolygonData",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"drawHistoryPath",desc:"绘制历史数据",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"IPoint[]",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[{name:"style",desc:"style",type:"IStyle",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"获取状态",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"RectangleDrawAction",data:[{name:"booleanPointInData",desc:"booleanPointInData",modifier:"static",params:[{name:"point",desc:"point",type:"IPoint",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"IRectangleData",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"draw",desc:"draw",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"IRectangleData",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"drawHistoryPath",desc:"绘制历史数据",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"\n                  {\n                    leftTopPoint: IPoint | null;\n                    width: number;\n                    height: number;\n                  }\n                ",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[{name:"style",desc:"style",type:"IStyle",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"获取状态",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"StartDrawAction",data:[{name:"booleanPointInData",desc:"booleanPointInData",modifier:"static",params:[{name:"point",desc:"point",type:"IPoint",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"IStartData",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"draw",desc:"draw",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"IStartData",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"drawHistoryPath",desc:"绘制历史数据",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"\n                  {\n                    center: IPoint;\n                    outRadius: number;\n                    innerRadius: number;\n                  }\n                ",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[{name:"style",desc:"style",type:"IStyle",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"获取状态",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"TriangleDrawAction",data:[{name:"booleanPointInData",desc:"booleanPointInData",modifier:"static",params:[{name:"point",desc:"point",type:"IPoint",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"ITriangleData",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"draw",desc:"draw",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"ITriangleData",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"drawHistoryPath",desc:"绘制历史数据",modifier:"static",params:[{name:"ctx",desc:"ctx",type:"CanvasRenderingContext2D",defaultVal:"",required:"true"},{name:"data",desc:"data",type:"\n                  {\n                    points: IPoint[];\n                  }\n                ",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[{name:"style",desc:"style",type:"IStyle",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"获取状态",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"CircleModifyAction",data:[{name:"isCanMove",desc:"isCanMove",modifier:"public",params:[{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[{name:"startPoint",desc:"startPoint",type:"IPoint",defaultVal:"",required:"true"},{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"initMoveEvents",desc:"initMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"clearMoveEvents",desc:"clearMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"onMoveMousedown",desc:"onMoveMousedown",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMousemove",desc:"onMoveMousemove",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMouseup",desc:"onMoveMouseup",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"getStatus",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"DiamondModifyAction",data:[{name:"isCanMove",desc:"isCanMove",modifier:"public",params:[{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[{name:"startPoint",desc:"startPoint",type:"IPoint",defaultVal:"",required:"true"},{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"initMoveEvents",desc:"initMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"clearMoveEvents",desc:"clearMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"onMoveMousedown",desc:"onMoveMousedown",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMousemove",desc:"onMoveMousemove",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMouseup",desc:"onMoveMouseup",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"getStatus",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"PolygonModifyAction",data:[{name:"isCanMove",desc:"isCanMove",modifier:"public",params:[{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[{name:"startPoint",desc:"startPoint",type:"IPoint",defaultVal:"",required:"true"},{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"initMoveEvents",desc:"initMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"clearMoveEvents",desc:"clearMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"onMoveMousedown",desc:"onMoveMousedown",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMousemove",desc:"onMoveMousemove",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMouseup",desc:"onMoveMouseup",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"getStatus",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"RectangleModifyAction",data:[{name:"isCanMove",desc:"isCanMove",modifier:"public",params:[{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[{name:"startPoint",desc:"startPoint",type:"IPoint",defaultVal:"",required:"true"},{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"initMoveEvents",desc:"initMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"clearMoveEvents",desc:"clearMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"onMoveMousedown",desc:"onMoveMousedown",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMousemove",desc:"onMoveMousemove",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMouseup",desc:"onMoveMouseup",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"getStatus",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"StartModifyAction",data:[{name:"isCanMove",desc:"isCanMove",modifier:"public",params:[{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[{name:"startPoint",desc:"startPoint",type:"IPoint",defaultVal:"",required:"true"},{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"initMoveEvents",desc:"initMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"clearMoveEvents",desc:"clearMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"onMoveMousedown",desc:"onMoveMousedown",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMousemove",desc:"onMoveMousemove",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMouseup",desc:"onMoveMouseup",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"getStatus",modifier:"public",params:[],returnType:"number",returnDesc:""}]},{border:!0,title:"TriangleModifyAction",data:[{name:"isCanMove",desc:"isCanMove",modifier:"public",params:[{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"boolean",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"drawMoveGeometry",desc:"drawMoveGeometry",modifier:"public",params:[{name:"startPoint",desc:"startPoint",type:"IPoint",defaultVal:"",required:"true"},{name:"targetPoint",desc:"targetPoint",type:"IPoint",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"initMoveEvents",desc:"initMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"clearMoveEvents",desc:"clearMoveEvents",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"onMoveMousedown",desc:"onMoveMousedown",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMousemove",desc:"onMoveMousemove",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"onMoveMouseup",desc:"onMoveMouseup",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"false"}],returnType:"void",returnDesc:""},{name:"start",desc:"start",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"end",desc:"end",modifier:"public",params:[{name:"e",desc:"e",type:"MouseEvent",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"destroy",desc:"destroy",modifier:"public",params:[],returnType:"void",returnDesc:""},{name:"setContext",desc:"setContext",modifier:"public",params:[{name:"context",desc:"context",type:"IPolygonSelection",defaultVal:"",required:"true"}],returnType:"void",returnDesc:""},{name:"getStatus",desc:"getStatus",modifier:"public",params:[],returnType:"number",returnDesc:""}]}]}))},60842:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var r=n(26322),a=n(96465),o=n(31934),i=n.n(o),s=n(90008),l="adhere-ui-swipe-out",c=(0,r.memo)((function(t){var e=void 0===(e=t.className)?"":e,n=void 0===(n=t.style)?{}:n,a=void 0===(a=t.contentClassName)?"":a,o=void 0===(o=t.contentStyle)?{}:o,c=void 0===(c=t.beforeClassName)?"":c,u=void 0===(u=t.beforeStyle)?{}:u,d=void 0===(d=t.afterClassName)?"":d,p=void 0===(p=t.afterStyle)?{}:p,y=t.before,h=t.after,f=void 0!==(x=t.beforeShow)&&x,v=void 0!==(x=t.afterShow)&&x,m=void 0===(x=t.direction)?"horizontal":x,g=void 0===(x=t.duration)?0:x,x=t.children,D=(0,r.useRef)(null),C=(0,r.useRef)(),w=(0,r.useRef)(new Map([[[!0,!0].toString(),1],[[!1,!1].toString(),1],[[!0,!1].toString(),0],[[!1,!0].toString(),2]]));function M(e,n){t[e]&&t[e](n)}return(0,r.useLayoutEffect)((function(){var t,e;C.current||(e=w.current.get([f,v].toString()),C.current=new s.R(D.current,{init:!1,initialSlide:e,direction:m,slidesPerView:"auto",centeredSlides:!1,spaceBetween:0}),null!=(t=null==(e=null==C?void 0:C.current)?void 0:e.on)&&t.call(e,"init",(function(){return M("onInit")})),null!=(e=null==(t=null==C?void 0:C.current)?void 0:t.on)&&e.call(t,"slideChangeTransitionStart",(function(){var t;return M("onSlideChangeTransitionStart",null==(t=C.current)?void 0:t.activeIndex)})),null!=(t=null==(e=null==C?void 0:C.current)?void 0:e.on)&&t.call(e,"slideChangeTransitionEnd",(function(){var t;return M("onSlideChangeTransitionEnd",null==(t=C.current)?void 0:t.activeIndex)})),null!=(e=null==(t=null==C?void 0:C.current)?void 0:t.init)&&e.call(t))}),[]),(0,r.useEffect)((function(){var t,e;null!=(e=null==(t=null==C?void 0:C.current)?void 0:t.slideTo)&&e.call(t,w.current.get([f,v].toString()),g)}),[f,v,g]),(0,r.useEffect)((function(){C.current&&C.current.changeDirection(m)}),[m]),r.createElement("div",{className:i()(l,"swiper",null!=e?e:""),style:null!=n?n:{},ref:D},r.createElement("div",{className:"swiper-wrapper"},r.createElement("div",{className:i()("swiper-slide","".concat(l,"-before"),null!=c?c:""),style:null!=u?u:{}},null==y?void 0:y()),r.createElement("div",{className:i()("swiper-slide","".concat(l,"-content"),null!=a?a:""),style:null!=o?o:{}},x),r.createElement("div",{className:i()("swiper-slide","".concat(l,"-after"),null!=d?d:""),style:null!=p?p:{}},null==h?void 0:h())))}));c.displayName="SwipeOut";const u=c;var d=n(32517),p=n(58008),y=n(38414),h=n(1025);const f=()=>{const[t,e]=(0,r.useState)([{title:"Ant Design Title 1",beforeShow:!1,afterShow:!1,duration:200},{title:"Ant Design Title 2",beforeShow:!1,afterShow:!1,duration:200},{title:"Ant Design Title 3",beforeShow:!1,afterShow:!1,duration:200},{title:"Ant Design Title 4",beforeShow:!1,afterShow:!1,duration:200}]);return r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement(p.Ay.Group,null,r.createElement(p.Ay.Button,{value:"large",onClick:()=>{e((t=>t.map((t=>({...t,beforeShow:!0,afterShow:!1})))))}},"showBefore"),r.createElement(p.Ay.Button,{value:"default",onClick:()=>{e((t=>t.map((t=>({...t,beforeShow:!1,afterShow:!0})))))}},"showAfter"),r.createElement(p.Ay.Button,{value:"small",onClick:()=>{e((t=>t.map((t=>({...t,beforeShow:!1,afterShow:!1})))))}},"closeAll"))),r.createElement(d.A,{direction:"vertical"}),r.createElement(y.A,{itemLayout:"horizontal",dataSource:t,renderItem:t=>r.createElement(u,{before:()=>r.createElement(p.Ay.Group,null,r.createElement(p.Ay.Button,{value:"large"},"Large"),r.createElement(p.Ay.Button,{value:"default"},"Default"),r.createElement(p.Ay.Button,{value:"small"},"Small")),after:()=>r.createElement(p.Ay.Group,null,r.createElement(p.Ay.Button,{value:"large"},"Large"),r.createElement(p.Ay.Button,{value:"default"},"Default"),r.createElement(p.Ay.Button,{value:"small"},"Small")),beforeShow:t.beforeShow,afterShow:t.afterShow,duration:t.duration},r.createElement(y.A.Item,null,r.createElement(y.A.Item.Meta,{avatar:r.createElement(h.A,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:r.createElement("a",{href:"https://ant.design"},t.title),description:"Ant Design, a design language for background applications, is refined by Ant UED Team"})))}))},v=()=>r.createElement(a.Ay,null,r.createElement(a.wn,{title:"SwipeOut"},r.createElement("p",null,"滑动操作")),r.createElement(a.Wc,{title:"代码演示",columnCount:1,config:[{id:"p1",name:"基本使用",mode:"code",scope:{React:r},cardProps:{description:{title:"基本使用",info:"基本使用"}},type:"PlayGround",codeText:'import { Avatar, List, Radio } from \'antd\';\r\nimport React, { useState } from \'react\';\r\n\r\nimport { Space, SwipeOut } from \'@baifendian/adhere\';\r\n\r\nexport default () => {\r\n  const [data, setData] = useState([\r\n    {\r\n      title: \'Ant Design Title 1\',\r\n      beforeShow: false,\r\n      afterShow: false,\r\n      duration: 200,\r\n    },\r\n    {\r\n      title: \'Ant Design Title 2\',\r\n      beforeShow: false,\r\n      afterShow: false,\r\n      duration: 200,\r\n    },\r\n    {\r\n      title: \'Ant Design Title 3\',\r\n      beforeShow: false,\r\n      afterShow: false,\r\n      duration: 200,\r\n    },\r\n    {\r\n      title: \'Ant Design Title 4\',\r\n      beforeShow: false,\r\n      afterShow: false,\r\n      duration: 200,\r\n    },\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <Radio.Group>\r\n          <Radio.Button\r\n            value="large"\r\n            onClick={() => {\r\n              setData((record) =>\r\n                record.map((t) => ({ ...t, beforeShow: true, afterShow: false })),\r\n              );\r\n            }}\r\n          >\r\n            showBefore\r\n          </Radio.Button>\r\n          <Radio.Button\r\n            value="default"\r\n            onClick={() => {\r\n              setData((record) =>\r\n                record.map((t) => ({ ...t, beforeShow: false, afterShow: true })),\r\n              );\r\n            }}\r\n          >\r\n            showAfter\r\n          </Radio.Button>\r\n          <Radio.Button\r\n            value="small"\r\n            onClick={() => {\r\n              setData((record) =>\r\n                record.map((t) => ({ ...t, beforeShow: false, afterShow: false })),\r\n              );\r\n            }}\r\n          >\r\n            closeAll\r\n          </Radio.Button>\r\n        </Radio.Group>\r\n      </div>\r\n\r\n      <Space direction="vertical" />\r\n\r\n      <List\r\n        itemLayout="horizontal"\r\n        dataSource={data}\r\n        renderItem={(item) => (\r\n          <SwipeOut\r\n            before={() => (\r\n              <Radio.Group>\r\n                <Radio.Button value="large">Large</Radio.Button>\r\n                <Radio.Button value="default">Default</Radio.Button>\r\n                <Radio.Button value="small">Small</Radio.Button>\r\n              </Radio.Group>\r\n            )}\r\n            after={() => (\r\n              <Radio.Group>\r\n                <Radio.Button value="large">Large</Radio.Button>\r\n                <Radio.Button value="default">Default</Radio.Button>\r\n                <Radio.Button value="small">Small</Radio.Button>\r\n              </Radio.Group>\r\n            )}\r\n            beforeShow={item.beforeShow}\r\n            afterShow={item.afterShow}\r\n            duration={item.duration}\r\n          >\r\n            <List.Item>\r\n              <List.Item.Meta\r\n                avatar={\r\n                  <Avatar src="https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png" />\r\n                }\r\n                title={<a href="https://ant.design">{item.title}</a>}\r\n                description="Ant Design, a design language for background applications, is refined by Ant UED Team"\r\n              />\r\n            </List.Item>\r\n          </SwipeOut>\r\n        )}\r\n      />\r\n    </>\r\n  );\r\n};\r\n',renderChildren:()=>r.createElement(f,null)}]}),r.createElement(a.e6,{title:"Props",config:[{border:!0,title:"属性",data:[{params:"className",desc:"附加的样式表",type:"string",defaultVal:""},{params:"style",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"beforeClassName",desc:"附加的样式表",type:"string",defaultVal:""},{params:"beforeStyle",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"afterClassName",desc:"附加的样式表",type:"string",defaultVal:""},{params:"afterStyle",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"contentClassName",desc:"附加的样式表",type:"string",defaultVal:""},{params:"contentStyle",desc:"附加的样式",type:"React.CSSProperties",defaultVal:""},{params:"beforeShow",desc:"是否显示内容之前的操作",type:"boolean",defaultVal:"false"},{params:"afterShow",desc:"是否显示内容之后的操作",type:"boolean",defaultVal:"false"},{params:"direction",desc:"方向",type:"'horizontal' | 'vertical'",defaultVal:"horizontal"},{params:"before",desc:"内容之前的UI",type:"() => React.ReactElement",defaultVal:""},{params:"after",desc:"内容之后的UI",type:"() => React.ReactElement",defaultVal:""},{params:"duration",desc:"beforeShow和afterShow的持续时间(毫秒)",type:"number",defaultVal:"200"},{params:"onInit",desc:"onInit",type:"() => void",defaultVal:""},{params:"slideChangeTransitionStart",desc:"slideChangeTransitionStart",type:"() => void",defaultVal:""},{params:"slideChangeTransitionEnd",desc:"slideChangeTransitionEnd",type:"() => void",defaultVal:""}]}]}))},73376:(t,e,n)=>{n.d(e,{A:()=>y});var r=n(86662),a=n(86056),o=n(26322),i=n(90264),s=n(38948);const l="fdFKYQbTadYRAFXyIsyC",c="TGQfKkX166qX5wG5Oi6O",u="xoMDGjw3kWAGwRmDVR2l",d="juDjVuIAwAS6vlI_lwTq",p="s2U_wfx5rmRlV8iKcHg5",y=()=>o.createElement("ul",{className:l},o.createElement("li",{className:c},o.createElement("dl",null,o.createElement("dt",null,"相关资源"),o.createElement("dd",null,o.createElement("ul",{className:u},o.createElement("li",{className:d},"自主研发",o.createElement("ul",null,o.createElement("li",null,o.createElement("a",{href:"http://49.232.163.126:8084/",target:"_blank",rel:"noopener noreferrer"},"adherev")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-BUILD",target:"_blank",rel:"noopener noreferrer"},"CTSJ-BUILD")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-BUILDV",target:"_blank",rel:"noopener noreferrer"},"CTSJ-BUILDV")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-STATE",target:"_blank",rel:"noopener noreferrer"},"CTSJ-STATE")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-ROUTER",target:"_blank",rel:"noopener noreferrer"},"CTSJ-ROUTER")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-VuexGenerator",target:"_blank",rel:"noopener noreferrer"},"CTSJ-VuexGenerator")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-React-SSR",target:"_blank",rel:"noopener noreferrer"},"CTSJ-React-SSR")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-DOC",target:"_blank",rel:"noopener noreferrer"},"CTSJ-DOC")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/CTSJ-DvaGenerator",target:"_blank",rel:"noopener noreferrer"},"CTSJ-DvaGenerator")),o.createElement("li",null,o.createElement("a",{href:"https://github.com/playerljc/WebViewJavascriptBridge",target:"_blank",rel:"noopener noreferrer"},"WebViewJavascriptBridge")))),o.createElement("li",{className:d},"模板工程",o.createElement("ul",null,o.createElement("li",null,o.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/adhere",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)")),o.createElement("li",null,o.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/polyfill",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)(支持IE)")),o.createElement("li",null,o.createElement("a",{href:"https://gitee.com/playerljc/ReactPro/tree/adhere-webpack5-js-ssr",target:"_blank",rel:"noopener noreferrer"},"ReactPro(G1)(SSR)")),o.createElement("li",null,o.createElement("a",{href:"https://gitee.com/playerljc/AntPro",target:"_blank",rel:"noopener noreferrer"},"AntPro(G1)")),o.createElement("li",null,o.createElement("a",{href:"http://git.baifendian.com/dongxu.guo/ReactWeb",target:"_blank",rel:"noopener noreferrer"},"ReactWeb(G3)")),o.createElement("li",null,o.createElement("a",{href:"http://git.baifendian.com/bo.li/Percent_Vue_Admin.git",target:"_blank",rel:"noopener noreferrer"},"PercentVue(G3)")),o.createElement("li",null,o.createElement("a",{href:"https://gitee.com/playerljc/VuePro",target:"_blank",rel:"noopener noreferrer"},"VuePro(G1)")))))))),o.createElement("li",{className:c},o.createElement("dl",null,o.createElement("dt",null,"帮助"),o.createElement("dd",null,o.createElement("ul",{className:u},o.createElement("li",{className:d},o.createElement("a",{href:s.Jk.O,target:"_blank",rel:"noopener noreferrer"},o.createElement(a.A,null),o.createElement("span",{className:p},"Gitlib"))),o.createElement("li",{className:d},o.createElement(i.N_,{to:"/adhere/changelog"},o.createElement(r.A,null),o.createElement("span",{className:p},"更新日志"))))))))},96465:(t,e,n)=>{n.d(e,{Wc:()=>p,I7:()=>h,e6:()=>y,wn:()=>d,Ay:()=>f});var r=n(71860),a=n(24370),o=n(26322),i=n(73376);const s="xpgSrI_YtLJ2DLwvO1Cq",l="KHCbMGLwqpj8TVQmsF1m",{PlayGroundPageContext:c,PlayGroundPage:u}=a.A,{Section:d,CodeBoxSection:p,PropsSection:y,FunctionPropsSection:h}=u;const f=function(t){let{children:e,onScrollBottom:n,distance:a=50,...d}=t;const[p,y]=(0,o.useState)(),h=(0,o.useRef)();return(0,o.useEffect)((()=>{y(h.current)}),[]),o.createElement(c.Provider,{value:{scrollEl:null!=p?p:document.body}},o.createElement(u,(0,r.A)({ref:h,className:s,anchorNavigationAutoClassName:l,anchorNavigationFixedClassName:l},d),e,o.createElement(i.A,null)))}},32517:(t,e,n)=>{n.d(e,{A:()=>r});const r=n(2382).A},53304:(t,e,n)=>{n.d(e,{A:()=>r});const r=n(16937).A},38948:t=>{t.exports=JSON.parse('{"rE":"2.11.0","Jk":{"O":"https://github.com/playerljc/adhere"}}')}}]);